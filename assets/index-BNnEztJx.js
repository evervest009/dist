const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/secp256k1-C7MIn_Tq.js","assets/hmac-BhKMtS3b.js","assets/secp256k1-WK3nkxTV.js","assets/embedded-wallet-UMjxmK1P.js","assets/if-defined-kGaDxgCo.js","assets/index-Ca0vQ8S6.js","assets/index-D1Z_tajt.js","assets/index-DaIhofiQ.js","assets/index-CFQrB1I6.js","assets/index-DL9b3BZX.js","assets/index-CQw-APLW.js","assets/index-DGwObpnQ.js","assets/index-B4sigxnM.js","assets/email-DMPYznua.js","assets/index-BLaWbmPB.js","assets/socials-CiE3Yjax.js","assets/index-Be1oOXZc.js","assets/index-BNeSSkoU.js","assets/index-CxHFnutm.js","assets/index-DLk6gy7r.js","assets/swaps-Bh0zEFdn.js","assets/index-DtQLia4u.js","assets/index-BswBLVKt.js","assets/index-B6CpFVI8.js","assets/send-uw3BM2M4.js","assets/index-DvG5FQJb.js","assets/receive-B8MOduo1.js","assets/index-C-T-LjIn.js","assets/onramp-CugxnU8v.js","assets/index-CVvlAfXO.js","assets/index-DMQSdFQB.js","assets/transactions-Css7ciIb.js","assets/index-D2IgWg4p.js","assets/index-Soek7O2e.js","assets/index-CcoxZkhs.js","assets/w3m-modal-CXv8_2wn.js"])))=>i.map(i=>d[i]);
var UT=t=>{throw TypeError(t)};var tE=(t,e,r)=>e.has(t)||UT("Cannot "+r);var X=(t,e,r)=>(tE(t,e,"read from private field"),r?r.call(t):e.get(t)),Ge=(t,e,r)=>e.has(t)?UT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Oe=(t,e,r,n)=>(tE(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ft=(t,e,r)=>(tE(t,e,"access private method"),r);var yy=(t,e,r,n)=>({set _(i){Oe(t,e,i,r)},get _(){return X(t,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ea=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kw(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var rE={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function VL(){if(FT)return wt;FT=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function m(L){return L===null||typeof L!="object"?null:(L=f&&L[f]||L["@@iterator"],typeof L=="function"?L:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function C(L,J,re){this.props=L,this.context=J,this.refs=E,this.updater=re||g}C.prototype.isReactComponent={},C.prototype.setState=function(L,J){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,J,"setState")},C.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function N(){}N.prototype=C.prototype;function D(L,J,re){this.props=L,this.context=J,this.refs=E,this.updater=re||g}var F=D.prototype=new N;F.constructor=D,w(F,C.prototype),F.isPureReactComponent=!0;var V=Array.isArray,q=Object.prototype.hasOwnProperty,j={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function $(L,J,re){var ie,de={},pe=null,Ae=null;if(J!=null)for(ie in J.ref!==void 0&&(Ae=J.ref),J.key!==void 0&&(pe=""+J.key),J)q.call(J,ie)&&!U.hasOwnProperty(ie)&&(de[ie]=J[ie]);var De=arguments.length-2;if(De===1)de.children=re;else if(1<De){for(var Ie=Array(De),ze=0;ze<De;ze++)Ie[ze]=arguments[ze+2];de.children=Ie}if(L&&L.defaultProps)for(ie in De=L.defaultProps,De)de[ie]===void 0&&(de[ie]=De[ie]);return{$$typeof:t,type:L,key:pe,ref:Ae,props:de,_owner:j.current}}function k(L,J){return{$$typeof:t,type:L.type,key:J,ref:L.ref,props:L.props,_owner:L._owner}}function W(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function x(L){var J={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(re){return J[re]})}var v=/\/+/g;function _(L,J){return typeof L=="object"&&L!==null&&L.key!=null?x(""+L.key):J.toString(36)}function T(L,J,re,ie,de){var pe=typeof L;(pe==="undefined"||pe==="boolean")&&(L=null);var Ae=!1;if(L===null)Ae=!0;else switch(pe){case"string":case"number":Ae=!0;break;case"object":switch(L.$$typeof){case t:case e:Ae=!0}}if(Ae)return Ae=L,de=de(Ae),L=ie===""?"."+_(Ae,0):ie,V(de)?(re="",L!=null&&(re=L.replace(v,"$&/")+"/"),T(de,J,re,"",function(ze){return ze})):de!=null&&(W(de)&&(de=k(de,re+(!de.key||Ae&&Ae.key===de.key?"":(""+de.key).replace(v,"$&/")+"/")+L)),J.push(de)),1;if(Ae=0,ie=ie===""?".":ie+":",V(L))for(var De=0;De<L.length;De++){pe=L[De];var Ie=ie+_(pe,De);Ae+=T(pe,J,re,Ie,de)}else if(Ie=m(L),typeof Ie=="function")for(L=Ie.call(L),De=0;!(pe=L.next()).done;)pe=pe.value,Ie=ie+_(pe,De++),Ae+=T(pe,J,re,Ie,de);else if(pe==="object")throw J=String(L),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Ae}function I(L,J,re){if(L==null)return L;var ie=[],de=0;return T(L,ie,"","",function(pe){return J.call(re,pe,de++)}),ie}function P(L){if(L._status===-1){var J=L._result;J=J(),J.then(function(re){(L._status===0||L._status===-1)&&(L._status=1,L._result=re)},function(re){(L._status===0||L._status===-1)&&(L._status=2,L._result=re)}),L._status===-1&&(L._status=0,L._result=J)}if(L._status===1)return L._result.default;throw L._result}var M={current:null},z={transition:null},B={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:z,ReactCurrentOwner:j};function A(){throw Error("act(...) is not supported in production builds of React.")}return wt.Children={map:I,forEach:function(L,J,re){I(L,function(){J.apply(this,arguments)},re)},count:function(L){var J=0;return I(L,function(){J++}),J},toArray:function(L){return I(L,function(J){return J})||[]},only:function(L){if(!W(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},wt.Component=C,wt.Fragment=r,wt.Profiler=i,wt.PureComponent=D,wt.StrictMode=n,wt.Suspense=u,wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,wt.act=A,wt.cloneElement=function(L,J,re){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var ie=w({},L.props),de=L.key,pe=L.ref,Ae=L._owner;if(J!=null){if(J.ref!==void 0&&(pe=J.ref,Ae=j.current),J.key!==void 0&&(de=""+J.key),L.type&&L.type.defaultProps)var De=L.type.defaultProps;for(Ie in J)q.call(J,Ie)&&!U.hasOwnProperty(Ie)&&(ie[Ie]=J[Ie]===void 0&&De!==void 0?De[Ie]:J[Ie])}var Ie=arguments.length-2;if(Ie===1)ie.children=re;else if(1<Ie){De=Array(Ie);for(var ze=0;ze<Ie;ze++)De[ze]=arguments[ze+2];ie.children=De}return{$$typeof:t,type:L.type,key:de,ref:pe,props:ie,_owner:Ae}},wt.createContext=function(L){return L={$$typeof:o,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:s,_context:L},L.Consumer=L},wt.createElement=$,wt.createFactory=function(L){var J=$.bind(null,L);return J.type=L,J},wt.createRef=function(){return{current:null}},wt.forwardRef=function(L){return{$$typeof:a,render:L}},wt.isValidElement=W,wt.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:P}},wt.memo=function(L,J){return{$$typeof:l,type:L,compare:J===void 0?null:J}},wt.startTransition=function(L){var J=z.transition;z.transition={};try{L()}finally{z.transition=J}},wt.unstable_act=A,wt.useCallback=function(L,J){return M.current.useCallback(L,J)},wt.useContext=function(L){return M.current.useContext(L)},wt.useDebugValue=function(){},wt.useDeferredValue=function(L){return M.current.useDeferredValue(L)},wt.useEffect=function(L,J){return M.current.useEffect(L,J)},wt.useId=function(){return M.current.useId()},wt.useImperativeHandle=function(L,J,re){return M.current.useImperativeHandle(L,J,re)},wt.useInsertionEffect=function(L,J){return M.current.useInsertionEffect(L,J)},wt.useLayoutEffect=function(L,J){return M.current.useLayoutEffect(L,J)},wt.useMemo=function(L,J){return M.current.useMemo(L,J)},wt.useReducer=function(L,J,re){return M.current.useReducer(L,J,re)},wt.useRef=function(L){return M.current.useRef(L)},wt.useState=function(L){return M.current.useState(L)},wt.useSyncExternalStore=function(L,J,re){return M.current.useSyncExternalStore(L,J,re)},wt.useTransition=function(){return M.current.useTransition()},wt.version="18.3.1",wt}var $T;function zl(){return $T||($T=1,rE.exports=VL()),rE.exports}var se=zl();const qL=pd(se);var vy={},nE={exports:{}},Vi={},iE={exports:{}},sE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function zL(){return BT||(BT=1,function(t){function e(z,B){var A=z.length;z.push(B);e:for(;0<A;){var L=A-1>>>1,J=z[L];if(0<i(J,B))z[L]=B,z[A]=J,A=L;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var B=z[0],A=z.pop();if(A!==B){z[0]=A;e:for(var L=0,J=z.length,re=J>>>1;L<re;){var ie=2*(L+1)-1,de=z[ie],pe=ie+1,Ae=z[pe];if(0>i(de,A))pe<J&&0>i(Ae,de)?(z[L]=Ae,z[pe]=A,L=pe):(z[L]=de,z[ie]=A,L=ie);else if(pe<J&&0>i(Ae,A))z[L]=Ae,z[pe]=A,L=pe;else break e}}return B}function i(z,B){var A=z.sortIndex-B.sortIndex;return A!==0?A:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],h=1,f=null,m=3,g=!1,w=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(z){for(var B=r(l);B!==null;){if(B.callback===null)n(l);else if(B.startTime<=z)n(l),B.sortIndex=B.expirationTime,e(u,B);else break;B=r(l)}}function V(z){if(E=!1,F(z),!w)if(r(u)!==null)w=!0,P(q);else{var B=r(l);B!==null&&M(V,B.startTime-z)}}function q(z,B){w=!1,E&&(E=!1,N($),$=-1),g=!0;var A=m;try{for(F(B),f=r(u);f!==null&&(!(f.expirationTime>B)||z&&!x());){var L=f.callback;if(typeof L=="function"){f.callback=null,m=f.priorityLevel;var J=L(f.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?f.callback=J:f===r(u)&&n(u),F(B)}else n(u);f=r(u)}if(f!==null)var re=!0;else{var ie=r(l);ie!==null&&M(V,ie.startTime-B),re=!1}return re}finally{f=null,m=A,g=!1}}var j=!1,U=null,$=-1,k=5,W=-1;function x(){return!(t.unstable_now()-W<k)}function v(){if(U!==null){var z=t.unstable_now();W=z;var B=!0;try{B=U(!0,z)}finally{B?_():(j=!1,U=null)}}else j=!1}var _;if(typeof D=="function")_=function(){D(v)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,I=T.port2;T.port1.onmessage=v,_=function(){I.postMessage(null)}}else _=function(){C(v,0)};function P(z){U=z,j||(j=!0,_())}function M(z,B){$=C(function(){z(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,P(q))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var A=m;m=B;try{return z()}finally{m=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var A=m;m=z;try{return B()}finally{m=A}},t.unstable_scheduleCallback=function(z,B,A){var L=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?L+A:L):A=L,z){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=A+J,z={id:h++,callback:B,priorityLevel:z,startTime:A,expirationTime:J,sortIndex:-1},A>L?(z.sortIndex=A,e(l,z),r(u)===null&&z===r(l)&&(E?(N($),$=-1):E=!0,M(V,A-L))):(z.sortIndex=J,e(u,z),w||g||(w=!0,P(q))),z},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(z){var B=m;return function(){var A=m;m=B;try{return z.apply(this,arguments)}finally{m=A}}}}(sE)),sE}var jT;function HL(){return jT||(jT=1,iE.exports=zL()),iE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT;function WL(){if(VT)return Vi;VT=1;var t=zl(),e=HL();function r(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,p=1;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(c,d){o(c,d),o(c+"Capture",d)}function o(c,d){for(i[c]=d,c=0;c<d.length;c++)n.add(d[c])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,l=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(c){return u.call(f,c)?!0:u.call(h,c)?!1:l.test(c)?f[c]=!0:(h[c]=!0,!1)}function g(c,d,p,b){if(p!==null&&p.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return b?!1:p!==null?!p.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function w(c,d,p,b){if(d===null||typeof d>"u"||g(c,d,p,b))return!0;if(b)return!1;if(p!==null)switch(p.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function E(c,d,p,b,S,O,K){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=b,this.attributeNamespace=S,this.mustUseProperty=p,this.propertyName=c,this.type=d,this.sanitizeURL=O,this.removeEmptyString=K}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){C[c]=new E(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];C[d]=new E(d,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){C[c]=new E(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){C[c]=new E(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){C[c]=new E(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){C[c]=new E(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){C[c]=new E(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){C[c]=new E(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){C[c]=new E(c,5,!1,c.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function D(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(N,D);C[d]=new E(d,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(N,D);C[d]=new E(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(N,D);C[d]=new E(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){C[c]=new E(c,1,!1,c.toLowerCase(),null,!1,!1)}),C.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){C[c]=new E(c,1,!1,c.toLowerCase(),null,!0,!0)});function F(c,d,p,b){var S=C.hasOwnProperty(d)?C[d]:null;(S!==null?S.type!==0:b||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(w(d,p,S,b)&&(p=null),b||S===null?m(d)&&(p===null?c.removeAttribute(d):c.setAttribute(d,""+p)):S.mustUseProperty?c[S.propertyName]=p===null?S.type===3?!1:"":p:(d=S.attributeName,b=S.attributeNamespace,p===null?c.removeAttribute(d):(S=S.type,p=S===3||S===4&&p===!0?"":""+p,b?c.setAttributeNS(b,d,p):c.setAttribute(d,p))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),j=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),x=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),z=Symbol.iterator;function B(c){return c===null||typeof c!="object"?null:(c=z&&c[z]||c["@@iterator"],typeof c=="function"?c:null)}var A=Object.assign,L;function J(c){if(L===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);L=d&&d[1]||""}return`
`+L+c}var re=!1;function ie(c,d){if(!c||re)return"";re=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(le){var b=le}Reflect.construct(c,[],d)}else{try{d.call()}catch(le){b=le}c.call(d.prototype)}else{try{throw Error()}catch(le){b=le}c()}}catch(le){if(le&&b&&typeof le.stack=="string"){for(var S=le.stack.split(`
`),O=b.stack.split(`
`),K=S.length-1,Z=O.length-1;1<=K&&0<=Z&&S[K]!==O[Z];)Z--;for(;1<=K&&0<=Z;K--,Z--)if(S[K]!==O[Z]){if(K!==1||Z!==1)do if(K--,Z--,0>Z||S[K]!==O[Z]){var te=`
`+S[K].replace(" at new "," at ");return c.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",c.displayName)),te}while(1<=K&&0<=Z);break}}}finally{re=!1,Error.prepareStackTrace=p}return(c=c?c.displayName||c.name:"")?J(c):""}function de(c){switch(c.tag){case 5:return J(c.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return c=ie(c.type,!1),c;case 11:return c=ie(c.type.render,!1),c;case 1:return c=ie(c.type,!0),c;default:return""}}function pe(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case U:return"Fragment";case j:return"Portal";case k:return"Profiler";case $:return"StrictMode";case _:return"Suspense";case T:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case x:return(c.displayName||"Context")+".Consumer";case W:return(c._context.displayName||"Context")+".Provider";case v:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case I:return d=c.displayName||null,d!==null?d:pe(c.type)||"Memo";case P:d=c._payload,c=c._init;try{return pe(c(d))}catch{}}return null}function Ae(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(d);case 8:return d===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function De(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Ie(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ze(c){var d=Ie(c)?"checked":"value",p=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),b=""+c[d];if(!c.hasOwnProperty(d)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var S=p.get,O=p.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return S.call(this)},set:function(K){b=""+K,O.call(this,K)}}),Object.defineProperty(c,d,{enumerable:p.enumerable}),{getValue:function(){return b},setValue:function(K){b=""+K},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function ar(c){c._valueTracker||(c._valueTracker=ze(c))}function yt(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var p=d.getValue(),b="";return c&&(b=Ie(c)?c.checked?"true":"false":c.value),c=b,c!==p?(d.setValue(c),!0):!1}function dt(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Gr(c,d){var p=d.checked;return A({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??c._wrapperState.initialChecked})}function _t(c,d){var p=d.defaultValue==null?"":d.defaultValue,b=d.checked!=null?d.checked:d.defaultChecked;p=De(d.value!=null?d.value:p),c._wrapperState={initialChecked:b,initialValue:p,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Pt(c,d){d=d.checked,d!=null&&F(c,"checked",d,!1)}function ii(c,d){Pt(c,d);var p=De(d.value),b=d.type;if(p!=null)b==="number"?(p===0&&c.value===""||c.value!=p)&&(c.value=""+p):c.value!==""+p&&(c.value=""+p);else if(b==="submit"||b==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?Lt(c,d.type,p):d.hasOwnProperty("defaultValue")&&Lt(c,d.type,De(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function Qt(c,d,p){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var b=d.type;if(!(b!=="submit"&&b!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,p||d===c.value||(c.value=d),c.defaultValue=d}p=c.name,p!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,p!==""&&(c.name=p)}function Lt(c,d,p){(d!=="number"||dt(c.ownerDocument)!==c)&&(p==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+p&&(c.defaultValue=""+p))}var Tn=Array.isArray;function At(c,d,p,b){if(c=c.options,d){d={};for(var S=0;S<p.length;S++)d["$"+p[S]]=!0;for(p=0;p<c.length;p++)S=d.hasOwnProperty("$"+c[p].value),c[p].selected!==S&&(c[p].selected=S),S&&b&&(c[p].defaultSelected=!0)}else{for(p=""+De(p),d=null,S=0;S<c.length;S++){if(c[S].value===p){c[S].selected=!0,b&&(c[S].defaultSelected=!0);return}d!==null||c[S].disabled||(d=c[S])}d!==null&&(d.selected=!0)}}function Ft(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return A({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function _i(c,d){var p=d.value;if(p==null){if(p=d.children,d=d.defaultValue,p!=null){if(d!=null)throw Error(r(92));if(Tn(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),p=d}c._wrapperState={initialValue:De(p)}}function St(c,d){var p=De(d.value),b=De(d.defaultValue);p!=null&&(p=""+p,p!==c.value&&(c.value=p),d.defaultValue==null&&c.defaultValue!==p&&(c.defaultValue=p)),b!=null&&(c.defaultValue=""+b)}function Rt(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function cr(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?cr(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var $t,Co=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,p,b,S){MSApp.execUnsafeLocalFunction(function(){return c(d,p,b,S)})}:c}(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for($t=$t||document.createElement("div"),$t.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=$t.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function Kt(c,d){if(d){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=d;return}}c.textContent=d}var lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},So=["Webkit","ms","Moz","O"];Object.keys(lr).forEach(function(c){So.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),lr[d]=lr[c]})});function Tr(c,d,p){return d==null||typeof d=="boolean"||d===""?"":p||typeof d!="number"||d===0||lr.hasOwnProperty(c)&&lr[c]?(""+d).trim():d+"px"}function xr(c,d){c=c.style;for(var p in d)if(d.hasOwnProperty(p)){var b=p.indexOf("--")===0,S=Tr(p,d[p],b);p==="float"&&(p="cssFloat"),b?c.setProperty(p,S):c[p]=S}}var mc=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nr(c,d){if(d){if(mc[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Pr(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=null;function gr(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var yr=null,Ai=null,Gt=null;function vr(c){if(c=mp(c)){if(typeof yr!="function")throw Error(r(280));var d=c.stateNode;d&&(d=O0(d),yr(c.stateNode,c.type,d))}}function ss(c){Ai?Gt?Gt.push(c):Gt=[c]:Ai=c}function Rr(){if(Ai){var c=Ai,d=Gt;if(Gt=Ai=null,vr(c),d)for(c=0;c<d.length;c++)vr(d[c])}}function ur(c,d){return c(d)}function gc(){}var Yt=!1;function Or(c,d,p){if(Yt)return c(d,p);Yt=!0;try{return ur(c,d,p)}finally{Yt=!1,(Ai!==null||Gt!==null)&&(gc(),Rr())}}function qr(c,d){var p=c.stateNode;if(p===null)return null;var b=O0(p);if(b===null)return null;p=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(c=c.type,b=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!b;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(r(231,d,typeof p));return p}var wr=!1;if(a)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){wr=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch{wr=!1}function To(c,d,p,b,S,O,K,Z,te){var le=Array.prototype.slice.call(arguments,3);try{d.apply(p,le)}catch(ge){this.onError(ge)}}var dr=!1,br=null,Di=!1,kr=null,zr={onError:function(c){dr=!0,br=c}};function ba(c,d,p,b,S,O,K,Z,te){dr=!1,br=null,To.apply(zr,arguments)}function Fr(c,d,p,b,S,O,K,Z,te){if(ba.apply(this,arguments),dr){if(dr){var le=br;dr=!1,br=null}else throw Error(r(198));Di||(Di=!0,kr=le)}}function jt(c){var d=c,p=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(p=d.return),c=d.return;while(c)}return d.tag===3?p:null}function Ws(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function Ci(c){if(jt(c)!==c)throw Error(r(188))}function yc(c){var d=c.alternate;if(!d){if(d=jt(c),d===null)throw Error(r(188));return d!==c?null:c}for(var p=c,b=d;;){var S=p.return;if(S===null)break;var O=S.alternate;if(O===null){if(b=S.return,b!==null){p=b;continue}break}if(S.child===O.child){for(O=S.child;O;){if(O===p)return Ci(S),c;if(O===b)return Ci(S),d;O=O.sibling}throw Error(r(188))}if(p.return!==b.return)p=S,b=O;else{for(var K=!1,Z=S.child;Z;){if(Z===p){K=!0,p=S,b=O;break}if(Z===b){K=!0,b=S,p=O;break}Z=Z.sibling}if(!K){for(Z=O.child;Z;){if(Z===p){K=!0,p=O,b=S;break}if(Z===b){K=!0,b=O,p=S;break}Z=Z.sibling}if(!K)throw Error(r(189))}}if(p.alternate!==b)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?c:d}function Ea(c){return c=yc(c),c!==null?xo(c):null}function xo(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=xo(c);if(d!==null)return d;c=c.sibling}return null}var No=e.unstable_scheduleCallback,_a=e.unstable_cancelCallback,vc=e.unstable_shouldYield,Gl=e.unstable_requestPaint,Jt=e.unstable_now,wc=e.unstable_getCurrentPriorityLevel,Ks=e.unstable_ImmediatePriority,Es=e.unstable_UserBlockingPriority,si=e.unstable_NormalPriority,Aa=e.unstable_LowPriority,bc=e.unstable_IdlePriority,Gs=null,Bn=null;function Ec(c){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(Gs,c,void 0,(c.current.flags&128)===128)}catch{}}var Si=Math.clz32?Math.clz32:u0,Xf=Math.log,l0=Math.LN2;function u0(c){return c>>>=0,c===0?32:31-(Xf(c)/l0|0)|0}var Id=64,Td=4194304;function _c(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Ql(c,d){var p=c.pendingLanes;if(p===0)return 0;var b=0,S=c.suspendedLanes,O=c.pingedLanes,K=p&268435455;if(K!==0){var Z=K&~S;Z!==0?b=_c(Z):(O&=K,O!==0&&(b=_c(O)))}else K=p&~S,K!==0?b=_c(K):O!==0&&(b=_c(O));if(b===0)return 0;if(d!==0&&d!==b&&(d&S)===0&&(S=b&-b,O=d&-d,S>=O||S===16&&(O&4194240)!==0))return d;if((b&4)!==0&&(b|=p&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=b;0<d;)p=31-Si(d),S=1<<p,b|=c[p],d&=~S;return b}function Rb(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ca(c,d){for(var p=c.suspendedLanes,b=c.pingedLanes,S=c.expirationTimes,O=c.pendingLanes;0<O;){var K=31-Si(O),Z=1<<K,te=S[K];te===-1?((Z&p)===0||(Z&b)!==0)&&(S[K]=Rb(Z,d)):te<=d&&(c.expiredLanes|=Z),O&=~Z}}function os(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Yl(){var c=Id;return Id<<=1,(Id&4194240)===0&&(Id=64),c}function Ac(c){for(var d=[],p=0;31>p;p++)d.push(c);return d}function Cc(c,d,p){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-Si(d),c[d]=p}function Er(c,d){var p=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var b=c.eventTimes;for(c=c.expirationTimes;0<p;){var S=31-Si(p),O=1<<S;d[S]=0,b[S]=-1,c[S]=-1,p&=~O}}function Sc(c,d){var p=c.entangledLanes|=d;for(c=c.entanglements;p;){var b=31-Si(p),S=1<<b;S&d|c[b]&d&&(c[b]|=d),p&=~S}}var It=0;function Ic(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var d0,xd,h0,f0,p0,ep=!1,Po=[],jn=null,Qs=null,Ys=null,Tc=new Map,_s=new Map,Ro=[],Ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m0(c,d){switch(c){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":Tc.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(d.pointerId)}}function Mi(c,d,p,b,S,O){return c===null||c.nativeEvent!==O?(c={blockedOn:d,domEventName:p,eventSystemFlags:b,nativeEvent:O,targetContainers:[S]},d!==null&&(d=mp(d),d!==null&&xd(d)),c):(c.eventSystemFlags|=b,d=c.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),c)}function kb(c,d,p,b,S){switch(d){case"focusin":return jn=Mi(jn,c,d,p,b,S),!0;case"dragenter":return Qs=Mi(Qs,c,d,p,b,S),!0;case"mouseover":return Ys=Mi(Ys,c,d,p,b,S),!0;case"pointerover":var O=S.pointerId;return Tc.set(O,Mi(Tc.get(O)||null,c,d,p,b,S)),!0;case"gotpointercapture":return O=S.pointerId,_s.set(O,Mi(_s.get(O)||null,c,d,p,b,S)),!0}return!1}function g0(c){var d=tu(c.target);if(d!==null){var p=jt(d);if(p!==null){if(d=p.tag,d===13){if(d=Ws(p),d!==null){c.blockedOn=d,p0(c.priority,function(){h0(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Sa(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var p=Nd(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(p===null){p=c.nativeEvent;var b=new p.constructor(p.type,p);Io=b,p.target.dispatchEvent(b),Io=null}else return d=mp(p),d!==null&&xd(d),c.blockedOn=p,!1;d.shift()}return!0}function Jl(c,d,p){Sa(c)&&p.delete(d)}function y0(){ep=!1,jn!==null&&Sa(jn)&&(jn=null),Qs!==null&&Sa(Qs)&&(Qs=null),Ys!==null&&Sa(Ys)&&(Ys=null),Tc.forEach(Jl),_s.forEach(Jl)}function Js(c,d){c.blockedOn===d&&(c.blockedOn=null,ep||(ep=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,y0)))}function Zs(c){function d(S){return Js(S,c)}if(0<Po.length){Js(Po[0],c);for(var p=1;p<Po.length;p++){var b=Po[p];b.blockedOn===c&&(b.blockedOn=null)}}for(jn!==null&&Js(jn,c),Qs!==null&&Js(Qs,c),Ys!==null&&Js(Ys,c),Tc.forEach(d),_s.forEach(d),p=0;p<Ro.length;p++)b=Ro[p],b.blockedOn===c&&(b.blockedOn=null);for(;0<Ro.length&&(p=Ro[0],p.blockedOn===null);)g0(p),p.blockedOn===null&&Ro.shift()}var Ia=V.ReactCurrentBatchConfig,xc=!0;function Hr(c,d,p,b){var S=It,O=Ia.transition;Ia.transition=null;try{It=1,tp(c,d,p,b)}finally{It=S,Ia.transition=O}}function Db(c,d,p,b){var S=It,O=Ia.transition;Ia.transition=null;try{It=4,tp(c,d,p,b)}finally{It=S,Ia.transition=O}}function tp(c,d,p,b){if(xc){var S=Nd(c,d,p,b);if(S===null)Hb(c,d,b,Zl,p),m0(c,b);else if(kb(S,c,d,p,b))b.stopPropagation();else if(m0(c,b),d&4&&-1<Ob.indexOf(c)){for(;S!==null;){var O=mp(S);if(O!==null&&d0(O),O=Nd(c,d,p,b),O===null&&Hb(c,d,b,Zl,p),O===S)break;S=O}S!==null&&b.stopPropagation()}else Hb(c,d,b,null,p)}}var Zl=null;function Nd(c,d,p,b){if(Zl=null,c=gr(b),c=tu(c),c!==null)if(d=jt(c),d===null)c=null;else if(p=d.tag,p===13){if(c=Ws(d),c!==null)return c;c=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return Zl=c,null}function rp(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wc()){case Ks:return 1;case Es:return 4;case si:case Aa:return 16;case bc:return 536870912;default:return 16}default:return 16}}var as=null,Pd=null,Li=null;function np(){if(Li)return Li;var c,d=Pd,p=d.length,b,S="value"in as?as.value:as.textContent,O=S.length;for(c=0;c<p&&d[c]===S[c];c++);var K=p-c;for(b=1;b<=K&&d[p-b]===S[O-b];b++);return Li=S.slice(c,1<b?1-b:void 0)}function Rd(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Oo(){return!0}function ip(){return!1}function Vn(c){function d(p,b,S,O,K){this._reactName=p,this._targetInst=S,this.type=b,this.nativeEvent=O,this.target=K,this.currentTarget=null;for(var Z in c)c.hasOwnProperty(Z)&&(p=c[Z],this[Z]=p?p(O):O[Z]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Oo:ip,this.isPropagationStopped=ip,this}return A(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),d}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Od=Vn(Xs),ko=A({},Xs,{view:0,detail:0}),Mb=Vn(ko),kd,Ta,Nc,Xl=A({},ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Do,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Nc&&(Nc&&c.type==="mousemove"?(kd=c.screenX-Nc.screenX,Ta=c.screenY-Nc.screenY):Ta=kd=0,Nc=c),kd)},movementY:function(c){return"movementY"in c?c.movementY:Ta}}),Dd=Vn(Xl),sp=A({},Xl,{dataTransfer:0}),v0=Vn(sp),Md=A({},ko,{relatedTarget:0}),Ld=Vn(Md),w0=A({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),xa=Vn(w0),b0=A({},Xs,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),E0=Vn(b0),_0=A({},Xs,{data:0}),op=Vn(_0),Ud={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ii={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C0(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=A0[c])?!!d[c]:!1}function Do(){return C0}var y=A({},ko,{key:function(c){if(c.key){var d=Ud[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Rd(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Ii[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Do,charCode:function(c){return c.type==="keypress"?Rd(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Rd(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),R=Vn(y),H=A({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y=Vn(H),oe=A({},ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Do}),ue=Vn(oe),Te=A({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),rr=Vn(Te),mn=A({},Xl,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Ot=Vn(mn),xn=[9,13,27,32],cn=a&&"CompositionEvent"in window,As=null;a&&"documentMode"in document&&(As=document.documentMode);var cs=a&&"TextEvent"in window&&!As,eu=a&&(!cn||As&&8<As&&11>=As),Fd=" ",RI=!1;function OI(c,d){switch(c){case"keyup":return xn.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kI(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var $d=!1;function $7(c,d){switch(c){case"compositionend":return kI(d);case"keypress":return d.which!==32?null:(RI=!0,Fd);case"textInput":return c=d.data,c===Fd&&RI?null:c;default:return null}}function B7(c,d){if($d)return c==="compositionend"||!cn&&OI(c,d)?(c=np(),Li=Pd=as=null,$d=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return eu&&d.locale!=="ko"?null:d.data;default:return null}}var j7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DI(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!j7[c.type]:d==="textarea"}function MI(c,d,p,b){ss(b),d=N0(d,"onChange"),0<d.length&&(p=new Od("onChange","change",null,p,b),c.push({event:p,listeners:d}))}var ap=null,cp=null;function V7(c){XI(c,0)}function S0(c){var d=zd(c);if(yt(d))return c}function q7(c,d){if(c==="change")return d}var LI=!1;if(a){var Lb;if(a){var Ub="oninput"in document;if(!Ub){var UI=document.createElement("div");UI.setAttribute("oninput","return;"),Ub=typeof UI.oninput=="function"}Lb=Ub}else Lb=!1;LI=Lb&&(!document.documentMode||9<document.documentMode)}function FI(){ap&&(ap.detachEvent("onpropertychange",$I),cp=ap=null)}function $I(c){if(c.propertyName==="value"&&S0(cp)){var d=[];MI(d,cp,c,gr(c)),Or(V7,d)}}function z7(c,d,p){c==="focusin"?(FI(),ap=d,cp=p,ap.attachEvent("onpropertychange",$I)):c==="focusout"&&FI()}function H7(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return S0(cp)}function W7(c,d){if(c==="click")return S0(d)}function K7(c,d){if(c==="input"||c==="change")return S0(d)}function G7(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var eo=typeof Object.is=="function"?Object.is:G7;function lp(c,d){if(eo(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var p=Object.keys(c),b=Object.keys(d);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var S=p[b];if(!u.call(d,S)||!eo(c[S],d[S]))return!1}return!0}function BI(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function jI(c,d){var p=BI(c);c=0;for(var b;p;){if(p.nodeType===3){if(b=c+p.textContent.length,c<=d&&b>=d)return{node:p,offset:d-c};c=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=BI(p)}}function VI(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?VI(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function qI(){for(var c=window,d=dt();d instanceof c.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)c=d.contentWindow;else break;d=dt(c.document)}return d}function Fb(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function Q7(c){var d=qI(),p=c.focusedElem,b=c.selectionRange;if(d!==p&&p&&p.ownerDocument&&VI(p.ownerDocument.documentElement,p)){if(b!==null&&Fb(p)){if(d=b.start,c=b.end,c===void 0&&(c=d),"selectionStart"in p)p.selectionStart=d,p.selectionEnd=Math.min(c,p.value.length);else if(c=(d=p.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var S=p.textContent.length,O=Math.min(b.start,S);b=b.end===void 0?O:Math.min(b.end,S),!c.extend&&O>b&&(S=b,b=O,O=S),S=jI(p,O);var K=jI(p,b);S&&K&&(c.rangeCount!==1||c.anchorNode!==S.node||c.anchorOffset!==S.offset||c.focusNode!==K.node||c.focusOffset!==K.offset)&&(d=d.createRange(),d.setStart(S.node,S.offset),c.removeAllRanges(),O>b?(c.addRange(d),c.extend(K.node,K.offset)):(d.setEnd(K.node,K.offset),c.addRange(d)))}}for(d=[],c=p;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<d.length;p++)c=d[p],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Y7=a&&"documentMode"in document&&11>=document.documentMode,Bd=null,$b=null,up=null,Bb=!1;function zI(c,d,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Bb||Bd==null||Bd!==dt(b)||(b=Bd,"selectionStart"in b&&Fb(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),up&&lp(up,b)||(up=b,b=N0($b,"onSelect"),0<b.length&&(d=new Od("onSelect","select",null,d,p),c.push({event:d,listeners:b}),d.target=Bd)))}function I0(c,d){var p={};return p[c.toLowerCase()]=d.toLowerCase(),p["Webkit"+c]="webkit"+d,p["Moz"+c]="moz"+d,p}var jd={animationend:I0("Animation","AnimationEnd"),animationiteration:I0("Animation","AnimationIteration"),animationstart:I0("Animation","AnimationStart"),transitionend:I0("Transition","TransitionEnd")},jb={},HI={};a&&(HI=document.createElement("div").style,"AnimationEvent"in window||(delete jd.animationend.animation,delete jd.animationiteration.animation,delete jd.animationstart.animation),"TransitionEvent"in window||delete jd.transitionend.transition);function T0(c){if(jb[c])return jb[c];if(!jd[c])return c;var d=jd[c],p;for(p in d)if(d.hasOwnProperty(p)&&p in HI)return jb[c]=d[p];return c}var WI=T0("animationend"),KI=T0("animationiteration"),GI=T0("animationstart"),QI=T0("transitionend"),YI=new Map,JI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pc(c,d){YI.set(c,d),s(d,[c])}for(var Vb=0;Vb<JI.length;Vb++){var qb=JI[Vb],J7=qb.toLowerCase(),Z7=qb[0].toUpperCase()+qb.slice(1);Pc(J7,"on"+Z7)}Pc(WI,"onAnimationEnd"),Pc(KI,"onAnimationIteration"),Pc(GI,"onAnimationStart"),Pc("dblclick","onDoubleClick"),Pc("focusin","onFocus"),Pc("focusout","onBlur"),Pc(QI,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X7=new Set("cancel close invalid load scroll toggle".split(" ").concat(dp));function ZI(c,d,p){var b=c.type||"unknown-event";c.currentTarget=p,Fr(b,d,void 0,c),c.currentTarget=null}function XI(c,d){d=(d&4)!==0;for(var p=0;p<c.length;p++){var b=c[p],S=b.event;b=b.listeners;e:{var O=void 0;if(d)for(var K=b.length-1;0<=K;K--){var Z=b[K],te=Z.instance,le=Z.currentTarget;if(Z=Z.listener,te!==O&&S.isPropagationStopped())break e;ZI(S,Z,le),O=te}else for(K=0;K<b.length;K++){if(Z=b[K],te=Z.instance,le=Z.currentTarget,Z=Z.listener,te!==O&&S.isPropagationStopped())break e;ZI(S,Z,le),O=te}}}if(Di)throw c=kr,Di=!1,kr=null,c}function $r(c,d){var p=d[Jb];p===void 0&&(p=d[Jb]=new Set);var b=c+"__bubble";p.has(b)||(e3(d,c,2,!1),p.add(b))}function zb(c,d,p){var b=0;d&&(b|=4),e3(p,c,b,d)}var x0="_reactListening"+Math.random().toString(36).slice(2);function hp(c){if(!c[x0]){c[x0]=!0,n.forEach(function(p){p!=="selectionchange"&&(X7.has(p)||zb(p,!1,c),zb(p,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[x0]||(d[x0]=!0,zb("selectionchange",!1,d))}}function e3(c,d,p,b){switch(rp(d)){case 1:var S=Hr;break;case 4:S=Db;break;default:S=tp}p=S.bind(null,d,p,c),S=void 0,!wr||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),b?S!==void 0?c.addEventListener(d,p,{capture:!0,passive:S}):c.addEventListener(d,p,!0):S!==void 0?c.addEventListener(d,p,{passive:S}):c.addEventListener(d,p,!1)}function Hb(c,d,p,b,S){var O=b;if((d&1)===0&&(d&2)===0&&b!==null)e:for(;;){if(b===null)return;var K=b.tag;if(K===3||K===4){var Z=b.stateNode.containerInfo;if(Z===S||Z.nodeType===8&&Z.parentNode===S)break;if(K===4)for(K=b.return;K!==null;){var te=K.tag;if((te===3||te===4)&&(te=K.stateNode.containerInfo,te===S||te.nodeType===8&&te.parentNode===S))return;K=K.return}for(;Z!==null;){if(K=tu(Z),K===null)return;if(te=K.tag,te===5||te===6){b=O=K;continue e}Z=Z.parentNode}}b=b.return}Or(function(){var le=O,ge=gr(p),we=[];e:{var me=YI.get(c);if(me!==void 0){var Re=Od,je=c;switch(c){case"keypress":if(Rd(p)===0)break e;case"keydown":case"keyup":Re=R;break;case"focusin":je="focus",Re=Ld;break;case"focusout":je="blur",Re=Ld;break;case"beforeblur":case"afterblur":Re=Ld;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=v0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=ue;break;case WI:case KI:case GI:Re=xa;break;case QI:Re=rr;break;case"scroll":Re=Mb;break;case"wheel":Re=Ot;break;case"copy":case"cut":case"paste":Re=E0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=Y}var qe=(d&4)!==0,sn=!qe&&c==="scroll",ae=qe?me!==null?me+"Capture":null:me;qe=[];for(var ne=le,ce;ne!==null;){ce=ne;var Ce=ce.stateNode;if(ce.tag===5&&Ce!==null&&(ce=Ce,ae!==null&&(Ce=qr(ne,ae),Ce!=null&&qe.push(fp(ne,Ce,ce)))),sn)break;ne=ne.return}0<qe.length&&(me=new Re(me,je,null,p,ge),we.push({event:me,listeners:qe}))}}if((d&7)===0){e:{if(me=c==="mouseover"||c==="pointerover",Re=c==="mouseout"||c==="pointerout",me&&p!==Io&&(je=p.relatedTarget||p.fromElement)&&(tu(je)||je[Na]))break e;if((Re||me)&&(me=ge.window===ge?ge:(me=ge.ownerDocument)?me.defaultView||me.parentWindow:window,Re?(je=p.relatedTarget||p.toElement,Re=le,je=je?tu(je):null,je!==null&&(sn=jt(je),je!==sn||je.tag!==5&&je.tag!==6)&&(je=null)):(Re=null,je=le),Re!==je)){if(qe=Dd,Ce="onMouseLeave",ae="onMouseEnter",ne="mouse",(c==="pointerout"||c==="pointerover")&&(qe=Y,Ce="onPointerLeave",ae="onPointerEnter",ne="pointer"),sn=Re==null?me:zd(Re),ce=je==null?me:zd(je),me=new qe(Ce,ne+"leave",Re,p,ge),me.target=sn,me.relatedTarget=ce,Ce=null,tu(ge)===le&&(qe=new qe(ae,ne+"enter",je,p,ge),qe.target=ce,qe.relatedTarget=sn,Ce=qe),sn=Ce,Re&&je)t:{for(qe=Re,ae=je,ne=0,ce=qe;ce;ce=Vd(ce))ne++;for(ce=0,Ce=ae;Ce;Ce=Vd(Ce))ce++;for(;0<ne-ce;)qe=Vd(qe),ne--;for(;0<ce-ne;)ae=Vd(ae),ce--;for(;ne--;){if(qe===ae||ae!==null&&qe===ae.alternate)break t;qe=Vd(qe),ae=Vd(ae)}qe=null}else qe=null;Re!==null&&t3(we,me,Re,qe,!1),je!==null&&sn!==null&&t3(we,sn,je,qe,!0)}}e:{if(me=le?zd(le):window,Re=me.nodeName&&me.nodeName.toLowerCase(),Re==="select"||Re==="input"&&me.type==="file")var He=q7;else if(DI(me))if(LI)He=K7;else{He=H7;var Ye=z7}else(Re=me.nodeName)&&Re.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(He=W7);if(He&&(He=He(c,le))){MI(we,He,p,ge);break e}Ye&&Ye(c,me,le),c==="focusout"&&(Ye=me._wrapperState)&&Ye.controlled&&me.type==="number"&&Lt(me,"number",me.value)}switch(Ye=le?zd(le):window,c){case"focusin":(DI(Ye)||Ye.contentEditable==="true")&&(Bd=Ye,$b=le,up=null);break;case"focusout":up=$b=Bd=null;break;case"mousedown":Bb=!0;break;case"contextmenu":case"mouseup":case"dragend":Bb=!1,zI(we,p,ge);break;case"selectionchange":if(Y7)break;case"keydown":case"keyup":zI(we,p,ge)}var Je;if(cn)e:{switch(c){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else $d?OI(c,p)&&(nt="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(nt="onCompositionStart");nt&&(eu&&p.locale!=="ko"&&($d||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&$d&&(Je=np()):(as=ge,Pd="value"in as?as.value:as.textContent,$d=!0)),Ye=N0(le,nt),0<Ye.length&&(nt=new op(nt,c,null,p,ge),we.push({event:nt,listeners:Ye}),Je?nt.data=Je:(Je=kI(p),Je!==null&&(nt.data=Je)))),(Je=cs?$7(c,p):B7(c,p))&&(le=N0(le,"onBeforeInput"),0<le.length&&(ge=new op("onBeforeInput","beforeinput",null,p,ge),we.push({event:ge,listeners:le}),ge.data=Je))}XI(we,d)})}function fp(c,d,p){return{instance:c,listener:d,currentTarget:p}}function N0(c,d){for(var p=d+"Capture",b=[];c!==null;){var S=c,O=S.stateNode;S.tag===5&&O!==null&&(S=O,O=qr(c,p),O!=null&&b.unshift(fp(c,O,S)),O=qr(c,d),O!=null&&b.push(fp(c,O,S))),c=c.return}return b}function Vd(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function t3(c,d,p,b,S){for(var O=d._reactName,K=[];p!==null&&p!==b;){var Z=p,te=Z.alternate,le=Z.stateNode;if(te!==null&&te===b)break;Z.tag===5&&le!==null&&(Z=le,S?(te=qr(p,O),te!=null&&K.unshift(fp(p,te,Z))):S||(te=qr(p,O),te!=null&&K.push(fp(p,te,Z)))),p=p.return}K.length!==0&&c.push({event:d,listeners:K})}var eL=/\r\n?/g,tL=/\u0000|\uFFFD/g;function r3(c){return(typeof c=="string"?c:""+c).replace(eL,`
`).replace(tL,"")}function P0(c,d,p){if(d=r3(d),r3(c)!==d&&p)throw Error(r(425))}function R0(){}var Wb=null,Kb=null;function Gb(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Qb=typeof setTimeout=="function"?setTimeout:void 0,rL=typeof clearTimeout=="function"?clearTimeout:void 0,n3=typeof Promise=="function"?Promise:void 0,nL=typeof queueMicrotask=="function"?queueMicrotask:typeof n3<"u"?function(c){return n3.resolve(null).then(c).catch(iL)}:Qb;function iL(c){setTimeout(function(){throw c})}function Yb(c,d){var p=d,b=0;do{var S=p.nextSibling;if(c.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"){if(b===0){c.removeChild(S),Zs(d);return}b--}else p!=="$"&&p!=="$?"&&p!=="$!"||b++;p=S}while(p);Zs(d)}function Rc(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function i3(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"){if(d===0)return c;d--}else p==="/$"&&d++}c=c.previousSibling}return null}var qd=Math.random().toString(36).slice(2),Mo="__reactFiber$"+qd,pp="__reactProps$"+qd,Na="__reactContainer$"+qd,Jb="__reactEvents$"+qd,sL="__reactListeners$"+qd,oL="__reactHandles$"+qd;function tu(c){var d=c[Mo];if(d)return d;for(var p=c.parentNode;p;){if(d=p[Na]||p[Mo]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(c=i3(c);c!==null;){if(p=c[Mo])return p;c=i3(c)}return d}c=p,p=c.parentNode}return null}function mp(c){return c=c[Mo]||c[Na],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function zd(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function O0(c){return c[pp]||null}var Zb=[],Hd=-1;function Oc(c){return{current:c}}function Br(c){0>Hd||(c.current=Zb[Hd],Zb[Hd]=null,Hd--)}function Dr(c,d){Hd++,Zb[Hd]=c.current,c.current=d}var kc={},oi=Oc(kc),Ui=Oc(!1),ru=kc;function Wd(c,d){var p=c.type.contextTypes;if(!p)return kc;var b=c.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===d)return b.__reactInternalMemoizedMaskedChildContext;var S={},O;for(O in p)S[O]=d[O];return b&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=S),S}function Fi(c){return c=c.childContextTypes,c!=null}function k0(){Br(Ui),Br(oi)}function s3(c,d,p){if(oi.current!==kc)throw Error(r(168));Dr(oi,d),Dr(Ui,p)}function o3(c,d,p){var b=c.stateNode;if(d=d.childContextTypes,typeof b.getChildContext!="function")return p;b=b.getChildContext();for(var S in b)if(!(S in d))throw Error(r(108,Ae(c)||"Unknown",S));return A({},p,b)}function D0(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||kc,ru=oi.current,Dr(oi,c),Dr(Ui,Ui.current),!0}function a3(c,d,p){var b=c.stateNode;if(!b)throw Error(r(169));p?(c=o3(c,d,ru),b.__reactInternalMemoizedMergedChildContext=c,Br(Ui),Br(oi),Dr(oi,c)):Br(Ui),Dr(Ui,p)}var Pa=null,M0=!1,Xb=!1;function c3(c){Pa===null?Pa=[c]:Pa.push(c)}function aL(c){M0=!0,c3(c)}function Dc(){if(!Xb&&Pa!==null){Xb=!0;var c=0,d=It;try{var p=Pa;for(It=1;c<p.length;c++){var b=p[c];do b=b(!0);while(b!==null)}Pa=null,M0=!1}catch(S){throw Pa!==null&&(Pa=Pa.slice(c+1)),No(Ks,Dc),S}finally{It=d,Xb=!1}}return null}var Kd=[],Gd=0,L0=null,U0=0,Cs=[],Ss=0,nu=null,Ra=1,Oa="";function iu(c,d){Kd[Gd++]=U0,Kd[Gd++]=L0,L0=c,U0=d}function l3(c,d,p){Cs[Ss++]=Ra,Cs[Ss++]=Oa,Cs[Ss++]=nu,nu=c;var b=Ra;c=Oa;var S=32-Si(b)-1;b&=~(1<<S),p+=1;var O=32-Si(d)+S;if(30<O){var K=S-S%5;O=(b&(1<<K)-1).toString(32),b>>=K,S-=K,Ra=1<<32-Si(d)+S|p<<S|b,Oa=O+c}else Ra=1<<O|p<<S|b,Oa=c}function e1(c){c.return!==null&&(iu(c,1),l3(c,1,0))}function t1(c){for(;c===L0;)L0=Kd[--Gd],Kd[Gd]=null,U0=Kd[--Gd],Kd[Gd]=null;for(;c===nu;)nu=Cs[--Ss],Cs[Ss]=null,Oa=Cs[--Ss],Cs[Ss]=null,Ra=Cs[--Ss],Cs[Ss]=null}var ls=null,us=null,Wr=!1,to=null;function u3(c,d){var p=Ns(5,null,null,0);p.elementType="DELETED",p.stateNode=d,p.return=c,d=c.deletions,d===null?(c.deletions=[p],c.flags|=16):d.push(p)}function d3(c,d){switch(c.tag){case 5:var p=c.type;return d=d.nodeType!==1||p.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,ls=c,us=Rc(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,ls=c,us=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(p=nu!==null?{id:Ra,overflow:Oa}:null,c.memoizedState={dehydrated:d,treeContext:p,retryLane:1073741824},p=Ns(18,null,null,0),p.stateNode=d,p.return=c,c.child=p,ls=c,us=null,!0):!1;default:return!1}}function r1(c){return(c.mode&1)!==0&&(c.flags&128)===0}function n1(c){if(Wr){var d=us;if(d){var p=d;if(!d3(c,d)){if(r1(c))throw Error(r(418));d=Rc(p.nextSibling);var b=ls;d&&d3(c,d)?u3(b,p):(c.flags=c.flags&-4097|2,Wr=!1,ls=c)}}else{if(r1(c))throw Error(r(418));c.flags=c.flags&-4097|2,Wr=!1,ls=c}}}function h3(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;ls=c}function F0(c){if(c!==ls)return!1;if(!Wr)return h3(c),Wr=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!Gb(c.type,c.memoizedProps)),d&&(d=us)){if(r1(c))throw f3(),Error(r(418));for(;d;)u3(c,d),d=Rc(d.nextSibling)}if(h3(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"){if(d===0){us=Rc(c.nextSibling);break e}d--}else p!=="$"&&p!=="$!"&&p!=="$?"||d++}c=c.nextSibling}us=null}}else us=ls?Rc(c.stateNode.nextSibling):null;return!0}function f3(){for(var c=us;c;)c=Rc(c.nextSibling)}function Qd(){us=ls=null,Wr=!1}function i1(c){to===null?to=[c]:to.push(c)}var cL=V.ReactCurrentBatchConfig;function gp(c,d,p){if(c=p.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var b=p.stateNode}if(!b)throw Error(r(147,c));var S=b,O=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===O?d.ref:(d=function(K){var Z=S.refs;K===null?delete Z[O]:Z[O]=K},d._stringRef=O,d)}if(typeof c!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,c))}return c}function $0(c,d){throw c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function p3(c){var d=c._init;return d(c._payload)}function m3(c){function d(ae,ne){if(c){var ce=ae.deletions;ce===null?(ae.deletions=[ne],ae.flags|=16):ce.push(ne)}}function p(ae,ne){if(!c)return null;for(;ne!==null;)d(ae,ne),ne=ne.sibling;return null}function b(ae,ne){for(ae=new Map;ne!==null;)ne.key!==null?ae.set(ne.key,ne):ae.set(ne.index,ne),ne=ne.sibling;return ae}function S(ae,ne){return ae=Vc(ae,ne),ae.index=0,ae.sibling=null,ae}function O(ae,ne,ce){return ae.index=ce,c?(ce=ae.alternate,ce!==null?(ce=ce.index,ce<ne?(ae.flags|=2,ne):ce):(ae.flags|=2,ne)):(ae.flags|=1048576,ne)}function K(ae){return c&&ae.alternate===null&&(ae.flags|=2),ae}function Z(ae,ne,ce,Ce){return ne===null||ne.tag!==6?(ne=Q1(ce,ae.mode,Ce),ne.return=ae,ne):(ne=S(ne,ce),ne.return=ae,ne)}function te(ae,ne,ce,Ce){var He=ce.type;return He===U?ge(ae,ne,ce.props.children,Ce,ce.key):ne!==null&&(ne.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===P&&p3(He)===ne.type)?(Ce=S(ne,ce.props),Ce.ref=gp(ae,ne,ce),Ce.return=ae,Ce):(Ce=ly(ce.type,ce.key,ce.props,null,ae.mode,Ce),Ce.ref=gp(ae,ne,ce),Ce.return=ae,Ce)}function le(ae,ne,ce,Ce){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ce.containerInfo||ne.stateNode.implementation!==ce.implementation?(ne=Y1(ce,ae.mode,Ce),ne.return=ae,ne):(ne=S(ne,ce.children||[]),ne.return=ae,ne)}function ge(ae,ne,ce,Ce,He){return ne===null||ne.tag!==7?(ne=hu(ce,ae.mode,Ce,He),ne.return=ae,ne):(ne=S(ne,ce),ne.return=ae,ne)}function we(ae,ne,ce){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=Q1(""+ne,ae.mode,ce),ne.return=ae,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case q:return ce=ly(ne.type,ne.key,ne.props,null,ae.mode,ce),ce.ref=gp(ae,null,ne),ce.return=ae,ce;case j:return ne=Y1(ne,ae.mode,ce),ne.return=ae,ne;case P:var Ce=ne._init;return we(ae,Ce(ne._payload),ce)}if(Tn(ne)||B(ne))return ne=hu(ne,ae.mode,ce,null),ne.return=ae,ne;$0(ae,ne)}return null}function me(ae,ne,ce,Ce){var He=ne!==null?ne.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return He!==null?null:Z(ae,ne,""+ce,Ce);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case q:return ce.key===He?te(ae,ne,ce,Ce):null;case j:return ce.key===He?le(ae,ne,ce,Ce):null;case P:return He=ce._init,me(ae,ne,He(ce._payload),Ce)}if(Tn(ce)||B(ce))return He!==null?null:ge(ae,ne,ce,Ce,null);$0(ae,ce)}return null}function Re(ae,ne,ce,Ce,He){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return ae=ae.get(ce)||null,Z(ne,ae,""+Ce,He);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case q:return ae=ae.get(Ce.key===null?ce:Ce.key)||null,te(ne,ae,Ce,He);case j:return ae=ae.get(Ce.key===null?ce:Ce.key)||null,le(ne,ae,Ce,He);case P:var Ye=Ce._init;return Re(ae,ne,ce,Ye(Ce._payload),He)}if(Tn(Ce)||B(Ce))return ae=ae.get(ce)||null,ge(ne,ae,Ce,He,null);$0(ne,Ce)}return null}function je(ae,ne,ce,Ce){for(var He=null,Ye=null,Je=ne,nt=ne=0,Rn=null;Je!==null&&nt<ce.length;nt++){Je.index>nt?(Rn=Je,Je=null):Rn=Je.sibling;var Vt=me(ae,Je,ce[nt],Ce);if(Vt===null){Je===null&&(Je=Rn);break}c&&Je&&Vt.alternate===null&&d(ae,Je),ne=O(Vt,ne,nt),Ye===null?He=Vt:Ye.sibling=Vt,Ye=Vt,Je=Rn}if(nt===ce.length)return p(ae,Je),Wr&&iu(ae,nt),He;if(Je===null){for(;nt<ce.length;nt++)Je=we(ae,ce[nt],Ce),Je!==null&&(ne=O(Je,ne,nt),Ye===null?He=Je:Ye.sibling=Je,Ye=Je);return Wr&&iu(ae,nt),He}for(Je=b(ae,Je);nt<ce.length;nt++)Rn=Re(Je,ae,nt,ce[nt],Ce),Rn!==null&&(c&&Rn.alternate!==null&&Je.delete(Rn.key===null?nt:Rn.key),ne=O(Rn,ne,nt),Ye===null?He=Rn:Ye.sibling=Rn,Ye=Rn);return c&&Je.forEach(function(qc){return d(ae,qc)}),Wr&&iu(ae,nt),He}function qe(ae,ne,ce,Ce){var He=B(ce);if(typeof He!="function")throw Error(r(150));if(ce=He.call(ce),ce==null)throw Error(r(151));for(var Ye=He=null,Je=ne,nt=ne=0,Rn=null,Vt=ce.next();Je!==null&&!Vt.done;nt++,Vt=ce.next()){Je.index>nt?(Rn=Je,Je=null):Rn=Je.sibling;var qc=me(ae,Je,Vt.value,Ce);if(qc===null){Je===null&&(Je=Rn);break}c&&Je&&qc.alternate===null&&d(ae,Je),ne=O(qc,ne,nt),Ye===null?He=qc:Ye.sibling=qc,Ye=qc,Je=Rn}if(Vt.done)return p(ae,Je),Wr&&iu(ae,nt),He;if(Je===null){for(;!Vt.done;nt++,Vt=ce.next())Vt=we(ae,Vt.value,Ce),Vt!==null&&(ne=O(Vt,ne,nt),Ye===null?He=Vt:Ye.sibling=Vt,Ye=Vt);return Wr&&iu(ae,nt),He}for(Je=b(ae,Je);!Vt.done;nt++,Vt=ce.next())Vt=Re(Je,ae,nt,Vt.value,Ce),Vt!==null&&(c&&Vt.alternate!==null&&Je.delete(Vt.key===null?nt:Vt.key),ne=O(Vt,ne,nt),Ye===null?He=Vt:Ye.sibling=Vt,Ye=Vt);return c&&Je.forEach(function(jL){return d(ae,jL)}),Wr&&iu(ae,nt),He}function sn(ae,ne,ce,Ce){if(typeof ce=="object"&&ce!==null&&ce.type===U&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case q:e:{for(var He=ce.key,Ye=ne;Ye!==null;){if(Ye.key===He){if(He=ce.type,He===U){if(Ye.tag===7){p(ae,Ye.sibling),ne=S(Ye,ce.props.children),ne.return=ae,ae=ne;break e}}else if(Ye.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===P&&p3(He)===Ye.type){p(ae,Ye.sibling),ne=S(Ye,ce.props),ne.ref=gp(ae,Ye,ce),ne.return=ae,ae=ne;break e}p(ae,Ye);break}else d(ae,Ye);Ye=Ye.sibling}ce.type===U?(ne=hu(ce.props.children,ae.mode,Ce,ce.key),ne.return=ae,ae=ne):(Ce=ly(ce.type,ce.key,ce.props,null,ae.mode,Ce),Ce.ref=gp(ae,ne,ce),Ce.return=ae,ae=Ce)}return K(ae);case j:e:{for(Ye=ce.key;ne!==null;){if(ne.key===Ye)if(ne.tag===4&&ne.stateNode.containerInfo===ce.containerInfo&&ne.stateNode.implementation===ce.implementation){p(ae,ne.sibling),ne=S(ne,ce.children||[]),ne.return=ae,ae=ne;break e}else{p(ae,ne);break}else d(ae,ne);ne=ne.sibling}ne=Y1(ce,ae.mode,Ce),ne.return=ae,ae=ne}return K(ae);case P:return Ye=ce._init,sn(ae,ne,Ye(ce._payload),Ce)}if(Tn(ce))return je(ae,ne,ce,Ce);if(B(ce))return qe(ae,ne,ce,Ce);$0(ae,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,ne!==null&&ne.tag===6?(p(ae,ne.sibling),ne=S(ne,ce),ne.return=ae,ae=ne):(p(ae,ne),ne=Q1(ce,ae.mode,Ce),ne.return=ae,ae=ne),K(ae)):p(ae,ne)}return sn}var Yd=m3(!0),g3=m3(!1),B0=Oc(null),j0=null,Jd=null,s1=null;function o1(){s1=Jd=j0=null}function a1(c){var d=B0.current;Br(B0),c._currentValue=d}function c1(c,d,p){for(;c!==null;){var b=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),c===p)break;c=c.return}}function Zd(c,d){j0=c,s1=Jd=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&d)!==0&&($i=!0),c.firstContext=null)}function Is(c){var d=c._currentValue;if(s1!==c)if(c={context:c,memoizedValue:d,next:null},Jd===null){if(j0===null)throw Error(r(308));Jd=c,j0.dependencies={lanes:0,firstContext:c}}else Jd=Jd.next=c;return d}var su=null;function l1(c){su===null?su=[c]:su.push(c)}function y3(c,d,p,b){var S=d.interleaved;return S===null?(p.next=p,l1(d)):(p.next=S.next,S.next=p),d.interleaved=p,ka(c,b)}function ka(c,d){c.lanes|=d;var p=c.alternate;for(p!==null&&(p.lanes|=d),p=c,c=c.return;c!==null;)c.childLanes|=d,p=c.alternate,p!==null&&(p.childLanes|=d),p=c,c=c.return;return p.tag===3?p.stateNode:null}var Mc=!1;function u1(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v3(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Da(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function Lc(c,d,p){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,(Ut&2)!==0){var S=b.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),b.pending=d,ka(c,p)}return S=b.interleaved,S===null?(d.next=d,l1(b)):(d.next=S.next,S.next=d),b.interleaved=d,ka(c,p)}function V0(c,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194240)!==0)){var b=d.lanes;b&=c.pendingLanes,p|=b,d.lanes=p,Sc(c,p)}}function w3(c,d){var p=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var S=null,O=null;if(p=p.firstBaseUpdate,p!==null){do{var K={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};O===null?S=O=K:O=O.next=K,p=p.next}while(p!==null);O===null?S=O=d:O=O.next=d}else S=O=d;p={baseState:b.baseState,firstBaseUpdate:S,lastBaseUpdate:O,shared:b.shared,effects:b.effects},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=d}function q0(c,d,p,b){var S=c.updateQueue;Mc=!1;var O=S.firstBaseUpdate,K=S.lastBaseUpdate,Z=S.shared.pending;if(Z!==null){S.shared.pending=null;var te=Z,le=te.next;te.next=null,K===null?O=le:K.next=le,K=te;var ge=c.alternate;ge!==null&&(ge=ge.updateQueue,Z=ge.lastBaseUpdate,Z!==K&&(Z===null?ge.firstBaseUpdate=le:Z.next=le,ge.lastBaseUpdate=te))}if(O!==null){var we=S.baseState;K=0,ge=le=te=null,Z=O;do{var me=Z.lane,Re=Z.eventTime;if((b&me)===me){ge!==null&&(ge=ge.next={eventTime:Re,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var je=c,qe=Z;switch(me=d,Re=p,qe.tag){case 1:if(je=qe.payload,typeof je=="function"){we=je.call(Re,we,me);break e}we=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=qe.payload,me=typeof je=="function"?je.call(Re,we,me):je,me==null)break e;we=A({},we,me);break e;case 2:Mc=!0}}Z.callback!==null&&Z.lane!==0&&(c.flags|=64,me=S.effects,me===null?S.effects=[Z]:me.push(Z))}else Re={eventTime:Re,lane:me,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},ge===null?(le=ge=Re,te=we):ge=ge.next=Re,K|=me;if(Z=Z.next,Z===null){if(Z=S.shared.pending,Z===null)break;me=Z,Z=me.next,me.next=null,S.lastBaseUpdate=me,S.shared.pending=null}}while(!0);if(ge===null&&(te=we),S.baseState=te,S.firstBaseUpdate=le,S.lastBaseUpdate=ge,d=S.shared.interleaved,d!==null){S=d;do K|=S.lane,S=S.next;while(S!==d)}else O===null&&(S.shared.lanes=0);cu|=K,c.lanes=K,c.memoizedState=we}}function b3(c,d,p){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var b=c[d],S=b.callback;if(S!==null){if(b.callback=null,b=p,typeof S!="function")throw Error(r(191,S));S.call(b)}}}var yp={},Lo=Oc(yp),vp=Oc(yp),wp=Oc(yp);function ou(c){if(c===yp)throw Error(r(174));return c}function d1(c,d){switch(Dr(wp,d),Dr(vp,c),Dr(Lo,yp),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:st(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=st(d,c)}Br(Lo),Dr(Lo,d)}function Xd(){Br(Lo),Br(vp),Br(wp)}function E3(c){ou(wp.current);var d=ou(Lo.current),p=st(d,c.type);d!==p&&(Dr(vp,c),Dr(Lo,p))}function h1(c){vp.current===c&&(Br(Lo),Br(vp))}var Qr=Oc(0);function z0(c){for(var d=c;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var f1=[];function p1(){for(var c=0;c<f1.length;c++)f1[c]._workInProgressVersionPrimary=null;f1.length=0}var H0=V.ReactCurrentDispatcher,m1=V.ReactCurrentBatchConfig,au=0,Yr=null,gn=null,Nn=null,W0=!1,bp=!1,Ep=0,lL=0;function ai(){throw Error(r(321))}function g1(c,d){if(d===null)return!1;for(var p=0;p<d.length&&p<c.length;p++)if(!eo(c[p],d[p]))return!1;return!0}function y1(c,d,p,b,S,O){if(au=O,Yr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,H0.current=c===null||c.memoizedState===null?fL:pL,c=p(b,S),bp){O=0;do{if(bp=!1,Ep=0,25<=O)throw Error(r(301));O+=1,Nn=gn=null,d.updateQueue=null,H0.current=mL,c=p(b,S)}while(bp)}if(H0.current=Q0,d=gn!==null&&gn.next!==null,au=0,Nn=gn=Yr=null,W0=!1,d)throw Error(r(300));return c}function v1(){var c=Ep!==0;return Ep=0,c}function Uo(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Yr.memoizedState=Nn=c:Nn=Nn.next=c,Nn}function Ts(){if(gn===null){var c=Yr.alternate;c=c!==null?c.memoizedState:null}else c=gn.next;var d=Nn===null?Yr.memoizedState:Nn.next;if(d!==null)Nn=d,gn=c;else{if(c===null)throw Error(r(310));gn=c,c={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},Nn===null?Yr.memoizedState=Nn=c:Nn=Nn.next=c}return Nn}function _p(c,d){return typeof d=="function"?d(c):d}function w1(c){var d=Ts(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var b=gn,S=b.baseQueue,O=p.pending;if(O!==null){if(S!==null){var K=S.next;S.next=O.next,O.next=K}b.baseQueue=S=O,p.pending=null}if(S!==null){O=S.next,b=b.baseState;var Z=K=null,te=null,le=O;do{var ge=le.lane;if((au&ge)===ge)te!==null&&(te=te.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),b=le.hasEagerState?le.eagerState:c(b,le.action);else{var we={lane:ge,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};te===null?(Z=te=we,K=b):te=te.next=we,Yr.lanes|=ge,cu|=ge}le=le.next}while(le!==null&&le!==O);te===null?K=b:te.next=Z,eo(b,d.memoizedState)||($i=!0),d.memoizedState=b,d.baseState=K,d.baseQueue=te,p.lastRenderedState=b}if(c=p.interleaved,c!==null){S=c;do O=S.lane,Yr.lanes|=O,cu|=O,S=S.next;while(S!==c)}else S===null&&(p.lanes=0);return[d.memoizedState,p.dispatch]}function b1(c){var d=Ts(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var b=p.dispatch,S=p.pending,O=d.memoizedState;if(S!==null){p.pending=null;var K=S=S.next;do O=c(O,K.action),K=K.next;while(K!==S);eo(O,d.memoizedState)||($i=!0),d.memoizedState=O,d.baseQueue===null&&(d.baseState=O),p.lastRenderedState=O}return[O,b]}function _3(){}function A3(c,d){var p=Yr,b=Ts(),S=d(),O=!eo(b.memoizedState,S);if(O&&(b.memoizedState=S,$i=!0),b=b.queue,E1(I3.bind(null,p,b,c),[c]),b.getSnapshot!==d||O||Nn!==null&&Nn.memoizedState.tag&1){if(p.flags|=2048,Ap(9,S3.bind(null,p,b,S,d),void 0,null),Pn===null)throw Error(r(349));(au&30)!==0||C3(p,d,S)}return S}function C3(c,d,p){c.flags|=16384,c={getSnapshot:d,value:p},d=Yr.updateQueue,d===null?(d={lastEffect:null,stores:null},Yr.updateQueue=d,d.stores=[c]):(p=d.stores,p===null?d.stores=[c]:p.push(c))}function S3(c,d,p,b){d.value=p,d.getSnapshot=b,T3(d)&&x3(c)}function I3(c,d,p){return p(function(){T3(d)&&x3(c)})}function T3(c){var d=c.getSnapshot;c=c.value;try{var p=d();return!eo(c,p)}catch{return!0}}function x3(c){var d=ka(c,1);d!==null&&so(d,c,1,-1)}function N3(c){var d=Uo();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_p,lastRenderedState:c},d.queue=c,c=c.dispatch=hL.bind(null,Yr,c),[d.memoizedState,c]}function Ap(c,d,p,b){return c={tag:c,create:d,destroy:p,deps:b,next:null},d=Yr.updateQueue,d===null?(d={lastEffect:null,stores:null},Yr.updateQueue=d,d.lastEffect=c.next=c):(p=d.lastEffect,p===null?d.lastEffect=c.next=c:(b=p.next,p.next=c,c.next=b,d.lastEffect=c)),c}function P3(){return Ts().memoizedState}function K0(c,d,p,b){var S=Uo();Yr.flags|=c,S.memoizedState=Ap(1|d,p,void 0,b===void 0?null:b)}function G0(c,d,p,b){var S=Ts();b=b===void 0?null:b;var O=void 0;if(gn!==null){var K=gn.memoizedState;if(O=K.destroy,b!==null&&g1(b,K.deps)){S.memoizedState=Ap(d,p,O,b);return}}Yr.flags|=c,S.memoizedState=Ap(1|d,p,O,b)}function R3(c,d){return K0(8390656,8,c,d)}function E1(c,d){return G0(2048,8,c,d)}function O3(c,d){return G0(4,2,c,d)}function k3(c,d){return G0(4,4,c,d)}function D3(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function M3(c,d,p){return p=p!=null?p.concat([c]):null,G0(4,4,D3.bind(null,d,c),p)}function _1(){}function L3(c,d){var p=Ts();d=d===void 0?null:d;var b=p.memoizedState;return b!==null&&d!==null&&g1(d,b[1])?b[0]:(p.memoizedState=[c,d],c)}function U3(c,d){var p=Ts();d=d===void 0?null:d;var b=p.memoizedState;return b!==null&&d!==null&&g1(d,b[1])?b[0]:(c=c(),p.memoizedState=[c,d],c)}function F3(c,d,p){return(au&21)===0?(c.baseState&&(c.baseState=!1,$i=!0),c.memoizedState=p):(eo(p,d)||(p=Yl(),Yr.lanes|=p,cu|=p,c.baseState=!0),d)}function uL(c,d){var p=It;It=p!==0&&4>p?p:4,c(!0);var b=m1.transition;m1.transition={};try{c(!1),d()}finally{It=p,m1.transition=b}}function $3(){return Ts().memoizedState}function dL(c,d,p){var b=Bc(c);if(p={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null},B3(c))j3(d,p);else if(p=y3(c,d,p,b),p!==null){var S=xi();so(p,c,b,S),V3(p,d,b)}}function hL(c,d,p){var b=Bc(c),S={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null};if(B3(c))j3(d,S);else{var O=c.alternate;if(c.lanes===0&&(O===null||O.lanes===0)&&(O=d.lastRenderedReducer,O!==null))try{var K=d.lastRenderedState,Z=O(K,p);if(S.hasEagerState=!0,S.eagerState=Z,eo(Z,K)){var te=d.interleaved;te===null?(S.next=S,l1(d)):(S.next=te.next,te.next=S),d.interleaved=S;return}}catch{}finally{}p=y3(c,d,S,b),p!==null&&(S=xi(),so(p,c,b,S),V3(p,d,b))}}function B3(c){var d=c.alternate;return c===Yr||d!==null&&d===Yr}function j3(c,d){bp=W0=!0;var p=c.pending;p===null?d.next=d:(d.next=p.next,p.next=d),c.pending=d}function V3(c,d,p){if((p&4194240)!==0){var b=d.lanes;b&=c.pendingLanes,p|=b,d.lanes=p,Sc(c,p)}}var Q0={readContext:Is,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useInsertionEffect:ai,useLayoutEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useMutableSource:ai,useSyncExternalStore:ai,useId:ai,unstable_isNewReconciler:!1},fL={readContext:Is,useCallback:function(c,d){return Uo().memoizedState=[c,d===void 0?null:d],c},useContext:Is,useEffect:R3,useImperativeHandle:function(c,d,p){return p=p!=null?p.concat([c]):null,K0(4194308,4,D3.bind(null,d,c),p)},useLayoutEffect:function(c,d){return K0(4194308,4,c,d)},useInsertionEffect:function(c,d){return K0(4,2,c,d)},useMemo:function(c,d){var p=Uo();return d=d===void 0?null:d,c=c(),p.memoizedState=[c,d],c},useReducer:function(c,d,p){var b=Uo();return d=p!==void 0?p(d):d,b.memoizedState=b.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},b.queue=c,c=c.dispatch=dL.bind(null,Yr,c),[b.memoizedState,c]},useRef:function(c){var d=Uo();return c={current:c},d.memoizedState=c},useState:N3,useDebugValue:_1,useDeferredValue:function(c){return Uo().memoizedState=c},useTransition:function(){var c=N3(!1),d=c[0];return c=uL.bind(null,c[1]),Uo().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,p){var b=Yr,S=Uo();if(Wr){if(p===void 0)throw Error(r(407));p=p()}else{if(p=d(),Pn===null)throw Error(r(349));(au&30)!==0||C3(b,d,p)}S.memoizedState=p;var O={value:p,getSnapshot:d};return S.queue=O,R3(I3.bind(null,b,O,c),[c]),b.flags|=2048,Ap(9,S3.bind(null,b,O,p,d),void 0,null),p},useId:function(){var c=Uo(),d=Pn.identifierPrefix;if(Wr){var p=Oa,b=Ra;p=(b&~(1<<32-Si(b)-1)).toString(32)+p,d=":"+d+"R"+p,p=Ep++,0<p&&(d+="H"+p.toString(32)),d+=":"}else p=lL++,d=":"+d+"r"+p.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},pL={readContext:Is,useCallback:L3,useContext:Is,useEffect:E1,useImperativeHandle:M3,useInsertionEffect:O3,useLayoutEffect:k3,useMemo:U3,useReducer:w1,useRef:P3,useState:function(){return w1(_p)},useDebugValue:_1,useDeferredValue:function(c){var d=Ts();return F3(d,gn.memoizedState,c)},useTransition:function(){var c=w1(_p)[0],d=Ts().memoizedState;return[c,d]},useMutableSource:_3,useSyncExternalStore:A3,useId:$3,unstable_isNewReconciler:!1},mL={readContext:Is,useCallback:L3,useContext:Is,useEffect:E1,useImperativeHandle:M3,useInsertionEffect:O3,useLayoutEffect:k3,useMemo:U3,useReducer:b1,useRef:P3,useState:function(){return b1(_p)},useDebugValue:_1,useDeferredValue:function(c){var d=Ts();return gn===null?d.memoizedState=c:F3(d,gn.memoizedState,c)},useTransition:function(){var c=b1(_p)[0],d=Ts().memoizedState;return[c,d]},useMutableSource:_3,useSyncExternalStore:A3,useId:$3,unstable_isNewReconciler:!1};function ro(c,d){if(c&&c.defaultProps){d=A({},d),c=c.defaultProps;for(var p in c)d[p]===void 0&&(d[p]=c[p]);return d}return d}function A1(c,d,p,b){d=c.memoizedState,p=p(b,d),p=p==null?d:A({},d,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var Y0={isMounted:function(c){return(c=c._reactInternals)?jt(c)===c:!1},enqueueSetState:function(c,d,p){c=c._reactInternals;var b=xi(),S=Bc(c),O=Da(b,S);O.payload=d,p!=null&&(O.callback=p),d=Lc(c,O,S),d!==null&&(so(d,c,S,b),V0(d,c,S))},enqueueReplaceState:function(c,d,p){c=c._reactInternals;var b=xi(),S=Bc(c),O=Da(b,S);O.tag=1,O.payload=d,p!=null&&(O.callback=p),d=Lc(c,O,S),d!==null&&(so(d,c,S,b),V0(d,c,S))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var p=xi(),b=Bc(c),S=Da(p,b);S.tag=2,d!=null&&(S.callback=d),d=Lc(c,S,b),d!==null&&(so(d,c,b,p),V0(d,c,b))}};function q3(c,d,p,b,S,O,K){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,O,K):d.prototype&&d.prototype.isPureReactComponent?!lp(p,b)||!lp(S,O):!0}function z3(c,d,p){var b=!1,S=kc,O=d.contextType;return typeof O=="object"&&O!==null?O=Is(O):(S=Fi(d)?ru:oi.current,b=d.contextTypes,O=(b=b!=null)?Wd(c,S):kc),d=new d(p,O),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Y0,c.stateNode=d,d._reactInternals=c,b&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=S,c.__reactInternalMemoizedMaskedChildContext=O),d}function H3(c,d,p,b){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,b),d.state!==c&&Y0.enqueueReplaceState(d,d.state,null)}function C1(c,d,p,b){var S=c.stateNode;S.props=p,S.state=c.memoizedState,S.refs={},u1(c);var O=d.contextType;typeof O=="object"&&O!==null?S.context=Is(O):(O=Fi(d)?ru:oi.current,S.context=Wd(c,O)),S.state=c.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(A1(c,d,O,p),S.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(d=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),d!==S.state&&Y0.enqueueReplaceState(S,S.state,null),q0(c,p,S,b),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308)}function eh(c,d){try{var p="",b=d;do p+=de(b),b=b.return;while(b);var S=p}catch(O){S=`
Error generating stack: `+O.message+`
`+O.stack}return{value:c,source:d,stack:S,digest:null}}function S1(c,d,p){return{value:c,source:null,stack:p??null,digest:d??null}}function I1(c,d){try{console.error(d.value)}catch(p){setTimeout(function(){throw p})}}var gL=typeof WeakMap=="function"?WeakMap:Map;function W3(c,d,p){p=Da(-1,p),p.tag=3,p.payload={element:null};var b=d.value;return p.callback=function(){ny||(ny=!0,j1=b),I1(c,d)},p}function K3(c,d,p){p=Da(-1,p),p.tag=3;var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var S=d.value;p.payload=function(){return b(S)},p.callback=function(){I1(c,d)}}var O=c.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(p.callback=function(){I1(c,d),typeof b!="function"&&(Fc===null?Fc=new Set([this]):Fc.add(this));var K=d.stack;this.componentDidCatch(d.value,{componentStack:K!==null?K:""})}),p}function G3(c,d,p){var b=c.pingCache;if(b===null){b=c.pingCache=new gL;var S=new Set;b.set(d,S)}else S=b.get(d),S===void 0&&(S=new Set,b.set(d,S));S.has(p)||(S.add(p),c=PL.bind(null,c,d,p),d.then(c,c))}function Q3(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function Y3(c,d,p,b,S){return(c.mode&1)===0?(c===d?c.flags|=65536:(c.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(d=Da(-1,1),d.tag=2,Lc(p,d,1))),p.lanes|=1),c):(c.flags|=65536,c.lanes=S,c)}var yL=V.ReactCurrentOwner,$i=!1;function Ti(c,d,p,b){d.child=c===null?g3(d,null,p,b):Yd(d,c.child,p,b)}function J3(c,d,p,b,S){p=p.render;var O=d.ref;return Zd(d,S),b=y1(c,d,p,b,O,S),p=v1(),c!==null&&!$i?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~S,Ma(c,d,S)):(Wr&&p&&e1(d),d.flags|=1,Ti(c,d,b,S),d.child)}function Z3(c,d,p,b,S){if(c===null){var O=p.type;return typeof O=="function"&&!G1(O)&&O.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(d.tag=15,d.type=O,X3(c,d,O,b,S)):(c=ly(p.type,null,b,d,d.mode,S),c.ref=d.ref,c.return=d,d.child=c)}if(O=c.child,(c.lanes&S)===0){var K=O.memoizedProps;if(p=p.compare,p=p!==null?p:lp,p(K,b)&&c.ref===d.ref)return Ma(c,d,S)}return d.flags|=1,c=Vc(O,b),c.ref=d.ref,c.return=d,d.child=c}function X3(c,d,p,b,S){if(c!==null){var O=c.memoizedProps;if(lp(O,b)&&c.ref===d.ref)if($i=!1,d.pendingProps=b=O,(c.lanes&S)!==0)(c.flags&131072)!==0&&($i=!0);else return d.lanes=c.lanes,Ma(c,d,S)}return T1(c,d,p,b,S)}function eT(c,d,p){var b=d.pendingProps,S=b.children,O=c!==null?c.memoizedState:null;if(b.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dr(rh,ds),ds|=p;else{if((p&1073741824)===0)return c=O!==null?O.baseLanes|p:p,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,Dr(rh,ds),ds|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=O!==null?O.baseLanes:p,Dr(rh,ds),ds|=b}else O!==null?(b=O.baseLanes|p,d.memoizedState=null):b=p,Dr(rh,ds),ds|=b;return Ti(c,d,S,p),d.child}function tT(c,d){var p=d.ref;(c===null&&p!==null||c!==null&&c.ref!==p)&&(d.flags|=512,d.flags|=2097152)}function T1(c,d,p,b,S){var O=Fi(p)?ru:oi.current;return O=Wd(d,O),Zd(d,S),p=y1(c,d,p,b,O,S),b=v1(),c!==null&&!$i?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~S,Ma(c,d,S)):(Wr&&b&&e1(d),d.flags|=1,Ti(c,d,p,S),d.child)}function rT(c,d,p,b,S){if(Fi(p)){var O=!0;D0(d)}else O=!1;if(Zd(d,S),d.stateNode===null)Z0(c,d),z3(d,p,b),C1(d,p,b,S),b=!0;else if(c===null){var K=d.stateNode,Z=d.memoizedProps;K.props=Z;var te=K.context,le=p.contextType;typeof le=="object"&&le!==null?le=Is(le):(le=Fi(p)?ru:oi.current,le=Wd(d,le));var ge=p.getDerivedStateFromProps,we=typeof ge=="function"||typeof K.getSnapshotBeforeUpdate=="function";we||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(Z!==b||te!==le)&&H3(d,K,b,le),Mc=!1;var me=d.memoizedState;K.state=me,q0(d,b,K,S),te=d.memoizedState,Z!==b||me!==te||Ui.current||Mc?(typeof ge=="function"&&(A1(d,p,ge,b),te=d.memoizedState),(Z=Mc||q3(d,p,Z,b,me,te,le))?(we||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(d.flags|=4194308)):(typeof K.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=te),K.props=b,K.state=te,K.context=le,b=Z):(typeof K.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{K=d.stateNode,v3(c,d),Z=d.memoizedProps,le=d.type===d.elementType?Z:ro(d.type,Z),K.props=le,we=d.pendingProps,me=K.context,te=p.contextType,typeof te=="object"&&te!==null?te=Is(te):(te=Fi(p)?ru:oi.current,te=Wd(d,te));var Re=p.getDerivedStateFromProps;(ge=typeof Re=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(Z!==we||me!==te)&&H3(d,K,b,te),Mc=!1,me=d.memoizedState,K.state=me,q0(d,b,K,S);var je=d.memoizedState;Z!==we||me!==je||Ui.current||Mc?(typeof Re=="function"&&(A1(d,p,Re,b),je=d.memoizedState),(le=Mc||q3(d,p,le,b,me,je,te)||!1)?(ge||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(b,je,te),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(b,je,te)),typeof K.componentDidUpdate=="function"&&(d.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof K.componentDidUpdate!="function"||Z===c.memoizedProps&&me===c.memoizedState||(d.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||Z===c.memoizedProps&&me===c.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=je),K.props=b,K.state=je,K.context=te,b=le):(typeof K.componentDidUpdate!="function"||Z===c.memoizedProps&&me===c.memoizedState||(d.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||Z===c.memoizedProps&&me===c.memoizedState||(d.flags|=1024),b=!1)}return x1(c,d,p,b,O,S)}function x1(c,d,p,b,S,O){tT(c,d);var K=(d.flags&128)!==0;if(!b&&!K)return S&&a3(d,p,!1),Ma(c,d,O);b=d.stateNode,yL.current=d;var Z=K&&typeof p.getDerivedStateFromError!="function"?null:b.render();return d.flags|=1,c!==null&&K?(d.child=Yd(d,c.child,null,O),d.child=Yd(d,null,Z,O)):Ti(c,d,Z,O),d.memoizedState=b.state,S&&a3(d,p,!0),d.child}function nT(c){var d=c.stateNode;d.pendingContext?s3(c,d.pendingContext,d.pendingContext!==d.context):d.context&&s3(c,d.context,!1),d1(c,d.containerInfo)}function iT(c,d,p,b,S){return Qd(),i1(S),d.flags|=256,Ti(c,d,p,b),d.child}var N1={dehydrated:null,treeContext:null,retryLane:0};function P1(c){return{baseLanes:c,cachePool:null,transitions:null}}function sT(c,d,p){var b=d.pendingProps,S=Qr.current,O=!1,K=(d.flags&128)!==0,Z;if((Z=K)||(Z=c!==null&&c.memoizedState===null?!1:(S&2)!==0),Z?(O=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(S|=1),Dr(Qr,S&1),c===null)return n1(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((d.mode&1)===0?d.lanes=1:c.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(K=b.children,c=b.fallback,O?(b=d.mode,O=d.child,K={mode:"hidden",children:K},(b&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=K):O=uy(K,b,0,null),c=hu(c,b,p,null),O.return=d,c.return=d,O.sibling=c,d.child=O,d.child.memoizedState=P1(p),d.memoizedState=N1,c):R1(d,K));if(S=c.memoizedState,S!==null&&(Z=S.dehydrated,Z!==null))return vL(c,d,K,b,Z,S,p);if(O){O=b.fallback,K=d.mode,S=c.child,Z=S.sibling;var te={mode:"hidden",children:b.children};return(K&1)===0&&d.child!==S?(b=d.child,b.childLanes=0,b.pendingProps=te,d.deletions=null):(b=Vc(S,te),b.subtreeFlags=S.subtreeFlags&14680064),Z!==null?O=Vc(Z,O):(O=hu(O,K,p,null),O.flags|=2),O.return=d,b.return=d,b.sibling=O,d.child=b,b=O,O=d.child,K=c.child.memoizedState,K=K===null?P1(p):{baseLanes:K.baseLanes|p,cachePool:null,transitions:K.transitions},O.memoizedState=K,O.childLanes=c.childLanes&~p,d.memoizedState=N1,b}return O=c.child,c=O.sibling,b=Vc(O,{mode:"visible",children:b.children}),(d.mode&1)===0&&(b.lanes=p),b.return=d,b.sibling=null,c!==null&&(p=d.deletions,p===null?(d.deletions=[c],d.flags|=16):p.push(c)),d.child=b,d.memoizedState=null,b}function R1(c,d){return d=uy({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function J0(c,d,p,b){return b!==null&&i1(b),Yd(d,c.child,null,p),c=R1(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function vL(c,d,p,b,S,O,K){if(p)return d.flags&256?(d.flags&=-257,b=S1(Error(r(422))),J0(c,d,K,b)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(O=b.fallback,S=d.mode,b=uy({mode:"visible",children:b.children},S,0,null),O=hu(O,S,K,null),O.flags|=2,b.return=d,O.return=d,b.sibling=O,d.child=b,(d.mode&1)!==0&&Yd(d,c.child,null,K),d.child.memoizedState=P1(K),d.memoizedState=N1,O);if((d.mode&1)===0)return J0(c,d,K,null);if(S.data==="$!"){if(b=S.nextSibling&&S.nextSibling.dataset,b)var Z=b.dgst;return b=Z,O=Error(r(419)),b=S1(O,b,void 0),J0(c,d,K,b)}if(Z=(K&c.childLanes)!==0,$i||Z){if(b=Pn,b!==null){switch(K&-K){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(b.suspendedLanes|K))!==0?0:S,S!==0&&S!==O.retryLane&&(O.retryLane=S,ka(c,S),so(b,c,S,-1))}return K1(),b=S1(Error(r(421))),J0(c,d,K,b)}return S.data==="$?"?(d.flags|=128,d.child=c.child,d=RL.bind(null,c),S._reactRetry=d,null):(c=O.treeContext,us=Rc(S.nextSibling),ls=d,Wr=!0,to=null,c!==null&&(Cs[Ss++]=Ra,Cs[Ss++]=Oa,Cs[Ss++]=nu,Ra=c.id,Oa=c.overflow,nu=d),d=R1(d,b.children),d.flags|=4096,d)}function oT(c,d,p){c.lanes|=d;var b=c.alternate;b!==null&&(b.lanes|=d),c1(c.return,d,p)}function O1(c,d,p,b,S){var O=c.memoizedState;O===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:S}:(O.isBackwards=d,O.rendering=null,O.renderingStartTime=0,O.last=b,O.tail=p,O.tailMode=S)}function aT(c,d,p){var b=d.pendingProps,S=b.revealOrder,O=b.tail;if(Ti(c,d,b.children,p),b=Qr.current,(b&2)!==0)b=b&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&oT(c,p,d);else if(c.tag===19)oT(c,p,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}if(Dr(Qr,b),(d.mode&1)===0)d.memoizedState=null;else switch(S){case"forwards":for(p=d.child,S=null;p!==null;)c=p.alternate,c!==null&&z0(c)===null&&(S=p),p=p.sibling;p=S,p===null?(S=d.child,d.child=null):(S=p.sibling,p.sibling=null),O1(d,!1,S,p,O);break;case"backwards":for(p=null,S=d.child,d.child=null;S!==null;){if(c=S.alternate,c!==null&&z0(c)===null){d.child=S;break}c=S.sibling,S.sibling=p,p=S,S=c}O1(d,!0,p,null,O);break;case"together":O1(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Z0(c,d){(d.mode&1)===0&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function Ma(c,d,p){if(c!==null&&(d.dependencies=c.dependencies),cu|=d.lanes,(p&d.childLanes)===0)return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,p=Vc(c,c.pendingProps),d.child=p,p.return=d;c.sibling!==null;)c=c.sibling,p=p.sibling=Vc(c,c.pendingProps),p.return=d;p.sibling=null}return d.child}function wL(c,d,p){switch(d.tag){case 3:nT(d),Qd();break;case 5:E3(d);break;case 1:Fi(d.type)&&D0(d);break;case 4:d1(d,d.stateNode.containerInfo);break;case 10:var b=d.type._context,S=d.memoizedProps.value;Dr(B0,b._currentValue),b._currentValue=S;break;case 13:if(b=d.memoizedState,b!==null)return b.dehydrated!==null?(Dr(Qr,Qr.current&1),d.flags|=128,null):(p&d.child.childLanes)!==0?sT(c,d,p):(Dr(Qr,Qr.current&1),c=Ma(c,d,p),c!==null?c.sibling:null);Dr(Qr,Qr.current&1);break;case 19:if(b=(p&d.childLanes)!==0,(c.flags&128)!==0){if(b)return aT(c,d,p);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Dr(Qr,Qr.current),b)break;return null;case 22:case 23:return d.lanes=0,eT(c,d,p)}return Ma(c,d,p)}var cT,k1,lT,uT;cT=function(c,d){for(var p=d.child;p!==null;){if(p.tag===5||p.tag===6)c.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},k1=function(){},lT=function(c,d,p,b){var S=c.memoizedProps;if(S!==b){c=d.stateNode,ou(Lo.current);var O=null;switch(p){case"input":S=Gr(c,S),b=Gr(c,b),O=[];break;case"select":S=A({},S,{value:void 0}),b=A({},b,{value:void 0}),O=[];break;case"textarea":S=Ft(c,S),b=Ft(c,b),O=[];break;default:typeof S.onClick!="function"&&typeof b.onClick=="function"&&(c.onclick=R0)}Nr(p,b);var K;p=null;for(le in S)if(!b.hasOwnProperty(le)&&S.hasOwnProperty(le)&&S[le]!=null)if(le==="style"){var Z=S[le];for(K in Z)Z.hasOwnProperty(K)&&(p||(p={}),p[K]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(i.hasOwnProperty(le)?O||(O=[]):(O=O||[]).push(le,null));for(le in b){var te=b[le];if(Z=S!=null?S[le]:void 0,b.hasOwnProperty(le)&&te!==Z&&(te!=null||Z!=null))if(le==="style")if(Z){for(K in Z)!Z.hasOwnProperty(K)||te&&te.hasOwnProperty(K)||(p||(p={}),p[K]="");for(K in te)te.hasOwnProperty(K)&&Z[K]!==te[K]&&(p||(p={}),p[K]=te[K])}else p||(O||(O=[]),O.push(le,p)),p=te;else le==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,Z=Z?Z.__html:void 0,te!=null&&Z!==te&&(O=O||[]).push(le,te)):le==="children"?typeof te!="string"&&typeof te!="number"||(O=O||[]).push(le,""+te):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(i.hasOwnProperty(le)?(te!=null&&le==="onScroll"&&$r("scroll",c),O||Z===te||(O=[])):(O=O||[]).push(le,te))}p&&(O=O||[]).push("style",p);var le=O;(d.updateQueue=le)&&(d.flags|=4)}},uT=function(c,d,p,b){p!==b&&(d.flags|=4)};function Cp(c,d){if(!Wr)switch(c.tailMode){case"hidden":d=c.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function ci(c){var d=c.alternate!==null&&c.alternate.child===c.child,p=0,b=0;if(d)for(var S=c.child;S!==null;)p|=S.lanes|S.childLanes,b|=S.subtreeFlags&14680064,b|=S.flags&14680064,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)p|=S.lanes|S.childLanes,b|=S.subtreeFlags,b|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=b,c.childLanes=p,d}function bL(c,d,p){var b=d.pendingProps;switch(t1(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(d),null;case 1:return Fi(d.type)&&k0(),ci(d),null;case 3:return b=d.stateNode,Xd(),Br(Ui),Br(oi),p1(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(c===null||c.child===null)&&(F0(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,to!==null&&(z1(to),to=null))),k1(c,d),ci(d),null;case 5:h1(d);var S=ou(wp.current);if(p=d.type,c!==null&&d.stateNode!=null)lT(c,d,p,b,S),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!b){if(d.stateNode===null)throw Error(r(166));return ci(d),null}if(c=ou(Lo.current),F0(d)){b=d.stateNode,p=d.type;var O=d.memoizedProps;switch(b[Mo]=d,b[pp]=O,c=(d.mode&1)!==0,p){case"dialog":$r("cancel",b),$r("close",b);break;case"iframe":case"object":case"embed":$r("load",b);break;case"video":case"audio":for(S=0;S<dp.length;S++)$r(dp[S],b);break;case"source":$r("error",b);break;case"img":case"image":case"link":$r("error",b),$r("load",b);break;case"details":$r("toggle",b);break;case"input":_t(b,O),$r("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!O.multiple},$r("invalid",b);break;case"textarea":_i(b,O),$r("invalid",b)}Nr(p,O),S=null;for(var K in O)if(O.hasOwnProperty(K)){var Z=O[K];K==="children"?typeof Z=="string"?b.textContent!==Z&&(O.suppressHydrationWarning!==!0&&P0(b.textContent,Z,c),S=["children",Z]):typeof Z=="number"&&b.textContent!==""+Z&&(O.suppressHydrationWarning!==!0&&P0(b.textContent,Z,c),S=["children",""+Z]):i.hasOwnProperty(K)&&Z!=null&&K==="onScroll"&&$r("scroll",b)}switch(p){case"input":ar(b),Qt(b,O,!0);break;case"textarea":ar(b),Rt(b);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(b.onclick=R0)}b=S,d.updateQueue=b,b!==null&&(d.flags|=4)}else{K=S.nodeType===9?S:S.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=cr(p)),c==="http://www.w3.org/1999/xhtml"?p==="script"?(c=K.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof b.is=="string"?c=K.createElement(p,{is:b.is}):(c=K.createElement(p),p==="select"&&(K=c,b.multiple?K.multiple=!0:b.size&&(K.size=b.size))):c=K.createElementNS(c,p),c[Mo]=d,c[pp]=b,cT(c,d,!1,!1),d.stateNode=c;e:{switch(K=Pr(p,b),p){case"dialog":$r("cancel",c),$r("close",c),S=b;break;case"iframe":case"object":case"embed":$r("load",c),S=b;break;case"video":case"audio":for(S=0;S<dp.length;S++)$r(dp[S],c);S=b;break;case"source":$r("error",c),S=b;break;case"img":case"image":case"link":$r("error",c),$r("load",c),S=b;break;case"details":$r("toggle",c),S=b;break;case"input":_t(c,b),S=Gr(c,b),$r("invalid",c);break;case"option":S=b;break;case"select":c._wrapperState={wasMultiple:!!b.multiple},S=A({},b,{value:void 0}),$r("invalid",c);break;case"textarea":_i(c,b),S=Ft(c,b),$r("invalid",c);break;default:S=b}Nr(p,S),Z=S;for(O in Z)if(Z.hasOwnProperty(O)){var te=Z[O];O==="style"?xr(c,te):O==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&Co(c,te)):O==="children"?typeof te=="string"?(p!=="textarea"||te!=="")&&Kt(c,te):typeof te=="number"&&Kt(c,""+te):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?te!=null&&O==="onScroll"&&$r("scroll",c):te!=null&&F(c,O,te,K))}switch(p){case"input":ar(c),Qt(c,b,!1);break;case"textarea":ar(c),Rt(c);break;case"option":b.value!=null&&c.setAttribute("value",""+De(b.value));break;case"select":c.multiple=!!b.multiple,O=b.value,O!=null?At(c,!!b.multiple,O,!1):b.defaultValue!=null&&At(c,!!b.multiple,b.defaultValue,!0);break;default:typeof S.onClick=="function"&&(c.onclick=R0)}switch(p){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return ci(d),null;case 6:if(c&&d.stateNode!=null)uT(c,d,c.memoizedProps,b);else{if(typeof b!="string"&&d.stateNode===null)throw Error(r(166));if(p=ou(wp.current),ou(Lo.current),F0(d)){if(b=d.stateNode,p=d.memoizedProps,b[Mo]=d,(O=b.nodeValue!==p)&&(c=ls,c!==null))switch(c.tag){case 3:P0(b.nodeValue,p,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&P0(b.nodeValue,p,(c.mode&1)!==0)}O&&(d.flags|=4)}else b=(p.nodeType===9?p:p.ownerDocument).createTextNode(b),b[Mo]=d,d.stateNode=b}return ci(d),null;case 13:if(Br(Qr),b=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Wr&&us!==null&&(d.mode&1)!==0&&(d.flags&128)===0)f3(),Qd(),d.flags|=98560,O=!1;else if(O=F0(d),b!==null&&b.dehydrated!==null){if(c===null){if(!O)throw Error(r(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[Mo]=d}else Qd(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;ci(d),O=!1}else to!==null&&(z1(to),to=null),O=!0;if(!O)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=p,d):(b=b!==null,b!==(c!==null&&c.memoizedState!==null)&&b&&(d.child.flags|=8192,(d.mode&1)!==0&&(c===null||(Qr.current&1)!==0?yn===0&&(yn=3):K1())),d.updateQueue!==null&&(d.flags|=4),ci(d),null);case 4:return Xd(),k1(c,d),c===null&&hp(d.stateNode.containerInfo),ci(d),null;case 10:return a1(d.type._context),ci(d),null;case 17:return Fi(d.type)&&k0(),ci(d),null;case 19:if(Br(Qr),O=d.memoizedState,O===null)return ci(d),null;if(b=(d.flags&128)!==0,K=O.rendering,K===null)if(b)Cp(O,!1);else{if(yn!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(K=z0(c),K!==null){for(d.flags|=128,Cp(O,!1),b=K.updateQueue,b!==null&&(d.updateQueue=b,d.flags|=4),d.subtreeFlags=0,b=p,p=d.child;p!==null;)O=p,c=b,O.flags&=14680066,K=O.alternate,K===null?(O.childLanes=0,O.lanes=c,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=K.childLanes,O.lanes=K.lanes,O.child=K.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=K.memoizedProps,O.memoizedState=K.memoizedState,O.updateQueue=K.updateQueue,O.type=K.type,c=K.dependencies,O.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),p=p.sibling;return Dr(Qr,Qr.current&1|2),d.child}c=c.sibling}O.tail!==null&&Jt()>nh&&(d.flags|=128,b=!0,Cp(O,!1),d.lanes=4194304)}else{if(!b)if(c=z0(K),c!==null){if(d.flags|=128,b=!0,p=c.updateQueue,p!==null&&(d.updateQueue=p,d.flags|=4),Cp(O,!0),O.tail===null&&O.tailMode==="hidden"&&!K.alternate&&!Wr)return ci(d),null}else 2*Jt()-O.renderingStartTime>nh&&p!==1073741824&&(d.flags|=128,b=!0,Cp(O,!1),d.lanes=4194304);O.isBackwards?(K.sibling=d.child,d.child=K):(p=O.last,p!==null?p.sibling=K:d.child=K,O.last=K)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=Jt(),d.sibling=null,p=Qr.current,Dr(Qr,b?p&1|2:p&1),d):(ci(d),null);case 22:case 23:return W1(),b=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==b&&(d.flags|=8192),b&&(d.mode&1)!==0?(ds&1073741824)!==0&&(ci(d),d.subtreeFlags&6&&(d.flags|=8192)):ci(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function EL(c,d){switch(t1(d),d.tag){case 1:return Fi(d.type)&&k0(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Xd(),Br(Ui),Br(oi),p1(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 5:return h1(d),null;case 13:if(Br(Qr),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Qd()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return Br(Qr),null;case 4:return Xd(),null;case 10:return a1(d.type._context),null;case 22:case 23:return W1(),null;case 24:return null;default:return null}}var X0=!1,li=!1,_L=typeof WeakSet=="function"?WeakSet:Set,$e=null;function th(c,d){var p=c.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(b){en(c,d,b)}else p.current=null}function D1(c,d,p){try{p()}catch(b){en(c,d,b)}}var dT=!1;function AL(c,d){if(Wb=xc,c=qI(),Fb(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var S=b.anchorOffset,O=b.focusNode;b=b.focusOffset;try{p.nodeType,O.nodeType}catch{p=null;break e}var K=0,Z=-1,te=-1,le=0,ge=0,we=c,me=null;t:for(;;){for(var Re;we!==p||S!==0&&we.nodeType!==3||(Z=K+S),we!==O||b!==0&&we.nodeType!==3||(te=K+b),we.nodeType===3&&(K+=we.nodeValue.length),(Re=we.firstChild)!==null;)me=we,we=Re;for(;;){if(we===c)break t;if(me===p&&++le===S&&(Z=K),me===O&&++ge===b&&(te=K),(Re=we.nextSibling)!==null)break;we=me,me=we.parentNode}we=Re}p=Z===-1||te===-1?null:{start:Z,end:te}}else p=null}p=p||{start:0,end:0}}else p=null;for(Kb={focusedElem:c,selectionRange:p},xc=!1,$e=d;$e!==null;)if(d=$e,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,$e=c;else for(;$e!==null;){d=$e;try{var je=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var qe=je.memoizedProps,sn=je.memoizedState,ae=d.stateNode,ne=ae.getSnapshotBeforeUpdate(d.elementType===d.type?qe:ro(d.type,qe),sn);ae.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var ce=d.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ce){en(d,d.return,Ce)}if(c=d.sibling,c!==null){c.return=d.return,$e=c;break}$e=d.return}return je=dT,dT=!1,je}function Sp(c,d,p){var b=d.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var S=b=b.next;do{if((S.tag&c)===c){var O=S.destroy;S.destroy=void 0,O!==void 0&&D1(d,p,O)}S=S.next}while(S!==b)}}function ey(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&c)===c){var b=p.create;p.destroy=b()}p=p.next}while(p!==d)}}function M1(c){var d=c.ref;if(d!==null){var p=c.stateNode;switch(c.tag){case 5:c=p;break;default:c=p}typeof d=="function"?d(c):d.current=c}}function hT(c){var d=c.alternate;d!==null&&(c.alternate=null,hT(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[Mo],delete d[pp],delete d[Jb],delete d[sL],delete d[oL])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function fT(c){return c.tag===5||c.tag===3||c.tag===4}function pT(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||fT(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function L1(c,d,p){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?p.nodeType===8?p.parentNode.insertBefore(c,d):p.insertBefore(c,d):(p.nodeType===8?(d=p.parentNode,d.insertBefore(c,p)):(d=p,d.appendChild(c)),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=R0));else if(b!==4&&(c=c.child,c!==null))for(L1(c,d,p),c=c.sibling;c!==null;)L1(c,d,p),c=c.sibling}function U1(c,d,p){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?p.insertBefore(c,d):p.appendChild(c);else if(b!==4&&(c=c.child,c!==null))for(U1(c,d,p),c=c.sibling;c!==null;)U1(c,d,p),c=c.sibling}var qn=null,no=!1;function Uc(c,d,p){for(p=p.child;p!==null;)mT(c,d,p),p=p.sibling}function mT(c,d,p){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(Gs,p)}catch{}switch(p.tag){case 5:li||th(p,d);case 6:var b=qn,S=no;qn=null,Uc(c,d,p),qn=b,no=S,qn!==null&&(no?(c=qn,p=p.stateNode,c.nodeType===8?c.parentNode.removeChild(p):c.removeChild(p)):qn.removeChild(p.stateNode));break;case 18:qn!==null&&(no?(c=qn,p=p.stateNode,c.nodeType===8?Yb(c.parentNode,p):c.nodeType===1&&Yb(c,p),Zs(c)):Yb(qn,p.stateNode));break;case 4:b=qn,S=no,qn=p.stateNode.containerInfo,no=!0,Uc(c,d,p),qn=b,no=S;break;case 0:case 11:case 14:case 15:if(!li&&(b=p.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){S=b=b.next;do{var O=S,K=O.destroy;O=O.tag,K!==void 0&&((O&2)!==0||(O&4)!==0)&&D1(p,d,K),S=S.next}while(S!==b)}Uc(c,d,p);break;case 1:if(!li&&(th(p,d),b=p.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=p.memoizedProps,b.state=p.memoizedState,b.componentWillUnmount()}catch(Z){en(p,d,Z)}Uc(c,d,p);break;case 21:Uc(c,d,p);break;case 22:p.mode&1?(li=(b=li)||p.memoizedState!==null,Uc(c,d,p),li=b):Uc(c,d,p);break;default:Uc(c,d,p)}}function gT(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var p=c.stateNode;p===null&&(p=c.stateNode=new _L),d.forEach(function(b){var S=OL.bind(null,c,b);p.has(b)||(p.add(b),b.then(S,S))})}}function io(c,d){var p=d.deletions;if(p!==null)for(var b=0;b<p.length;b++){var S=p[b];try{var O=c,K=d,Z=K;e:for(;Z!==null;){switch(Z.tag){case 5:qn=Z.stateNode,no=!1;break e;case 3:qn=Z.stateNode.containerInfo,no=!0;break e;case 4:qn=Z.stateNode.containerInfo,no=!0;break e}Z=Z.return}if(qn===null)throw Error(r(160));mT(O,K,S),qn=null,no=!1;var te=S.alternate;te!==null&&(te.return=null),S.return=null}catch(le){en(S,d,le)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)yT(d,c),d=d.sibling}function yT(c,d){var p=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(io(d,c),Fo(c),b&4){try{Sp(3,c,c.return),ey(3,c)}catch(qe){en(c,c.return,qe)}try{Sp(5,c,c.return)}catch(qe){en(c,c.return,qe)}}break;case 1:io(d,c),Fo(c),b&512&&p!==null&&th(p,p.return);break;case 5:if(io(d,c),Fo(c),b&512&&p!==null&&th(p,p.return),c.flags&32){var S=c.stateNode;try{Kt(S,"")}catch(qe){en(c,c.return,qe)}}if(b&4&&(S=c.stateNode,S!=null)){var O=c.memoizedProps,K=p!==null?p.memoizedProps:O,Z=c.type,te=c.updateQueue;if(c.updateQueue=null,te!==null)try{Z==="input"&&O.type==="radio"&&O.name!=null&&Pt(S,O),Pr(Z,K);var le=Pr(Z,O);for(K=0;K<te.length;K+=2){var ge=te[K],we=te[K+1];ge==="style"?xr(S,we):ge==="dangerouslySetInnerHTML"?Co(S,we):ge==="children"?Kt(S,we):F(S,ge,we,le)}switch(Z){case"input":ii(S,O);break;case"textarea":St(S,O);break;case"select":var me=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!O.multiple;var Re=O.value;Re!=null?At(S,!!O.multiple,Re,!1):me!==!!O.multiple&&(O.defaultValue!=null?At(S,!!O.multiple,O.defaultValue,!0):At(S,!!O.multiple,O.multiple?[]:"",!1))}S[pp]=O}catch(qe){en(c,c.return,qe)}}break;case 6:if(io(d,c),Fo(c),b&4){if(c.stateNode===null)throw Error(r(162));S=c.stateNode,O=c.memoizedProps;try{S.nodeValue=O}catch(qe){en(c,c.return,qe)}}break;case 3:if(io(d,c),Fo(c),b&4&&p!==null&&p.memoizedState.isDehydrated)try{Zs(d.containerInfo)}catch(qe){en(c,c.return,qe)}break;case 4:io(d,c),Fo(c);break;case 13:io(d,c),Fo(c),S=c.child,S.flags&8192&&(O=S.memoizedState!==null,S.stateNode.isHidden=O,!O||S.alternate!==null&&S.alternate.memoizedState!==null||(B1=Jt())),b&4&&gT(c);break;case 22:if(ge=p!==null&&p.memoizedState!==null,c.mode&1?(li=(le=li)||ge,io(d,c),li=le):io(d,c),Fo(c),b&8192){if(le=c.memoizedState!==null,(c.stateNode.isHidden=le)&&!ge&&(c.mode&1)!==0)for($e=c,ge=c.child;ge!==null;){for(we=$e=ge;$e!==null;){switch(me=$e,Re=me.child,me.tag){case 0:case 11:case 14:case 15:Sp(4,me,me.return);break;case 1:th(me,me.return);var je=me.stateNode;if(typeof je.componentWillUnmount=="function"){b=me,p=me.return;try{d=b,je.props=d.memoizedProps,je.state=d.memoizedState,je.componentWillUnmount()}catch(qe){en(b,p,qe)}}break;case 5:th(me,me.return);break;case 22:if(me.memoizedState!==null){bT(we);continue}}Re!==null?(Re.return=me,$e=Re):bT(we)}ge=ge.sibling}e:for(ge=null,we=c;;){if(we.tag===5){if(ge===null){ge=we;try{S=we.stateNode,le?(O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(Z=we.stateNode,te=we.memoizedProps.style,K=te!=null&&te.hasOwnProperty("display")?te.display:null,Z.style.display=Tr("display",K))}catch(qe){en(c,c.return,qe)}}}else if(we.tag===6){if(ge===null)try{we.stateNode.nodeValue=le?"":we.memoizedProps}catch(qe){en(c,c.return,qe)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===c)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===c)break e;for(;we.sibling===null;){if(we.return===null||we.return===c)break e;ge===we&&(ge=null),we=we.return}ge===we&&(ge=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:io(d,c),Fo(c),b&4&&gT(c);break;case 21:break;default:io(d,c),Fo(c)}}function Fo(c){var d=c.flags;if(d&2){try{e:{for(var p=c.return;p!==null;){if(fT(p)){var b=p;break e}p=p.return}throw Error(r(160))}switch(b.tag){case 5:var S=b.stateNode;b.flags&32&&(Kt(S,""),b.flags&=-33);var O=pT(c);U1(c,O,S);break;case 3:case 4:var K=b.stateNode.containerInfo,Z=pT(c);L1(c,Z,K);break;default:throw Error(r(161))}}catch(te){en(c,c.return,te)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function CL(c,d,p){$e=c,vT(c)}function vT(c,d,p){for(var b=(c.mode&1)!==0;$e!==null;){var S=$e,O=S.child;if(S.tag===22&&b){var K=S.memoizedState!==null||X0;if(!K){var Z=S.alternate,te=Z!==null&&Z.memoizedState!==null||li;Z=X0;var le=li;if(X0=K,(li=te)&&!le)for($e=S;$e!==null;)K=$e,te=K.child,K.tag===22&&K.memoizedState!==null?ET(S):te!==null?(te.return=K,$e=te):ET(S);for(;O!==null;)$e=O,vT(O),O=O.sibling;$e=S,X0=Z,li=le}wT(c)}else(S.subtreeFlags&8772)!==0&&O!==null?(O.return=S,$e=O):wT(c)}}function wT(c){for(;$e!==null;){var d=$e;if((d.flags&8772)!==0){var p=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:li||ey(5,d);break;case 1:var b=d.stateNode;if(d.flags&4&&!li)if(p===null)b.componentDidMount();else{var S=d.elementType===d.type?p.memoizedProps:ro(d.type,p.memoizedProps);b.componentDidUpdate(S,p.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var O=d.updateQueue;O!==null&&b3(d,O,b);break;case 3:var K=d.updateQueue;if(K!==null){if(p=null,d.child!==null)switch(d.child.tag){case 5:p=d.child.stateNode;break;case 1:p=d.child.stateNode}b3(d,K,p)}break;case 5:var Z=d.stateNode;if(p===null&&d.flags&4){p=Z;var te=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&p.focus();break;case"img":te.src&&(p.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var le=d.alternate;if(le!==null){var ge=le.memoizedState;if(ge!==null){var we=ge.dehydrated;we!==null&&Zs(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}li||d.flags&512&&M1(d)}catch(me){en(d,d.return,me)}}if(d===c){$e=null;break}if(p=d.sibling,p!==null){p.return=d.return,$e=p;break}$e=d.return}}function bT(c){for(;$e!==null;){var d=$e;if(d===c){$e=null;break}var p=d.sibling;if(p!==null){p.return=d.return,$e=p;break}$e=d.return}}function ET(c){for(;$e!==null;){var d=$e;try{switch(d.tag){case 0:case 11:case 15:var p=d.return;try{ey(4,d)}catch(te){en(d,p,te)}break;case 1:var b=d.stateNode;if(typeof b.componentDidMount=="function"){var S=d.return;try{b.componentDidMount()}catch(te){en(d,S,te)}}var O=d.return;try{M1(d)}catch(te){en(d,O,te)}break;case 5:var K=d.return;try{M1(d)}catch(te){en(d,K,te)}}}catch(te){en(d,d.return,te)}if(d===c){$e=null;break}var Z=d.sibling;if(Z!==null){Z.return=d.return,$e=Z;break}$e=d.return}}var SL=Math.ceil,ty=V.ReactCurrentDispatcher,F1=V.ReactCurrentOwner,xs=V.ReactCurrentBatchConfig,Ut=0,Pn=null,ln=null,zn=0,ds=0,rh=Oc(0),yn=0,Ip=null,cu=0,ry=0,$1=0,Tp=null,Bi=null,B1=0,nh=1/0,La=null,ny=!1,j1=null,Fc=null,iy=!1,$c=null,sy=0,xp=0,V1=null,oy=-1,ay=0;function xi(){return(Ut&6)!==0?Jt():oy!==-1?oy:oy=Jt()}function Bc(c){return(c.mode&1)===0?1:(Ut&2)!==0&&zn!==0?zn&-zn:cL.transition!==null?(ay===0&&(ay=Yl()),ay):(c=It,c!==0||(c=window.event,c=c===void 0?16:rp(c.type)),c)}function so(c,d,p,b){if(50<xp)throw xp=0,V1=null,Error(r(185));Cc(c,p,b),((Ut&2)===0||c!==Pn)&&(c===Pn&&((Ut&2)===0&&(ry|=p),yn===4&&jc(c,zn)),ji(c,b),p===1&&Ut===0&&(d.mode&1)===0&&(nh=Jt()+500,M0&&Dc()))}function ji(c,d){var p=c.callbackNode;Ca(c,d);var b=Ql(c,c===Pn?zn:0);if(b===0)p!==null&&_a(p),c.callbackNode=null,c.callbackPriority=0;else if(d=b&-b,c.callbackPriority!==d){if(p!=null&&_a(p),d===1)c.tag===0?aL(AT.bind(null,c)):c3(AT.bind(null,c)),nL(function(){(Ut&6)===0&&Dc()}),p=null;else{switch(Ic(b)){case 1:p=Ks;break;case 4:p=Es;break;case 16:p=si;break;case 536870912:p=bc;break;default:p=si}p=RT(p,_T.bind(null,c))}c.callbackPriority=d,c.callbackNode=p}}function _T(c,d){if(oy=-1,ay=0,(Ut&6)!==0)throw Error(r(327));var p=c.callbackNode;if(ih()&&c.callbackNode!==p)return null;var b=Ql(c,c===Pn?zn:0);if(b===0)return null;if((b&30)!==0||(b&c.expiredLanes)!==0||d)d=cy(c,b);else{d=b;var S=Ut;Ut|=2;var O=ST();(Pn!==c||zn!==d)&&(La=null,nh=Jt()+500,uu(c,d));do try{xL();break}catch(Z){CT(c,Z)}while(!0);o1(),ty.current=O,Ut=S,ln!==null?d=0:(Pn=null,zn=0,d=yn)}if(d!==0){if(d===2&&(S=os(c),S!==0&&(b=S,d=q1(c,S))),d===1)throw p=Ip,uu(c,0),jc(c,b),ji(c,Jt()),p;if(d===6)jc(c,b);else{if(S=c.current.alternate,(b&30)===0&&!IL(S)&&(d=cy(c,b),d===2&&(O=os(c),O!==0&&(b=O,d=q1(c,O))),d===1))throw p=Ip,uu(c,0),jc(c,b),ji(c,Jt()),p;switch(c.finishedWork=S,c.finishedLanes=b,d){case 0:case 1:throw Error(r(345));case 2:du(c,Bi,La);break;case 3:if(jc(c,b),(b&130023424)===b&&(d=B1+500-Jt(),10<d)){if(Ql(c,0)!==0)break;if(S=c.suspendedLanes,(S&b)!==b){xi(),c.pingedLanes|=c.suspendedLanes&S;break}c.timeoutHandle=Qb(du.bind(null,c,Bi,La),d);break}du(c,Bi,La);break;case 4:if(jc(c,b),(b&4194240)===b)break;for(d=c.eventTimes,S=-1;0<b;){var K=31-Si(b);O=1<<K,K=d[K],K>S&&(S=K),b&=~O}if(b=S,b=Jt()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*SL(b/1960))-b,10<b){c.timeoutHandle=Qb(du.bind(null,c,Bi,La),b);break}du(c,Bi,La);break;case 5:du(c,Bi,La);break;default:throw Error(r(329))}}}return ji(c,Jt()),c.callbackNode===p?_T.bind(null,c):null}function q1(c,d){var p=Tp;return c.current.memoizedState.isDehydrated&&(uu(c,d).flags|=256),c=cy(c,d),c!==2&&(d=Bi,Bi=p,d!==null&&z1(d)),c}function z1(c){Bi===null?Bi=c:Bi.push.apply(Bi,c)}function IL(c){for(var d=c;;){if(d.flags&16384){var p=d.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var b=0;b<p.length;b++){var S=p[b],O=S.getSnapshot;S=S.value;try{if(!eo(O(),S))return!1}catch{return!1}}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function jc(c,d){for(d&=~$1,d&=~ry,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var p=31-Si(d),b=1<<p;c[p]=-1,d&=~b}}function AT(c){if((Ut&6)!==0)throw Error(r(327));ih();var d=Ql(c,0);if((d&1)===0)return ji(c,Jt()),null;var p=cy(c,d);if(c.tag!==0&&p===2){var b=os(c);b!==0&&(d=b,p=q1(c,b))}if(p===1)throw p=Ip,uu(c,0),jc(c,d),ji(c,Jt()),p;if(p===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,du(c,Bi,La),ji(c,Jt()),null}function H1(c,d){var p=Ut;Ut|=1;try{return c(d)}finally{Ut=p,Ut===0&&(nh=Jt()+500,M0&&Dc())}}function lu(c){$c!==null&&$c.tag===0&&(Ut&6)===0&&ih();var d=Ut;Ut|=1;var p=xs.transition,b=It;try{if(xs.transition=null,It=1,c)return c()}finally{It=b,xs.transition=p,Ut=d,(Ut&6)===0&&Dc()}}function W1(){ds=rh.current,Br(rh)}function uu(c,d){c.finishedWork=null,c.finishedLanes=0;var p=c.timeoutHandle;if(p!==-1&&(c.timeoutHandle=-1,rL(p)),ln!==null)for(p=ln.return;p!==null;){var b=p;switch(t1(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&k0();break;case 3:Xd(),Br(Ui),Br(oi),p1();break;case 5:h1(b);break;case 4:Xd();break;case 13:Br(Qr);break;case 19:Br(Qr);break;case 10:a1(b.type._context);break;case 22:case 23:W1()}p=p.return}if(Pn=c,ln=c=Vc(c.current,null),zn=ds=d,yn=0,Ip=null,$1=ry=cu=0,Bi=Tp=null,su!==null){for(d=0;d<su.length;d++)if(p=su[d],b=p.interleaved,b!==null){p.interleaved=null;var S=b.next,O=p.pending;if(O!==null){var K=O.next;O.next=S,b.next=K}p.pending=b}su=null}return c}function CT(c,d){do{var p=ln;try{if(o1(),H0.current=Q0,W0){for(var b=Yr.memoizedState;b!==null;){var S=b.queue;S!==null&&(S.pending=null),b=b.next}W0=!1}if(au=0,Nn=gn=Yr=null,bp=!1,Ep=0,F1.current=null,p===null||p.return===null){yn=1,Ip=d,ln=null;break}e:{var O=c,K=p.return,Z=p,te=d;if(d=zn,Z.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var le=te,ge=Z,we=ge.tag;if((ge.mode&1)===0&&(we===0||we===11||we===15)){var me=ge.alternate;me?(ge.updateQueue=me.updateQueue,ge.memoizedState=me.memoizedState,ge.lanes=me.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Re=Q3(K);if(Re!==null){Re.flags&=-257,Y3(Re,K,Z,O,d),Re.mode&1&&G3(O,le,d),d=Re,te=le;var je=d.updateQueue;if(je===null){var qe=new Set;qe.add(te),d.updateQueue=qe}else je.add(te);break e}else{if((d&1)===0){G3(O,le,d),K1();break e}te=Error(r(426))}}else if(Wr&&Z.mode&1){var sn=Q3(K);if(sn!==null){(sn.flags&65536)===0&&(sn.flags|=256),Y3(sn,K,Z,O,d),i1(eh(te,Z));break e}}O=te=eh(te,Z),yn!==4&&(yn=2),Tp===null?Tp=[O]:Tp.push(O),O=K;do{switch(O.tag){case 3:O.flags|=65536,d&=-d,O.lanes|=d;var ae=W3(O,te,d);w3(O,ae);break e;case 1:Z=te;var ne=O.type,ce=O.stateNode;if((O.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(Fc===null||!Fc.has(ce)))){O.flags|=65536,d&=-d,O.lanes|=d;var Ce=K3(O,Z,d);w3(O,Ce);break e}}O=O.return}while(O!==null)}TT(p)}catch(He){d=He,ln===p&&p!==null&&(ln=p=p.return);continue}break}while(!0)}function ST(){var c=ty.current;return ty.current=Q0,c===null?Q0:c}function K1(){(yn===0||yn===3||yn===2)&&(yn=4),Pn===null||(cu&268435455)===0&&(ry&268435455)===0||jc(Pn,zn)}function cy(c,d){var p=Ut;Ut|=2;var b=ST();(Pn!==c||zn!==d)&&(La=null,uu(c,d));do try{TL();break}catch(S){CT(c,S)}while(!0);if(o1(),Ut=p,ty.current=b,ln!==null)throw Error(r(261));return Pn=null,zn=0,yn}function TL(){for(;ln!==null;)IT(ln)}function xL(){for(;ln!==null&&!vc();)IT(ln)}function IT(c){var d=PT(c.alternate,c,ds);c.memoizedProps=c.pendingProps,d===null?TT(c):ln=d,F1.current=null}function TT(c){var d=c;do{var p=d.alternate;if(c=d.return,(d.flags&32768)===0){if(p=bL(p,d,ds),p!==null){ln=p;return}}else{if(p=EL(p,d),p!==null){p.flags&=32767,ln=p;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{yn=6,ln=null;return}}if(d=d.sibling,d!==null){ln=d;return}ln=d=c}while(d!==null);yn===0&&(yn=5)}function du(c,d,p){var b=It,S=xs.transition;try{xs.transition=null,It=1,NL(c,d,p,b)}finally{xs.transition=S,It=b}return null}function NL(c,d,p,b){do ih();while($c!==null);if((Ut&6)!==0)throw Error(r(327));p=c.finishedWork;var S=c.finishedLanes;if(p===null)return null;if(c.finishedWork=null,c.finishedLanes=0,p===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var O=p.lanes|p.childLanes;if(Er(c,O),c===Pn&&(ln=Pn=null,zn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||iy||(iy=!0,RT(si,function(){return ih(),null})),O=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||O){O=xs.transition,xs.transition=null;var K=It;It=1;var Z=Ut;Ut|=4,F1.current=null,AL(c,p),yT(p,c),Q7(Kb),xc=!!Wb,Kb=Wb=null,c.current=p,CL(p),Gl(),Ut=Z,It=K,xs.transition=O}else c.current=p;if(iy&&(iy=!1,$c=c,sy=S),O=c.pendingLanes,O===0&&(Fc=null),Ec(p.stateNode),ji(c,Jt()),d!==null)for(b=c.onRecoverableError,p=0;p<d.length;p++)S=d[p],b(S.value,{componentStack:S.stack,digest:S.digest});if(ny)throw ny=!1,c=j1,j1=null,c;return(sy&1)!==0&&c.tag!==0&&ih(),O=c.pendingLanes,(O&1)!==0?c===V1?xp++:(xp=0,V1=c):xp=0,Dc(),null}function ih(){if($c!==null){var c=Ic(sy),d=xs.transition,p=It;try{if(xs.transition=null,It=16>c?16:c,$c===null)var b=!1;else{if(c=$c,$c=null,sy=0,(Ut&6)!==0)throw Error(r(331));var S=Ut;for(Ut|=4,$e=c.current;$e!==null;){var O=$e,K=O.child;if(($e.flags&16)!==0){var Z=O.deletions;if(Z!==null){for(var te=0;te<Z.length;te++){var le=Z[te];for($e=le;$e!==null;){var ge=$e;switch(ge.tag){case 0:case 11:case 15:Sp(8,ge,O)}var we=ge.child;if(we!==null)we.return=ge,$e=we;else for(;$e!==null;){ge=$e;var me=ge.sibling,Re=ge.return;if(hT(ge),ge===le){$e=null;break}if(me!==null){me.return=Re,$e=me;break}$e=Re}}}var je=O.alternate;if(je!==null){var qe=je.child;if(qe!==null){je.child=null;do{var sn=qe.sibling;qe.sibling=null,qe=sn}while(qe!==null)}}$e=O}}if((O.subtreeFlags&2064)!==0&&K!==null)K.return=O,$e=K;else e:for(;$e!==null;){if(O=$e,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:Sp(9,O,O.return)}var ae=O.sibling;if(ae!==null){ae.return=O.return,$e=ae;break e}$e=O.return}}var ne=c.current;for($e=ne;$e!==null;){K=$e;var ce=K.child;if((K.subtreeFlags&2064)!==0&&ce!==null)ce.return=K,$e=ce;else e:for(K=ne;$e!==null;){if(Z=$e,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:ey(9,Z)}}catch(He){en(Z,Z.return,He)}if(Z===K){$e=null;break e}var Ce=Z.sibling;if(Ce!==null){Ce.return=Z.return,$e=Ce;break e}$e=Z.return}}if(Ut=S,Dc(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(Gs,c)}catch{}b=!0}return b}finally{It=p,xs.transition=d}}return!1}function xT(c,d,p){d=eh(p,d),d=W3(c,d,1),c=Lc(c,d,1),d=xi(),c!==null&&(Cc(c,1,d),ji(c,d))}function en(c,d,p){if(c.tag===3)xT(c,c,p);else for(;d!==null;){if(d.tag===3){xT(d,c,p);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Fc===null||!Fc.has(b))){c=eh(p,c),c=K3(d,c,1),d=Lc(d,c,1),c=xi(),d!==null&&(Cc(d,1,c),ji(d,c));break}}d=d.return}}function PL(c,d,p){var b=c.pingCache;b!==null&&b.delete(d),d=xi(),c.pingedLanes|=c.suspendedLanes&p,Pn===c&&(zn&p)===p&&(yn===4||yn===3&&(zn&130023424)===zn&&500>Jt()-B1?uu(c,0):$1|=p),ji(c,d)}function NT(c,d){d===0&&((c.mode&1)===0?d=1:(d=Td,Td<<=1,(Td&130023424)===0&&(Td=4194304)));var p=xi();c=ka(c,d),c!==null&&(Cc(c,d,p),ji(c,p))}function RL(c){var d=c.memoizedState,p=0;d!==null&&(p=d.retryLane),NT(c,p)}function OL(c,d){var p=0;switch(c.tag){case 13:var b=c.stateNode,S=c.memoizedState;S!==null&&(p=S.retryLane);break;case 19:b=c.stateNode;break;default:throw Error(r(314))}b!==null&&b.delete(d),NT(c,p)}var PT;PT=function(c,d,p){if(c!==null)if(c.memoizedProps!==d.pendingProps||Ui.current)$i=!0;else{if((c.lanes&p)===0&&(d.flags&128)===0)return $i=!1,wL(c,d,p);$i=(c.flags&131072)!==0}else $i=!1,Wr&&(d.flags&1048576)!==0&&l3(d,U0,d.index);switch(d.lanes=0,d.tag){case 2:var b=d.type;Z0(c,d),c=d.pendingProps;var S=Wd(d,oi.current);Zd(d,p),S=y1(null,d,b,c,S,p);var O=v1();return d.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Fi(b)?(O=!0,D0(d)):O=!1,d.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,u1(d),S.updater=Y0,d.stateNode=S,S._reactInternals=d,C1(d,b,c,p),d=x1(null,d,b,!0,O,p)):(d.tag=0,Wr&&O&&e1(d),Ti(null,d,S,p),d=d.child),d;case 16:b=d.elementType;e:{switch(Z0(c,d),c=d.pendingProps,S=b._init,b=S(b._payload),d.type=b,S=d.tag=DL(b),c=ro(b,c),S){case 0:d=T1(null,d,b,c,p);break e;case 1:d=rT(null,d,b,c,p);break e;case 11:d=J3(null,d,b,c,p);break e;case 14:d=Z3(null,d,b,ro(b.type,c),p);break e}throw Error(r(306,b,""))}return d;case 0:return b=d.type,S=d.pendingProps,S=d.elementType===b?S:ro(b,S),T1(c,d,b,S,p);case 1:return b=d.type,S=d.pendingProps,S=d.elementType===b?S:ro(b,S),rT(c,d,b,S,p);case 3:e:{if(nT(d),c===null)throw Error(r(387));b=d.pendingProps,O=d.memoizedState,S=O.element,v3(c,d),q0(d,b,null,p);var K=d.memoizedState;if(b=K.element,O.isDehydrated)if(O={element:b,isDehydrated:!1,cache:K.cache,pendingSuspenseBoundaries:K.pendingSuspenseBoundaries,transitions:K.transitions},d.updateQueue.baseState=O,d.memoizedState=O,d.flags&256){S=eh(Error(r(423)),d),d=iT(c,d,b,p,S);break e}else if(b!==S){S=eh(Error(r(424)),d),d=iT(c,d,b,p,S);break e}else for(us=Rc(d.stateNode.containerInfo.firstChild),ls=d,Wr=!0,to=null,p=g3(d,null,b,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Qd(),b===S){d=Ma(c,d,p);break e}Ti(c,d,b,p)}d=d.child}return d;case 5:return E3(d),c===null&&n1(d),b=d.type,S=d.pendingProps,O=c!==null?c.memoizedProps:null,K=S.children,Gb(b,S)?K=null:O!==null&&Gb(b,O)&&(d.flags|=32),tT(c,d),Ti(c,d,K,p),d.child;case 6:return c===null&&n1(d),null;case 13:return sT(c,d,p);case 4:return d1(d,d.stateNode.containerInfo),b=d.pendingProps,c===null?d.child=Yd(d,null,b,p):Ti(c,d,b,p),d.child;case 11:return b=d.type,S=d.pendingProps,S=d.elementType===b?S:ro(b,S),J3(c,d,b,S,p);case 7:return Ti(c,d,d.pendingProps,p),d.child;case 8:return Ti(c,d,d.pendingProps.children,p),d.child;case 12:return Ti(c,d,d.pendingProps.children,p),d.child;case 10:e:{if(b=d.type._context,S=d.pendingProps,O=d.memoizedProps,K=S.value,Dr(B0,b._currentValue),b._currentValue=K,O!==null)if(eo(O.value,K)){if(O.children===S.children&&!Ui.current){d=Ma(c,d,p);break e}}else for(O=d.child,O!==null&&(O.return=d);O!==null;){var Z=O.dependencies;if(Z!==null){K=O.child;for(var te=Z.firstContext;te!==null;){if(te.context===b){if(O.tag===1){te=Da(-1,p&-p),te.tag=2;var le=O.updateQueue;if(le!==null){le=le.shared;var ge=le.pending;ge===null?te.next=te:(te.next=ge.next,ge.next=te),le.pending=te}}O.lanes|=p,te=O.alternate,te!==null&&(te.lanes|=p),c1(O.return,p,d),Z.lanes|=p;break}te=te.next}}else if(O.tag===10)K=O.type===d.type?null:O.child;else if(O.tag===18){if(K=O.return,K===null)throw Error(r(341));K.lanes|=p,Z=K.alternate,Z!==null&&(Z.lanes|=p),c1(K,p,d),K=O.sibling}else K=O.child;if(K!==null)K.return=O;else for(K=O;K!==null;){if(K===d){K=null;break}if(O=K.sibling,O!==null){O.return=K.return,K=O;break}K=K.return}O=K}Ti(c,d,S.children,p),d=d.child}return d;case 9:return S=d.type,b=d.pendingProps.children,Zd(d,p),S=Is(S),b=b(S),d.flags|=1,Ti(c,d,b,p),d.child;case 14:return b=d.type,S=ro(b,d.pendingProps),S=ro(b.type,S),Z3(c,d,b,S,p);case 15:return X3(c,d,d.type,d.pendingProps,p);case 17:return b=d.type,S=d.pendingProps,S=d.elementType===b?S:ro(b,S),Z0(c,d),d.tag=1,Fi(b)?(c=!0,D0(d)):c=!1,Zd(d,p),z3(d,b,S),C1(d,b,S,p),x1(null,d,b,!0,c,p);case 19:return aT(c,d,p);case 22:return eT(c,d,p)}throw Error(r(156,d.tag))};function RT(c,d){return No(c,d)}function kL(c,d,p,b){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ns(c,d,p,b){return new kL(c,d,p,b)}function G1(c){return c=c.prototype,!(!c||!c.isReactComponent)}function DL(c){if(typeof c=="function")return G1(c)?1:0;if(c!=null){if(c=c.$$typeof,c===v)return 11;if(c===I)return 14}return 2}function Vc(c,d){var p=c.alternate;return p===null?(p=Ns(c.tag,d,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=d,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&14680064,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,d=c.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p}function ly(c,d,p,b,S,O){var K=2;if(b=c,typeof c=="function")G1(c)&&(K=1);else if(typeof c=="string")K=5;else e:switch(c){case U:return hu(p.children,S,O,d);case $:K=8,S|=8;break;case k:return c=Ns(12,p,d,S|2),c.elementType=k,c.lanes=O,c;case _:return c=Ns(13,p,d,S),c.elementType=_,c.lanes=O,c;case T:return c=Ns(19,p,d,S),c.elementType=T,c.lanes=O,c;case M:return uy(p,S,O,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case W:K=10;break e;case x:K=9;break e;case v:K=11;break e;case I:K=14;break e;case P:K=16,b=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return d=Ns(K,p,d,S),d.elementType=c,d.type=b,d.lanes=O,d}function hu(c,d,p,b){return c=Ns(7,c,b,d),c.lanes=p,c}function uy(c,d,p,b){return c=Ns(22,c,b,d),c.elementType=M,c.lanes=p,c.stateNode={isHidden:!1},c}function Q1(c,d,p){return c=Ns(6,c,null,d),c.lanes=p,c}function Y1(c,d,p){return d=Ns(4,c.children!==null?c.children:[],c.key,d),d.lanes=p,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function ML(c,d,p,b,S){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ac(0),this.expirationTimes=Ac(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ac(0),this.identifierPrefix=b,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function J1(c,d,p,b,S,O,K,Z,te){return c=new ML(c,d,p,Z,te),d===1?(d=1,O===!0&&(d|=8)):d=0,O=Ns(3,null,null,d),c.current=O,O.stateNode=c,O.memoizedState={element:b,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},u1(O),c}function LL(c,d,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:b==null?null:""+b,children:c,containerInfo:d,implementation:p}}function OT(c){if(!c)return kc;c=c._reactInternals;e:{if(jt(c)!==c||c.tag!==1)throw Error(r(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Fi(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(c.tag===1){var p=c.type;if(Fi(p))return o3(c,p,d)}return d}function kT(c,d,p,b,S,O,K,Z,te){return c=J1(p,b,!0,c,S,O,K,Z,te),c.context=OT(null),p=c.current,b=xi(),S=Bc(p),O=Da(b,S),O.callback=d??null,Lc(p,O,S),c.current.lanes=S,Cc(c,S,b),ji(c,b),c}function dy(c,d,p,b){var S=d.current,O=xi(),K=Bc(S);return p=OT(p),d.context===null?d.context=p:d.pendingContext=p,d=Da(O,K),d.payload={element:c},b=b===void 0?null:b,b!==null&&(d.callback=b),c=Lc(S,d,K),c!==null&&(so(c,S,K,O),V0(c,S,K)),K}function hy(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function DT(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<d?p:d}}function Z1(c,d){DT(c,d),(c=c.alternate)&&DT(c,d)}function UL(){return null}var MT=typeof reportError=="function"?reportError:function(c){console.error(c)};function X1(c){this._internalRoot=c}fy.prototype.render=X1.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));dy(c,d,null,null)},fy.prototype.unmount=X1.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;lu(function(){dy(null,c,null,null)}),d[Na]=null}};function fy(c){this._internalRoot=c}fy.prototype.unstable_scheduleHydration=function(c){if(c){var d=f0();c={blockedOn:null,target:c,priority:d};for(var p=0;p<Ro.length&&d!==0&&d<Ro[p].priority;p++);Ro.splice(p,0,c),p===0&&g0(c)}};function eE(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function py(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function LT(){}function FL(c,d,p,b,S){if(S){if(typeof b=="function"){var O=b;b=function(){var le=hy(K);O.call(le)}}var K=kT(d,b,c,0,null,!1,!1,"",LT);return c._reactRootContainer=K,c[Na]=K.current,hp(c.nodeType===8?c.parentNode:c),lu(),K}for(;S=c.lastChild;)c.removeChild(S);if(typeof b=="function"){var Z=b;b=function(){var le=hy(te);Z.call(le)}}var te=J1(c,0,!1,null,null,!1,!1,"",LT);return c._reactRootContainer=te,c[Na]=te.current,hp(c.nodeType===8?c.parentNode:c),lu(function(){dy(d,te,p,b)}),te}function my(c,d,p,b,S){var O=p._reactRootContainer;if(O){var K=O;if(typeof S=="function"){var Z=S;S=function(){var te=hy(K);Z.call(te)}}dy(d,K,c,S)}else K=FL(p,d,c,S,b);return hy(K)}d0=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var p=_c(d.pendingLanes);p!==0&&(Sc(d,p|1),ji(d,Jt()),(Ut&6)===0&&(nh=Jt()+500,Dc()))}break;case 13:lu(function(){var b=ka(c,1);if(b!==null){var S=xi();so(b,c,1,S)}}),Z1(c,1)}},xd=function(c){if(c.tag===13){var d=ka(c,134217728);if(d!==null){var p=xi();so(d,c,134217728,p)}Z1(c,134217728)}},h0=function(c){if(c.tag===13){var d=Bc(c),p=ka(c,d);if(p!==null){var b=xi();so(p,c,d,b)}Z1(c,d)}},f0=function(){return It},p0=function(c,d){var p=It;try{return It=c,d()}finally{It=p}},yr=function(c,d,p){switch(d){case"input":if(ii(c,p),d=p.name,p.type==="radio"&&d!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<p.length;d++){var b=p[d];if(b!==c&&b.form===c.form){var S=O0(b);if(!S)throw Error(r(90));yt(b),ii(b,S)}}}break;case"textarea":St(c,p);break;case"select":d=p.value,d!=null&&At(c,!!p.multiple,d,!1)}},ur=H1,gc=lu;var $L={usingClientEntryPoint:!1,Events:[mp,zd,O0,ss,Rr,H1]},Np={findFiberByHostInstance:tu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BL={bundleType:Np.bundleType,version:Np.version,rendererPackageName:Np.rendererPackageName,rendererConfig:Np.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Ea(c),c===null?null:c.stateNode},findFiberByHostInstance:Np.findFiberByHostInstance||UL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gy.isDisabled&&gy.supportsFiber)try{Gs=gy.inject(BL),Bn=gy}catch{}}return Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$L,Vi.createPortal=function(c,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eE(d))throw Error(r(200));return LL(c,d,null,p)},Vi.createRoot=function(c,d){if(!eE(c))throw Error(r(299));var p=!1,b="",S=MT;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(S=d.onRecoverableError)),d=J1(c,1,!1,null,null,p,!1,b,S),c[Na]=d.current,hp(c.nodeType===8?c.parentNode:c),new X1(d)},Vi.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=Ea(d),c=c===null?null:c.stateNode,c},Vi.flushSync=function(c){return lu(c)},Vi.hydrate=function(c,d,p){if(!py(d))throw Error(r(200));return my(null,c,d,!0,p)},Vi.hydrateRoot=function(c,d,p){if(!eE(c))throw Error(r(405));var b=p!=null&&p.hydratedSources||null,S=!1,O="",K=MT;if(p!=null&&(p.unstable_strictMode===!0&&(S=!0),p.identifierPrefix!==void 0&&(O=p.identifierPrefix),p.onRecoverableError!==void 0&&(K=p.onRecoverableError)),d=kT(d,null,c,1,p??null,S,!1,O,K),c[Na]=d.current,hp(c),b)for(c=0;c<b.length;c++)p=b[c],S=p._getVersion,S=S(p._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[p,S]:d.mutableSourceEagerHydrationData.push(p,S);return new fy(d)},Vi.render=function(c,d,p){if(!py(d))throw Error(r(200));return my(null,c,d,!1,p)},Vi.unmountComponentAtNode=function(c){if(!py(c))throw Error(r(40));return c._reactRootContainer?(lu(function(){my(null,null,c,!1,function(){c._reactRootContainer=null,c[Na]=null})}),!0):!1},Vi.unstable_batchedUpdates=H1,Vi.unstable_renderSubtreeIntoContainer=function(c,d,p,b){if(!py(p))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return my(c,d,p,!1,b)},Vi.version="18.3.1-next-f1338f8080-20240426",Vi}var qT;function CR(){if(qT)return nE.exports;qT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nE.exports=WL(),nE.exports}var zT;function KL(){if(zT)return vy;zT=1;var t=CR();return vy.createRoot=t.createRoot,vy.hydrateRoot=t.hydrateRoot,vy}var GL=KL(),Pp={},HT;function QL(){if(HT)return Pp;HT=1,Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.parse=o,Pp.serialize=l;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function o(m,g){const w=new s,E=m.length;if(E<2)return w;const C=(g==null?void 0:g.decode)||h;let N=0;do{const D=m.indexOf("=",N);if(D===-1)break;const F=m.indexOf(";",N),V=F===-1?E:F;if(D>V){N=m.lastIndexOf(";",D-1)+1;continue}const q=a(m,N,D),j=u(m,D,q),U=m.slice(q,j);if(w[U]===void 0){let $=a(m,D+1,V),k=u(m,V,$);const W=C(m.slice($,k));w[U]=W}N=V+1}while(N<E);return w}function a(m,g,w){do{const E=m.charCodeAt(g);if(E!==32&&E!==9)return g}while(++g<w);return w}function u(m,g,w){for(;g>w;){const E=m.charCodeAt(--g);if(E!==32&&E!==9)return g+1}return w}function l(m,g,w){const E=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(m))throw new TypeError(`argument name is invalid: ${m}`);const C=E(g);if(!e.test(C))throw new TypeError(`argument val is invalid: ${g}`);let N=m+"="+C;if(!w)return N;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);N+="; Max-Age="+w.maxAge}if(w.domain){if(!r.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);N+="; Domain="+w.domain}if(w.path){if(!n.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);N+="; Path="+w.path}if(w.expires){if(!f(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);N+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(N+="; HttpOnly"),w.secure&&(N+="; Secure"),w.partitioned&&(N+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return N}function h(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function f(m){return i.call(m)==="[object Date]"}return Pp}QL();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var WT="popstate";function YL(t={}){function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return gA("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Pm(i)}return ZL(e,r,null,t)}function Zr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ca(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JL(){return Math.random().toString(36).substring(2,10)}function KT(t,e){return{usr:t.state,key:t.key,idx:e}}function gA(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Rf(e):e,state:r,key:e&&e.key||n||JL()}}function Pm({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Rf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function ZL(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a="POP",u=null,l=h();l==null&&(l=0,o.replaceState({...o.state,idx:l},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let C=h(),N=C==null?null:C-l;l=C,u&&u({action:a,location:E.location,delta:N})}function m(C,N){a="PUSH";let D=gA(E.location,C,N);l=h()+1;let F=KT(D,l),V=E.createHref(D);try{o.pushState(F,"",V)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(V)}s&&u&&u({action:a,location:E.location,delta:1})}function g(C,N){a="REPLACE";let D=gA(E.location,C,N);l=h();let F=KT(D,l),V=E.createHref(D);o.replaceState(F,"",V),s&&u&&u({action:a,location:E.location,delta:0})}function w(C){let N=i.location.origin!=="null"?i.location.origin:i.location.href,D=typeof C=="string"?C:Pm(C);return D=D.replace(/ $/,"%20"),Zr(N,`No window.location.(origin|href) available to create URL for href: ${D}`),new URL(D,N)}let E={get action(){return a},get location(){return t(i,o)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(WT,f),u=C,()=>{i.removeEventListener(WT,f),u=null}},createHref(C){return e(i,C)},createURL:w,encodeLocation(C){let N=w(C);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:g,go(C){return o.go(C)}};return E}function SR(t,e,r="/"){return XL(t,e,r,!1)}function XL(t,e,r,n){let i=typeof e=="string"?Rf(e):e,s=nc(i.pathname||"/",r);if(s==null)return null;let o=IR(t);eU(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let l=dU(s);a=lU(o[u],l,n)}return a}function IR(t,e=[],r=[],n=""){let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Zr(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let l=Ja([n,u.relativePath]),h=r.concat(u);s.children&&s.children.length>0&&(Zr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),IR(s.children,e,h,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:aU(l,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of TR(s.path))i(s,o,u)}),e}function TR(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=TR(n.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function eU(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:cU(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var tU=/^:[\w-]+$/,rU=3,nU=2,iU=1,sU=10,oU=-2,GT=t=>t==="*";function aU(t,e){let r=t.split("/"),n=r.length;return r.some(GT)&&(n+=oU),e&&(n+=nU),r.filter(i=>!GT(i)).reduce((i,s)=>i+(tU.test(s)?rU:s===""?iU:sU),n)}function cU(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function lU(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let u=n[a],l=a===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Rv({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},h),m=u.route;if(!f&&l&&r&&!n[n.length-1].route.index&&(f=Rv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ja([s,f.pathname]),pathnameBase:mU(Ja([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=Ja([s,f.pathnameBase]))}return o}function Rv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=uU(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((l,{paramName:h,isOptional:f},m)=>{if(h==="*"){let w=a[m]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const g=a[m];return f&&!g?l[h]=void 0:l[h]=(g||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:t}}function uU(t,e=!1,r=!0){ca(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(n.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function dU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ca(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function nc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function hU(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Rf(t):t;return{pathname:r?r.startsWith("/")?r:fU(r,e):e,search:gU(n),hash:yU(i)}}function fU(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function oE(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pU(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function xR(t){let e=pU(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function NR(t,e,r,n=!1){let i;typeof t=="string"?i=Rf(t):(i={...t},Zr(!i.pathname||!i.pathname.includes("?"),oE("?","pathname","search",i)),Zr(!i.pathname||!i.pathname.includes("#"),oE("#","pathname","hash",i)),Zr(!i.search||!i.search.includes("#"),oE("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?e[f]:"/"}let u=hU(i,a),l=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(l||h)&&(u.pathname+="/"),u}var Ja=t=>t.join("/").replace(/\/\/+/g,"/"),mU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var PR=["POST","PUT","PATCH","DELETE"];new Set(PR);var wU=["GET",...PR];new Set(wU);var Of=se.createContext(null);Of.displayName="DataRouter";var Dw=se.createContext(null);Dw.displayName="DataRouterState";var RR=se.createContext({isTransitioning:!1});RR.displayName="ViewTransition";var bU=se.createContext(new Map);bU.displayName="Fetchers";var EU=se.createContext(null);EU.displayName="Await";var ya=se.createContext(null);ya.displayName="Navigation";var Dg=se.createContext(null);Dg.displayName="Location";var dc=se.createContext({outlet:null,matches:[],isDataRoute:!1});dc.displayName="Route";var TC=se.createContext(null);TC.displayName="RouteError";function _U(t,{relative:e}={}){Zr(Mg(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=se.useContext(ya),{hash:i,pathname:s,search:o}=Lg(t,{relative:e}),a=s;return r!=="/"&&(a=s==="/"?r:Ja([r,s])),n.createHref({pathname:a,search:o,hash:i})}function Mg(){return se.useContext(Dg)!=null}function md(){return Zr(Mg(),"useLocation() may be used only in the context of a <Router> component."),se.useContext(Dg).location}var OR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kR(t){se.useContext(ya).static||se.useLayoutEffect(t)}function DR(){let{isDataRoute:t}=se.useContext(dc);return t?MU():AU()}function AU(){Zr(Mg(),"useNavigate() may be used only in the context of a <Router> component.");let t=se.useContext(Of),{basename:e,navigator:r}=se.useContext(ya),{matches:n}=se.useContext(dc),{pathname:i}=md(),s=JSON.stringify(xR(n)),o=se.useRef(!1);return kR(()=>{o.current=!0}),se.useCallback((u,l={})=>{if(ca(o.current,OR),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=NR(u,JSON.parse(s),i,l.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ja([e,h.pathname])),(l.replace?r.replace:r.push)(h,l.state,l)},[e,r,s,i,t])}se.createContext(null);function Lg(t,{relative:e}={}){let{matches:r}=se.useContext(dc),{pathname:n}=md(),i=JSON.stringify(xR(r));return se.useMemo(()=>NR(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function CU(t,e){return MR(t,e)}function MR(t,e,r,n){var D;Zr(Mg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=se.useContext(ya),{matches:o}=se.useContext(dc),a=o[o.length-1],u=a?a.params:{},l=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let F=f&&f.path||"";LR(l,!f||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let m=md(),g;if(e){let F=typeof e=="string"?Rf(e):e;Zr(h==="/"||((D=F.pathname)==null?void 0:D.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${F.pathname}" was given in the \`location\` prop.`),g=F}else g=m;let w=g.pathname||"/",E=w;if(h!=="/"){let F=h.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(F.length).join("/")}let C=!s&&r&&r.matches&&r.matches.length>0?r.matches:SR(t,{pathname:E});ca(f||C!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),ca(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=NU(C&&C.map(F=>Object.assign({},F,{params:Object.assign({},u,F.params),pathname:Ja([h,i.encodeLocation?i.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?h:Ja([h,i.encodeLocation?i.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),o,r,n);return e&&N?se.createElement(Dg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},N):N}function SU(){let t=DU(),e=vU(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=se.createElement(se.Fragment,null,se.createElement("p",null," Hey developer "),se.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",se.createElement("code",{style:s},"ErrorBoundary")," or"," ",se.createElement("code",{style:s},"errorElement")," prop on your route.")),se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),r?se.createElement("pre",{style:i},r):null,o)}var IU=se.createElement(SU,null),TU=class extends se.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?se.createElement(dc.Provider,{value:this.props.routeContext},se.createElement(TC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xU({routeContext:t,match:e,children:r}){let n=se.useContext(Of);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),se.createElement(dc.Provider,{value:t},r)}function NU(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,s=r==null?void 0:r.errors;if(s!=null){let u=i.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id])!==void 0);Zr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,a=-1;if(r)for(let u=0;u<i.length;u++){let l=i[u];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(a=u),l.route.id){let{loaderData:h,errors:f}=r,m=l.route.loader&&!h.hasOwnProperty(l.route.id)&&(!f||f[l.route.id]===void 0);if(l.route.lazy||m){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((u,l,h)=>{let f,m=!1,g=null,w=null;r&&(f=s&&l.route.id?s[l.route.id]:void 0,g=l.route.errorElement||IU,o&&(a<0&&h===0?(LR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,w=null):a===h&&(m=!0,w=l.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,h+1)),C=()=>{let N;return f?N=g:m?N=w:l.route.Component?N=se.createElement(l.route.Component,null):l.route.element?N=l.route.element:N=u,se.createElement(xU,{match:l,routeContext:{outlet:u,matches:E,isDataRoute:r!=null},children:N})};return r&&(l.route.ErrorBoundary||l.route.errorElement||h===0)?se.createElement(TU,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):C()},null)}function xC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PU(t){let e=se.useContext(Of);return Zr(e,xC(t)),e}function RU(t){let e=se.useContext(Dw);return Zr(e,xC(t)),e}function OU(t){let e=se.useContext(dc);return Zr(e,xC(t)),e}function NC(t){let e=OU(t),r=e.matches[e.matches.length-1];return Zr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function kU(){return NC("useRouteId")}function DU(){var n;let t=se.useContext(TC),e=RU("useRouteError"),r=NC("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function MU(){let{router:t}=PU("useNavigate"),e=NC("useNavigate"),r=se.useRef(!1);return kR(()=>{r.current=!0}),se.useCallback(async(i,s={})=>{ca(r.current,OR),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var QT={};function LR(t,e,r){!e&&!QT[t]&&(QT[t]=!0,ca(!1,r))}se.memo(LU);function LU({routes:t,future:e,state:r}){return MR(t,void 0,r,e)}function yA(t){Zr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UU({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Zr(!Mg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=se.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=Rf(r));let{pathname:u="/",search:l="",hash:h="",state:f=null,key:m="default"}=r,g=se.useMemo(()=>{let w=nc(u,o);return w==null?null:{location:{pathname:w,search:l,hash:h,state:f,key:m},navigationType:n}},[o,u,l,h,f,m,n]);return ca(g!=null,`<Router basename="${o}"> is not able to match the URL "${u}${l}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:se.createElement(ya.Provider,{value:a},se.createElement(Dg.Provider,{children:e,value:g}))}function FU({children:t,location:e}){return CU(vA(t),e)}function vA(t,e=[]){let r=[];return se.Children.forEach(t,(n,i)=>{if(!se.isValidElement(n))return;let s=[...e,i];if(n.type===se.Fragment){r.push.apply(r,vA(n.props.children,s));return}Zr(n.type===yA,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=vA(n.props.children,s)),r.push(o)}),r}var sv="get",ov="application/x-www-form-urlencoded";function Mw(t){return t!=null&&typeof t.tagName=="string"}function $U(t){return Mw(t)&&t.tagName.toLowerCase()==="button"}function BU(t){return Mw(t)&&t.tagName.toLowerCase()==="form"}function jU(t){return Mw(t)&&t.tagName.toLowerCase()==="input"}function VU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qU(t,e){return t.button===0&&(!e||e==="_self")&&!VU(t)}var wy=null;function zU(){if(wy===null)try{new FormData(document.createElement("form"),0),wy=!1}catch{wy=!0}return wy}var HU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function aE(t){return t!=null&&!HU.has(t)?(ca(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ov}"`),null):t}function WU(t,e){let r,n,i,s,o;if(BU(t)){let a=t.getAttribute("action");n=a?nc(a,e):null,r=t.getAttribute("method")||sv,i=aE(t.getAttribute("enctype"))||ov,s=new FormData(t)}else if($U(t)||jU(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||a.getAttribute("action");if(n=u?nc(u,e):null,r=t.getAttribute("formmethod")||a.getAttribute("method")||sv,i=aE(t.getAttribute("formenctype"))||aE(a.getAttribute("enctype"))||ov,s=new FormData(a,t),!zU()){let{name:l,type:h,value:f}=t;if(h==="image"){let m=l?`${l}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else l&&s.append(l,f)}}else{if(Mw(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=sv,n=null,i=ov,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}function PC(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function KU(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function QU(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await KU(s,r);return o.links?o.links():[]}return[]}));return XU(n.flat(1).filter(GU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function YT(t,e,r,n,i,s){let o=(u,l)=>r[l]?u.route.id!==r[l].route.id:!0,a=(u,l)=>{var h;return r[l].pathname!==u.pathname||((h=r[l].route.path)==null?void 0:h.endsWith("*"))&&r[l].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,l)=>o(u,l)||a(u,l)):s==="data"?e.filter((u,l)=>{var f;let h=n.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,l)||a(u,l))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function YU(t,e,{includeHydrateFallback:r}={}){return JU(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function JU(t){return[...new Set(t)]}function ZU(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function XU(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(ZU(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function eF(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&nc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function UR(){let t=se.useContext(Of);return PC(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function tF(){let t=se.useContext(Dw);return PC(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var RC=se.createContext(void 0);RC.displayName="FrameworkContext";function FR(){let t=se.useContext(RC);return PC(t,"You must render this element inside a <HydratedRouter> element"),t}function rF(t,e){let r=se.useContext(RC),[n,i]=se.useState(!1),[s,o]=se.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:l,onMouseLeave:h,onTouchStart:f}=e,m=se.useRef(null);se.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let E=N=>{N.forEach(D=>{o(D.isIntersecting)})},C=new IntersectionObserver(E,{threshold:.5});return m.current&&C.observe(m.current),()=>{C.disconnect()}}},[t]),se.useEffect(()=>{if(n){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[n]);let g=()=>{i(!0)},w=()=>{i(!1),o(!1)};return r?t!=="intent"?[s,m,{}]:[s,m,{onFocus:Rp(a,g),onBlur:Rp(u,w),onMouseEnter:Rp(l,g),onMouseLeave:Rp(h,w),onTouchStart:Rp(f,g)}]:[!1,m,{}]}function Rp(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function nF({page:t,...e}){let{router:r}=UR(),n=se.useMemo(()=>SR(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?se.createElement(sF,{page:t,matches:n,...e}):null}function iF(t){let{manifest:e,routeModules:r}=FR(),[n,i]=se.useState([]);return se.useEffect(()=>{let s=!1;return QU(t,e,r).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,r]),n}function sF({page:t,matches:e,...r}){let n=md(),{manifest:i,routeModules:s}=FR(),{basename:o}=UR(),{loaderData:a,matches:u}=tF(),l=se.useMemo(()=>YT(t,e,u,i,n,"data"),[t,e,u,i,n]),h=se.useMemo(()=>YT(t,e,u,i,n,"assets"),[t,e,u,i,n]),f=se.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,E=!1;if(e.forEach(N=>{var F;let D=i.routes[N.route.id];!D||!D.hasLoader||(!l.some(V=>V.route.id===N.route.id)&&N.route.id in a&&((F=s[N.route.id])!=null&&F.shouldRevalidate)||D.hasClientLoader?E=!0:w.add(N.route.id))}),w.size===0)return[];let C=eF(t,o);return E&&w.size>0&&C.searchParams.set("_routes",e.filter(N=>w.has(N.route.id)).map(N=>N.route.id).join(",")),[C.pathname+C.search]},[o,a,n,i,l,e,t,s]),m=se.useMemo(()=>YU(h,i),[h,i]),g=iF(h);return se.createElement(se.Fragment,null,f.map(w=>se.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),m.map(w=>se.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),g.map(({key:w,link:E})=>se.createElement("link",{key:w,...E})))}function oF(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var $R=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$R&&(window.__reactRouterVersion="7.5.0")}catch{}function aF({basename:t,children:e,window:r}){let n=se.useRef();n.current==null&&(n.current=YL({window:r,v5Compat:!0}));let i=n.current,[s,o]=se.useState({action:i.action,location:i.location}),a=se.useCallback(u=>{se.startTransition(()=>o(u))},[o]);return se.useLayoutEffect(()=>i.listen(a),[i,a]),se.createElement(UU,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var BR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jR=se.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:a,target:u,to:l,preventScrollReset:h,viewTransition:f,...m},g){let{basename:w}=se.useContext(ya),E=typeof l=="string"&&BR.test(l),C,N=!1;if(typeof l=="string"&&E&&(C=l,$R))try{let k=new URL(window.location.href),W=l.startsWith("//")?new URL(k.protocol+l):new URL(l),x=nc(W.pathname,w);W.origin===k.origin&&x!=null?l=x+W.search+W.hash:N=!0}catch{ca(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=_U(l,{relative:i}),[F,V,q]=rF(n,m),j=dF(l,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,viewTransition:f});function U(k){e&&e(k),k.defaultPrevented||j(k)}let $=se.createElement("a",{...m,...q,href:C||D,onClick:N||s?e:U,ref:oF(g,V),target:u,"data-discover":!E&&r==="render"?"true":void 0});return F&&!E?se.createElement(se.Fragment,null,$,se.createElement(nF,{page:D})):$});jR.displayName="Link";var cF=se.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:a,children:u,...l},h){let f=Lg(o,{relative:l.relative}),m=md(),g=se.useContext(Dw),{navigator:w,basename:E}=se.useContext(ya),C=g!=null&&gF(f)&&a===!0,N=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,D=m.pathname,F=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(D=D.toLowerCase(),F=F?F.toLowerCase():null,N=N.toLowerCase()),F&&E&&(F=nc(F,E)||F);const V=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let q=D===N||!i&&D.startsWith(N)&&D.charAt(V)==="/",j=F!=null&&(F===N||!i&&F.startsWith(N)&&F.charAt(N.length)==="/"),U={isActive:q,isPending:j,isTransitioning:C},$=q?e:void 0,k;typeof n=="function"?k=n(U):k=[n,q?"active":null,j?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let W=typeof s=="function"?s(U):s;return se.createElement(jR,{...l,"aria-current":$,className:k,ref:h,style:W,to:o,viewTransition:a},typeof u=="function"?u(U):u)});cF.displayName="NavLink";var lF=se.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:o=sv,action:a,onSubmit:u,relative:l,preventScrollReset:h,viewTransition:f,...m},g)=>{let w=pF(),E=mF(a,{relative:l}),C=o.toLowerCase()==="get"?"get":"post",N=typeof a=="string"&&BR.test(a),D=F=>{if(u&&u(F),F.defaultPrevented)return;F.preventDefault();let V=F.nativeEvent.submitter,q=(V==null?void 0:V.getAttribute("formmethod"))||o;w(V||F.currentTarget,{fetcherKey:e,method:q,navigate:r,replace:i,state:s,relative:l,preventScrollReset:h,viewTransition:f})};return se.createElement("form",{ref:g,method:C,action:E,onSubmit:n?u:D,...m,"data-discover":!N&&t==="render"?"true":void 0})});lF.displayName="Form";function uF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VR(t){let e=se.useContext(Of);return Zr(e,uF(t)),e}function dF(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=DR(),u=md(),l=Lg(t,{relative:s});return se.useCallback(h=>{if(qU(h,e)){h.preventDefault();let f=r!==void 0?r:Pm(u)===Pm(l);a(t,{replace:f,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[u,a,l,r,n,e,t,i,s,o])}var hF=0,fF=()=>`__${String(++hF)}__`;function pF(){let{router:t}=VR("useSubmit"),{basename:e}=se.useContext(ya),r=kU();return se.useCallback(async(n,i={})=>{let{action:s,method:o,encType:a,formData:u,body:l}=WU(n,e);if(i.navigate===!1){let h=i.fetcherKey||fF();await t.fetch(h,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:l,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:l,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function mF(t,{relative:e}={}){let{basename:r}=se.useContext(ya),n=se.useContext(dc);Zr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Lg(t||".",{relative:e})},o=md();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(h=>h==="")){a.delete("index"),u.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Ja([r,s.pathname])),Pm(s)}function gF(t,e={}){let r=se.useContext(RR);Zr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=VR("useViewTransitionState"),i=Lg(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=nc(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=nc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Rv(i.pathname,o)!=null||Rv(i.pathname,s)!=null}new TextEncoder;const qR="2.26.3";let Op={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${qR}`},be=class wA extends Error{constructor(e,r={}){var a;const n=(()=>{var u;return r.cause instanceof wA?r.cause.details:(u=r.cause)!=null&&u.message?r.cause.message:r.details})(),i=r.cause instanceof wA&&r.cause.docsPath||r.docsPath,s=(a=Op.getDocsUrl)==null?void 0:a.call(Op,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...Op.version?[`Version: ${Op.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=qR}walk(e){return zR(this,e)}};function zR(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?zR(t.cause,e):e?null:t}let HR=class extends be{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}};class yF extends be{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}let vF=class extends be{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};class WR extends be{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}}let KR=class extends be{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};class JT extends be{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}function kf(t,{dir:e,size:r=32}={}){return typeof t=="string"?bl(t,{dir:e,size:r}):wF(t,{dir:e,size:r})}function bl(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new KR({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function wF(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new KR({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}function ic(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Fn(t){return ic(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function Df(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let i=0;i<r.length-1&&r[e==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}const bF=new TextEncoder;function Ug(t,e={}){return typeof t=="number"||typeof t=="bigint"?_F(t,e):typeof t=="boolean"?EF(t,e):ic(t)?la(t,e):qu(t,e)}function EF(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(_o(r,{size:e.size}),kf(r,{size:e.size})):r}const Ua={zero:48,nine:57,A:65,F:70,a:97,f:102};function ZT(t){if(t>=Ua.zero&&t<=Ua.nine)return t-Ua.zero;if(t>=Ua.A&&t<=Ua.F)return t-(Ua.A-10);if(t>=Ua.a&&t<=Ua.f)return t-(Ua.a-10)}function la(t,e={}){let r=t;e.size&&(_o(r,{size:e.size}),r=kf(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const u=ZT(n.charCodeAt(a++)),l=ZT(n.charCodeAt(a++));if(u===void 0||l===void 0)throw new be(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=u*16+l}return s}function _F(t,e){const r=Et(t,e);return la(r)}function qu(t,e={}){const r=bF.encode(t);return typeof e.size=="number"?(_o(r,{size:e.size}),kf(r,{dir:"right",size:e.size})):r}function _o(t,{size:e}){if(Fn(t)>e)throw new vF({givenSize:Fn(t),maxSize:e})}function uf(t,e={}){const{signed:r}=e;e.size&&_o(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Wu(t,e={}){return Number(uf(t,e))}function GR(t,e={}){let r=la(t);return e.size&&(_o(r,{size:e.size}),r=Df(r,{dir:"right"})),new TextDecoder().decode(r)}const AF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function sc(t,e={}){return typeof t=="number"||typeof t=="bigint"?Et(t,e):typeof t=="string"?Lw(t,e):typeof t=="boolean"?QR(t,e):Xn(t,e)}function QR(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(_o(r,{size:e.size}),kf(r,{size:e.size})):r}function Xn(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=AF[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(_o(n,{size:e.size}),kf(n,{dir:"right",size:e.size})):n}function Et(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const u=typeof t=="bigint"?"n":"";throw new HR({max:s?`${s}${u}`:void 0,min:`${o}${u}`,signed:r,size:n,value:`${t}${u}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?kf(a,{size:n}):a}const CF=new TextEncoder;function Lw(t,e={}){const r=CF.encode(t);return Xn(r,e)}function Pl(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new LF(t.type);return`${t.name}(${Uw(t.inputs,{includeName:e})})`}function Uw(t,{includeName:e=!1}={}){return t?t.map(r=>SF(r,{includeName:e})).join(e?", ":","):""}function SF(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Uw(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class IF extends be{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class XT extends be{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class YR extends be{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Uw(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class Fw extends be{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class TF extends be{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class xF extends be{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Fn(r)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class NF extends be{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class JR extends be{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class PF extends be{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class ZR extends be{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}}class Ov extends be{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}}class RF extends be{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}}class OF extends be{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Pl(e.abiItem)}\`, and`,`\`${r.type}\` in \`${Pl(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class bA extends be{constructor({abiItem:e,data:r,params:n,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Uw(n,{includeName:!0})})`,`Data:   ${r} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=n,this.size=i}}class XR extends be{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Pl(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class kF extends be{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}}class DF extends be{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}}class MF extends be{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class LF extends be{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function Ku(t){return typeof t[0]=="string"?$w(t):UF(t)}function UF(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function $w(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}class Gu extends be{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}let Bw=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};function kv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function FF(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Fg(t,...e){if(!FF(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function T0e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");kv(t.outputLen),kv(t.blockLen)}function Dv(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function e8(t,e){Fg(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const by=BigInt(2**32-1),ex=BigInt(32);function $F(t,e=!1){return e?{h:Number(t&by),l:Number(t>>ex&by)}:{h:Number(t>>ex&by)|0,l:Number(t&by)|0}}function BF(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=$F(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const jF=(t,e,r)=>t<<r|e>>>32-r,VF=(t,e,r)=>e<<r|t>>>32-r,qF=(t,e,r)=>e<<r-32|t>>>64-r,zF=(t,e,r)=>t<<r-32|e>>>64-r,sh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function HF(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function cE(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function $o(t,e){return t<<32-e|t>>>e}const tx=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function WF(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function rx(t){for(let e=0;e<t.length;e++)t[e]=WF(t[e])}const KF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function x0e(t){Fg(t);let e="";for(let r=0;r<t.length;r++)e+=KF[t[r]];return e}function GF(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function OC(t){return typeof t=="string"&&(t=GF(t)),Fg(t),t}function N0e(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Fg(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class t8{clone(){return this._cloneInto()}}function r8(t){const e=n=>t().update(OC(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function P0e(t=32){if(sh&&typeof sh.getRandomValues=="function")return sh.getRandomValues(new Uint8Array(t));if(sh&&typeof sh.randomBytes=="function")return sh.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const n8=[],i8=[],s8=[],QF=BigInt(0),kp=BigInt(1),YF=BigInt(2),JF=BigInt(7),ZF=BigInt(256),XF=BigInt(113);for(let t=0,e=kp,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],n8.push(2*(5*n+r)),i8.push((t+1)*(t+2)/2%64);let i=QF;for(let s=0;s<7;s++)e=(e<<kp^(e>>JF)*XF)%ZF,e&YF&&(i^=kp<<(kp<<BigInt(s))-kp);s8.push(i)}const[e$,t$]=BF(s8,!0),nx=(t,e,r)=>r>32?qF(t,e,r):jF(t,e,r),ix=(t,e,r)=>r>32?zF(t,e,r):VF(t,e,r);function r$(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,l=r[u],h=r[u+1],f=nx(l,h,1)^r[a],m=ix(l,h,1)^r[a+1];for(let g=0;g<50;g+=10)t[o+g]^=f,t[o+g+1]^=m}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=i8[o],u=nx(i,s,a),l=ix(i,s,a),h=n8[o];i=t[h],s=t[h+1],t[h]=u,t[h+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=e$[n],t[1]^=t$[n]}r.fill(0)}class kC extends t8{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,kv(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=HF(this.state)}keccak(){tx||rx(this.state32),r$(this.state32,this.rounds),tx||rx(this.state32),this.posOut=0,this.pos=0}update(e){Dv(this);const{blockLen:r,state:n}=this;e=OC(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Dv(this,!1),Fg(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return kv(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(e8(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new kC(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const n$=(t,e,r)=>r8(()=>new kC(e,t,r)),o8=n$(1,136,256/8);function Rl(t,e){const r=e||"hex",n=o8(ic(t,{strict:!1})?Ug(t):t);return r==="bytes"?n:sc(n)}const lE=new Bw(8192);function jw(t,e){if(lE.has(`${t}.${e}`))return lE.get(`${t}.${e}`);const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=Rl(qu(r),"bytes"),i=(e?r.substring(`${e}0x`.length):r).split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return lE.set(`${t}.${e}`,s),s}function Tu(t,e){if(!ua(t,{strict:!1}))throw new Gu({address:t});return jw(t,e)}const i$=/^0x[a-fA-F0-9]{40}$/,uE=new Bw(8192);function ua(t,e){const{strict:r=!0}=e??{},n=`${t}.${r}`;if(uE.has(n))return uE.get(n);const i=i$.test(t)?t.toLowerCase()===t?!0:r?jw(t)===t:!0:!1;return uE.set(n,i),i}function Mv(t,e,r,{strict:n}={}){return ic(t,{strict:!1})?s$(t,e,r,{strict:n}):l8(t,e,r,{strict:n})}function a8(t,e){if(typeof e=="number"&&e>0&&e>Fn(t)-1)throw new WR({offset:e,position:"start",size:Fn(t)})}function c8(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Fn(t)!==r-e)throw new WR({offset:r,position:"end",size:Fn(t)})}function l8(t,e,r,{strict:n}={}){a8(t,e);const i=t.slice(e,r);return n&&c8(i,e,r),i}function s$(t,e,r,{strict:n}={}){a8(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&c8(i,e,r),i}const o$=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function u8(t,e){if(t.length!==e.length)throw new NF({expectedLength:t.length,givenLength:e.length});const r=a$({params:t,values:e}),n=MC(r);return n.length===0?"0x":n}function a$({params:t,values:e}){const r=[];for(let n=0;n<t.length;n++)r.push(DC({param:t[n],value:e[n]}));return r}function DC({param:t,value:e}){const r=LC(t.type);if(r){const[n,i]=r;return l$(e,{length:n,param:{...t,type:i}})}if(t.type==="tuple")return p$(e,{param:t});if(t.type==="address")return c$(e);if(t.type==="bool")return d$(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const n=t.type.startsWith("int"),[,,i="256"]=o$.exec(t.type)??[];return h$(e,{signed:n,size:Number(i)})}if(t.type.startsWith("bytes"))return u$(e,{param:t});if(t.type==="string")return f$(e);throw new kF(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function MC(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Fn(a)}const r=[],n=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(r.push(Et(e+i,{size:32})),n.push(a),i+=Fn(a)):r.push(a)}return Ku([...r,...n])}function c$(t){if(!ua(t))throw new Gu({address:t});return{dynamic:!1,encoded:bl(t.toLowerCase())}}function l$(t,{length:e,param:r}){const n=e===null;if(!Array.isArray(t))throw new MF(t);if(!n&&t.length!==e)throw new TF({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=DC({param:r,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(n||i){const o=MC(s);if(n){const a=Et(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Ku([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Ku(s.map(({encoded:o})=>o))}}function u$(t,{param:e}){const[,r]=e.type.split("bytes"),n=Fn(t);if(!r){let i=t;return n%32!==0&&(i=bl(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Ku([bl(Et(n,{size:32})),i])}}if(n!==Number.parseInt(r))throw new xF({expectedSize:Number.parseInt(r),value:t});return{dynamic:!1,encoded:bl(t,{dir:"right"})}}function d$(t){if(typeof t!="boolean")throw new be(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:bl(QR(t))}}function h$(t,{signed:e,size:r=256}){if(typeof r=="number"){const n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new HR({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:Et(t,{size:32,signed:e})}}function f$(t){const e=Lw(t),r=Math.ceil(Fn(e)/32),n=[];for(let i=0;i<r;i++)n.push(bl(Mv(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Ku([bl(Et(Fn(e),{size:32})),...n])}}function p$(t,{param:e}){let r=!1;const n=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=DC({param:s,value:t[o]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?MC(n):Ku(n.map(({encoded:i})=>i))}}function LC(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const dE="/docs/contract/encodeDeployData";function d8(t){const{abi:e,args:r,bytecode:n}=t;if(!r||r.length===0)return n;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new IF({docsPath:dE});if(!("inputs"in i))throw new XT({docsPath:dE});if(!i.inputs||i.inputs.length===0)throw new XT({docsPath:dE});const s=u8(i.inputs,r);return $w([n,s])}function va(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}class UC extends be{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class hE extends be{constructor({docsPath:e,metaMessages:r,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:r,name:"AccountTypeNotSupportedError"})}}function m$(t){const e=Rl(`0x${t.substring(4)}`).substring(26);return jw(`0x${e}`)}const g$="modulepreload",y$=function(t){return"/"+t},sx={},Ji=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(u=>{if(u=y$(u),u in sx)return;sx[u]=!0;const l=u.endsWith(".css"),h=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":g$,l||(f.as="script"),f.crossOrigin="",f.href=u,a&&f.setAttribute("nonce",a),document.head.appendChild(f),l)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};async function v$({hash:t,signature:e}){const r=ic(t)?t:sc(t),{secp256k1:n}=await Ji(async()=>{const{secp256k1:o}=await import("./secp256k1-C7MIn_Tq.js");return{secp256k1:o}},__vite__mapDeps([0,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:h,v:f,yParity:m}=e,g=Number(m??f),w=ox(g);return new n.Signature(uf(l),uf(h)).addRecoveryBit(w)}const o=ic(e)?e:sc(e),a=Wu(`0x${o.slice(130)}`),u=ox(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(u)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function ox(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function w$({hash:t,signature:e}){return m$(await v$({hash:t,signature:e}))}class ax extends be{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class h8 extends be{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class b$ extends be{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const E$={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new b$({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new h8({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new ax({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new ax({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function FC(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(E$);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}function _$(t,e="hex"){const r=f8(t),n=FC(new Uint8Array(r.length));return r.encode(n),e==="hex"?Xn(n.bytes):n.bytes}function f8(t){return Array.isArray(t)?A$(t.map(e=>f8(e))):C$(t)}function A$(t){const e=t.reduce((i,s)=>i+s.length,0),r=p8(e);return{length:e<=55?1+e:1+r+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+r),r===1?i.pushUint8(e):r===2?i.pushUint16(e):r===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function C$(t){const e=typeof t=="string"?la(t):t,r=p8(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+r),r===1?i.pushUint8(e.length):r===2?i.pushUint16(e.length):r===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function p8(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new be("Length is too large.")}function S$(t){const{chainId:e,nonce:r,to:n}=t,i=t.contractAddress??t.address,s=Rl($w(["0x05",_$([e?Et(e):"0x",i,r?Et(r):"0x"])]));return n==="bytes"?la(s):s}async function m8(t){const{authorization:e,signature:r}=t;return w$({hash:S$(e),signature:r??e})}class EA extends be{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class I$ extends be{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class T$ extends be{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class g8 extends be{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function x$({chain:t,currentChainId:e}){if(!t)throw new T$;if(e!==t.id)throw new I$({chain:t,currentChainId:e})}const N$={gwei:9,wei:18},P$={ether:-9,wei:9},R$={ether:-18,gwei:-9};function Mf(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}function es(t,e="wei"){return Mf(t,P$[e])}class xu extends be{constructor({cause:e,message:r}={}){var i;const n=(i=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(xu,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(xu,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Lv extends be{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${es(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Lv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class _A extends be{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${es(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(_A,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class AA extends be{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(AA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class CA extends be{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(CA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class SA extends be{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(SA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class IA extends be{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(IA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class TA extends be{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(TA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class xA extends be{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(xA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class NA extends be{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(NA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Uv extends be{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${es(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${es(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Uv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Vw extends be{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function $C(t,e="wei"){return Mf(t,N$[e])}function $g(t){const e=Object.entries(t).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=e.reduce((n,[i])=>Math.max(n,i.length),0);return e.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class O$ extends be{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class k$ extends be{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",$g(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class D$ extends be{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:l,nonce:h,to:f,value:m}){var w;const g=$g({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:r==null?void 0:r.address,to:f,value:typeof m<"u"&&`${$C(m)} ${((w=i==null?void 0:i.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${es(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${es(u)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${es(l)} gwei`,nonce:h});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",g].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class y8 extends be{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s}){let o="Transaction";n&&s!==void 0&&(o=`Transaction at block time "${n}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),r&&s!==void 0&&(o=`Transaction at block number "${r}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class v8 extends be{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class M$ extends be{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Bs=(t,e,r)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,r),L$=t=>t,BC=t=>t;class pm extends be{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${BC(o)}`,e&&`Request body: ${Bs(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class jC extends be{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${BC(n)}`,`Request body: ${Bs(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class cx extends be{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${BC(r)}`,`Request body: ${Bs(e)}`],name:"TimeoutError"})}}const U$=-1;class rs extends be{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof jC?e.code:r??U$}}class Lf extends rs{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Rm extends rs{constructor(e){super(e,{code:Rm.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Rm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Om extends rs{constructor(e){super(e,{code:Om.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Om,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class km extends rs{constructor(e,{method:r}={}){super(e,{code:km.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(km,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Dm extends rs{constructor(e){super(e,{code:Dm.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Dm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Qu extends rs{constructor(e){super(e,{code:Qu.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Qu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Mm extends rs{constructor(e){super(e,{code:Mm.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Mm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Lm extends rs{constructor(e){super(e,{code:Lm.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Lm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class El extends rs{constructor(e){super(e,{code:El.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(El,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class df extends rs{constructor(e){super(e,{code:df.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(df,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Nu extends rs{constructor(e,{method:r}={}){super(e,{code:Nu.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(Nu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class hf extends rs{constructor(e){super(e,{code:hf.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(hf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Um extends rs{constructor(e){super(e,{code:Um.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Um,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class bn extends Lf{constructor(e){super(e,{code:bn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Fm extends Lf{constructor(e){super(e,{code:Fm.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Fm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class $m extends Lf{constructor(e,{method:r}={}){super(e,{code:$m.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty($m,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Bm extends Lf{constructor(e){super(e,{code:Bm.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Bm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class jm extends Lf{constructor(e){super(e,{code:jm.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(jm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class da extends Lf{constructor(e){super(e,{code:da.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(da,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class F$ extends rs{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function VC(t,e){const r=(t.details||"").toLowerCase(),n=t instanceof be?t.walk(i=>(i==null?void 0:i.code)===xu.code):t;return n instanceof be?new xu({cause:t,message:n.details}):xu.nodeMessage.test(r)?new xu({cause:t,message:t.details}):Lv.nodeMessage.test(r)?new Lv({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):_A.nodeMessage.test(r)?new _A({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):AA.nodeMessage.test(r)?new AA({cause:t,nonce:e==null?void 0:e.nonce}):CA.nodeMessage.test(r)?new CA({cause:t,nonce:e==null?void 0:e.nonce}):SA.nodeMessage.test(r)?new SA({cause:t,nonce:e==null?void 0:e.nonce}):IA.nodeMessage.test(r)?new IA({cause:t}):TA.nodeMessage.test(r)?new TA({cause:t,gas:e==null?void 0:e.gas}):xA.nodeMessage.test(r)?new xA({cause:t,gas:e==null?void 0:e.gas}):NA.nodeMessage.test(r)?new NA({cause:t}):Uv.nodeMessage.test(r)?new Uv({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Vw({cause:t})}function $$(t,{docsPath:e,...r}){const n=(()=>{const i=VC(t,r);return i instanceof Vw?t:i})();return new D$(n,{docsPath:e,...r})}function qC(t,{format:e}){if(!e)return{};const r={};function n(s){const o=Object.keys(s);for(const a of o)a in t&&(r[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&n(s[a])}const i=e(t||{});return n(i),r}const B$={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function zC(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=j$(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(r=>Xn(r)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=Et(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=Et(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Et(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Et(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Et(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Et(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=B$[t.type]),typeof t.value<"u"&&(e.value=Et(t.value)),e}function j$(t){return t.map(e=>({address:e.address,r:e.r?Et(BigInt(e.r)):e.r,s:e.s?Et(BigInt(e.s)):e.s,chainId:Et(e.chainId),nonce:Et(e.nonce),...typeof e.yParity<"u"?{yParity:Et(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Et(e.v)}:{}}))}function mr(t,e,r){const n=t[e.name];if(typeof n=="function")return n;const i=t[r];return typeof i=="function"?i:s=>e(t,s)}const V$=2n**256n-1n;function qw(t){const{account:e,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:i,to:s}=t,o=e?va(e):void 0;if(o&&!ua(o.address))throw new Gu({address:o.address});if(s&&!ua(s))throw new Gu({address:s});if(typeof r<"u"&&(typeof n<"u"||typeof i<"u"))throw new O$;if(n&&n>V$)throw new Lv({maxFeePerGas:n});if(i&&n&&i>n)throw new Uv({maxFeePerGas:n,maxPriorityFeePerGas:i})}async function w8(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Wu(e)}class q$ extends be{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class HC extends be{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class z$ extends be{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${es(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class b8 extends be{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}const E8={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function _8(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Wu(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Wu(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?E8[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=H$(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function H$(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function W$(t){const e=(t.transactions??[]).map(r=>typeof r=="string"?r:_8(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function Vm(t,{blockHash:e,blockNumber:r,blockTag:n,includeTransactions:i}={}){var h,f,m;const s=n??"latest",o=i??!1,a=r!==void 0?Et(r):void 0;let u=null;if(e?u=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):u=await t.request({method:"eth_getBlockByNumber",params:[a||s,o]},{dedupe:!!a}),!u)throw new b8({blockHash:e,blockNumber:r});return(((m=(f=(h=t.chain)==null?void 0:h.formatters)==null?void 0:f.block)==null?void 0:m.format)||W$)(u)}async function A8(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function K$(t,e){var s,o;const{block:r,chain:n=t.chain,request:i}=e||{};try{const a=((s=n==null?void 0:n.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=n==null?void 0:n.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=r||await mr(t,Vm,"getBlock")({}),h=await a({block:l,client:t,request:i});if(h===null)throw new Error;return h}if(typeof a<"u")return a;const u=await t.request({method:"eth_maxPriorityFeePerGas"});return uf(u)}catch{const[a,u]=await Promise.all([r?Promise.resolve(r):mr(t,Vm,"getBlock")({}),mr(t,A8,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new HC;const l=u-a.baseFeePerGas;return l<0n?0n:l}}async function lx(t,e){var m,g;const{block:r,chain:n=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>{var w,E;return typeof((w=n==null?void 0:n.fees)==null?void 0:w.baseFeeMultiplier)=="function"?n.fees.baseFeeMultiplier({block:r,client:t,request:i}):((E=n==null?void 0:n.fees)==null?void 0:E.baseFeeMultiplier)??1.2})();if(o<1)throw new q$;const u=10**(((m=o.toString().split(".")[1])==null?void 0:m.length)??0),l=w=>w*BigInt(Math.ceil(o*u))/BigInt(u),h=r||await mr(t,Vm,"getBlock")({});if(typeof((g=n==null?void 0:n.fees)==null?void 0:g.estimateFeesPerGas)=="function"){const w=await n.fees.estimateFeesPerGas({block:r,client:t,multiply:l,request:i,type:s});if(w!==null)return w}if(s==="eip1559"){if(typeof h.baseFeePerGas!="bigint")throw new HC;const w=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await K$(t,{block:h,chain:n,request:i}),E=l(h.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??E+w,maxPriorityFeePerGas:w}}return{gasPrice:(i==null?void 0:i.gasPrice)??l(await mr(t,A8,"getGasPrice")({}))}}class G$ extends be{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:l,nonce:h,to:f,value:m}){var w;const g=$g({from:r==null?void 0:r.address,to:f,value:typeof m<"u"&&`${$C(m)} ${((w=i==null?void 0:i.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${es(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${es(u)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${es(l)} gwei`,nonce:h});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",g].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function Q$(t,{docsPath:e,...r}){const n=(()=>{const i=VC(t,r);return i instanceof Vw?t:i})();return new G$(n,{docsPath:e,...r})}class Y$ extends be{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class J$ extends be{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ux(t){return t.reduce((e,{slot:r,value:n})=>`${e}        ${r}: ${n}
`,"")}function Z$(t){return t.reduce((e,{address:r,...n})=>{let i=`${e}    ${r}:
`;return n.nonce&&(i+=`      nonce: ${n.nonce}
`),n.balance&&(i+=`      balance: ${n.balance}
`),n.code&&(i+=`      code: ${n.code}
`),n.state&&(i+=`      state:
`,i+=ux(n.state)),n.stateDiff&&(i+=`      stateDiff:
`,i+=ux(n.stateDiff)),i},`  State Override:
`).slice(0,-1)}function dx(t){if(!(!t||t.length===0))return t.reduce((e,{slot:r,value:n})=>{if(r.length!==66)throw new JT({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new JT({size:n.length,targetSize:66,type:"hex"});return e[r]=n,e},{})}function X$(t){const{balance:e,nonce:r,state:n,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=Et(e)),r!==void 0&&(o.nonce=Et(r)),n!==void 0&&(o.state=dx(n)),i!==void 0){if(o.state)throw new J$;o.stateDiff=dx(i)}return o}function C8(t){if(!t)return;const e={};for(const{address:r,...n}of t){if(!ua(r,{strict:!1}))throw new Gu({address:r});if(e[r])throw new Y$({address:r});e[r]=X$(n)}return e}async function S8(t,{address:e,blockNumber:r,blockTag:n="latest"}){const i=r?Et(r):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||n]});return BigInt(s)}async function I8(t,e){var i,s,o;const{account:r=t.account}=e,n=r?va(r):void 0;try{let T=function(P){const{block:M,request:z,rpcStateOverride:B}=P;return t.request({method:"eth_estimateGas",params:B?[z,M??"latest",B]:M?[z,M]:[z]})};const{accessList:a,authorizationList:u,blobs:l,blobVersionedHashes:h,blockNumber:f,blockTag:m,data:g,gas:w,gasPrice:E,maxFeePerBlobGas:C,maxFeePerGas:N,maxPriorityFeePerGas:D,nonce:F,value:V,stateOverride:q,...j}=await KC(t,{...e,parameters:(n==null?void 0:n.type)==="local"?void 0:["blobVersionedHashes"]}),$=(f?Et(f):void 0)||m,k=C8(q),W=await(async()=>{if(j.to)return j.to;if(u&&u.length>0)return await m8({authorization:u[0]}).catch(()=>{throw new be("`to` is required. Could not infer from `authorizationList`")})})();qw(e);const x=(o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,_=(x||zC)({...qC(j,{format:x}),from:n==null?void 0:n.address,accessList:a,authorizationList:u,blobs:l,blobVersionedHashes:h,data:g,gas:w,gasPrice:E,maxFeePerBlobGas:C,maxFeePerGas:N,maxPriorityFeePerGas:D,nonce:F,to:W,value:V});let I=BigInt(await T({block:$,request:_,rpcStateOverride:k}));if(u){const P=await S8(t,{address:_.from}),M=await Promise.all(u.map(async z=>{const{address:B}=z,A=await T({block:$,request:{authorizationList:void 0,data:g,from:n==null?void 0:n.address,to:B,value:Et(P)},rpcStateOverride:k}).catch(()=>100000n);return 2n*BigInt(A)}));I+=M.reduce((z,B)=>z+B,0n)}return I}catch(a){throw Q$(a,{...e,account:n,chain:t.chain})}}async function eB(t,{address:e,blockTag:r="latest",blockNumber:n}){const i=await t.request({method:"eth_getTransactionCount",params:[e,n?Et(n):r]},{dedupe:!!n});return Wu(i)}function T8(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(s=>la(s)):t.blobs,i=[];for(const s of n)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return r==="bytes"?i:i.map(s=>Xn(s))}function x8(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(o=>la(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>la(o)):t.commitments,s=[];for(let o=0;o<n.length;o++){const a=n[o],u=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,u)))}return r==="bytes"?s:s.map(o=>Xn(o))}function tB(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,l=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+l,a,n)}function rB(t,e,r){return t&e^~t&r}function nB(t,e,r){return t&e^t&r^e&r}class iB extends t8{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=cE(this.buffer)}update(e){Dv(this);const{view:r,buffer:n,blockLen:i}=this;e=OC(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=cE(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Dv(this),e8(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;tB(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=cE(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,h=this.get();if(l>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,h[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const sB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Hc=new Uint32Array(64);class oB extends iB{constructor(){super(64,32,8,!1),this.A=zc[0]|0,this.B=zc[1]|0,this.C=zc[2]|0,this.D=zc[3]|0,this.E=zc[4]|0,this.F=zc[5]|0,this.G=zc[6]|0,this.H=zc[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Hc[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const m=Hc[f-15],g=Hc[f-2],w=$o(m,7)^$o(m,18)^m>>>3,E=$o(g,17)^$o(g,19)^g>>>10;Hc[f]=E+Hc[f-7]+w+Hc[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:l,H:h}=this;for(let f=0;f<64;f++){const m=$o(a,6)^$o(a,11)^$o(a,25),g=h+m+rB(a,u,l)+sB[f]+Hc[f]|0,E=($o(n,2)^$o(n,13)^$o(n,22))+nB(n,i,s)|0;h=l,l=u,u=a,a=o+g|0,o=s,s=i,i=n,n=g+E|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,l=l+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,l,h)}roundClean(){Hc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const aB=r8(()=>new oB);function cB(t,e){return aB(ic(t,{strict:!1})?Ug(t):t)}function lB(t){const{commitment:e,version:r=1}=t,n=t.to??(typeof e=="string"?"hex":"bytes"),i=cB(e);return i.set([r],0),n==="bytes"?i:Xn(i)}function uB(t){const{commitments:e,version:r}=t,n=t.to,i=[];for(const s of e)i.push(lB({commitment:s,to:n,version:r}));return i}const hx=6,N8=32,WC=4096,P8=N8*WC,fx=P8*hx-1-1*WC*hx;class dB extends be{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class hB extends be{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function fB(t){const e=typeof t.data=="string"?la(t.data):t.data,r=Fn(e);if(!r)throw new hB;if(r>fx)throw new dB({maxSize:fx,size:r});const n=[];let i=!0,s=0;for(;i;){const o=FC(new Uint8Array(P8));let a=0;for(;a<WC;){const u=e.slice(s,s+(N8-1));if(o.pushByte(0),o.pushBytes(u),u.length<31){o.pushByte(128),i=!1;break}a++,s+=31}n.push(o)}return n.map(o=>Xn(o.bytes))}function pB(t){const{data:e,kzg:r,to:n}=t,i=t.blobs??fB({data:e}),s=t.commitments??T8({blobs:i,kzg:r,to:n}),o=t.proofs??x8({blobs:i,commitments:s,kzg:r,to:n}),a=[];for(let u=0;u<i.length;u++)a.push({blob:i[u],commitment:s[u],proof:o[u]});return a}function mB(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new k$({transaction:t})}const R8=["blobVersionedHashes","chainId","fees","gas","nonce","type"],px=new Map;async function KC(t,e){const{account:r=t.account,blobs:n,chain:i,gas:s,kzg:o,nonce:a,nonceManager:u,parameters:l=R8,type:h}=e,f=r&&va(r),m={...e,...f?{from:f==null?void 0:f.address}:{}};let g;async function w(){return g||(g=await mr(t,Vm,"getBlock")({blockTag:"latest"}),g)}let E;async function C(){return E||(i?i.id:typeof e.chainId<"u"?e.chainId:(E=await mr(t,w8,"getChainId")({}),E))}if(l.includes("nonce")&&typeof a>"u"&&f)if(u){const N=await C();m.nonce=await u.consume({address:f.address,chainId:N,client:t})}else m.nonce=await mr(t,eB,"getTransactionCount")({address:f.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&n&&o){const N=T8({blobs:n,kzg:o});if(l.includes("blobVersionedHashes")){const D=uB({commitments:N,to:"hex"});m.blobVersionedHashes=D}if(l.includes("sidecars")){const D=x8({blobs:n,commitments:N,kzg:o}),F=pB({blobs:n,commitments:N,proofs:D,to:"hex"});m.sidecars=F}}if(l.includes("chainId")&&(m.chainId=await C()),(l.includes("fees")||l.includes("type"))&&typeof h>"u")try{m.type=mB(m)}catch{let N=px.get(t.uid);if(typeof N>"u"){const D=await w();N=typeof(D==null?void 0:D.baseFeePerGas)=="bigint",px.set(t.uid,N)}m.type=N?"eip1559":"legacy"}if(l.includes("fees"))if(m.type!=="legacy"&&m.type!=="eip2930"){if(typeof m.maxFeePerGas>"u"||typeof m.maxPriorityFeePerGas>"u"){const N=await w(),{maxFeePerGas:D,maxPriorityFeePerGas:F}=await lx(t,{block:N,chain:i,request:m});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<F)throw new z$({maxPriorityFeePerGas:F});m.maxPriorityFeePerGas=F,m.maxFeePerGas=D}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new HC;if(typeof e.gasPrice>"u"){const N=await w(),{gasPrice:D}=await lx(t,{block:N,chain:i,request:m,type:"legacy"});m.gasPrice=D}}return l.includes("gas")&&typeof s>"u"&&(m.gas=await mr(t,I8,"estimateGas")({...m,account:f&&{address:f.address,type:"json-rpc"}})),qw(m),delete m.parameters,m}async function gB(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const fE=new Bw(128);async function O8(t,e){var N,D,F,V;const{account:r=t.account,chain:n=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:u,gasPrice:l,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:m,nonce:g,value:w,...E}=e;if(typeof r>"u")throw new UC({docsPath:"/docs/actions/wallet/sendTransaction"});const C=r?va(r):null;try{qw(e);const q=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await m8({authorization:s[0]}).catch(()=>{throw new be("`to` is required. Could not infer from `authorizationList`.")})})();if((C==null?void 0:C.type)==="json-rpc"||C===null){let j;n!==null&&(j=await mr(t,w8,"getChainId")({}),x$({currentChainId:j,chain:n}));const U=(F=(D=(N=t.chain)==null?void 0:N.formatters)==null?void 0:D.transactionRequest)==null?void 0:F.format,k=(U||zC)({...qC(E,{format:U}),accessList:i,authorizationList:s,blobs:o,chainId:j,data:a,from:C==null?void 0:C.address,gas:u,gasPrice:l,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:m,nonce:g,to:q,value:w}),W=fE.get(t.uid),x=W?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:x,params:[k]},{retryCount:0})}catch(v){if(W===!1)throw v;const _=v;if(_.name==="InvalidInputRpcError"||_.name==="InvalidParamsRpcError"||_.name==="MethodNotFoundRpcError"||_.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[k]},{retryCount:0}).then(T=>(fE.set(t.uid,!0),T)).catch(T=>{const I=T;throw I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError"?(fE.set(t.uid,!1),_):I});throw _}}if((C==null?void 0:C.type)==="local"){const j=await mr(t,KC,"prepareTransactionRequest")({account:C,accessList:i,authorizationList:s,blobs:o,chain:n,data:a,gas:u,gasPrice:l,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:m,nonce:g,nonceManager:C.nonceManager,parameters:[...R8,"sidecars"],value:w,...E,to:q}),U=(V=n==null?void 0:n.serializers)==null?void 0:V.transaction,$=await C.signTransaction(j,{serializer:U});return await mr(t,gB,"sendRawTransaction")({serializedTransaction:$})}throw(C==null?void 0:C.type)==="smart"?new hE({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new hE({docsPath:"/docs/actions/wallet/sendTransaction",type:C==null?void 0:C.type})}catch(q){throw q instanceof hE?q:$$(q,{...e,account:C,chain:e.chain||void 0})}}const PA=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],k8=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],D8=[...k8,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],yB=[...k8,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],mx=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],gx=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}];function vB(t,e={}){typeof e.size<"u"&&_o(t,{size:e.size});const r=Xn(t,e);return uf(r,e)}function wB(t,e={}){let r=t;if(typeof e.size<"u"&&(_o(r,{size:e.size}),r=Df(r)),r.length>1||r[0]>1)throw new yF(r);return!!r[0]}function Za(t,e={}){typeof e.size<"u"&&_o(t,{size:e.size});const r=Xn(t,e);return Wu(r,e)}function bB(t,e={}){let r=t;return typeof e.size<"u"&&(_o(r,{size:e.size}),r=Df(r,{dir:"right"})),new TextDecoder().decode(r)}function zw(t,e){const r=typeof e=="string"?la(e):e,n=FC(r);if(Fn(r)===0&&t.length>0)throw new Fw;if(Fn(e)&&Fn(e)<32)throw new YR({data:typeof e=="string"?e:Xn(e),params:t,size:Fn(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];n.setPosition(i);const[u,l]=Fh(n,a,{staticPosition:0});i+=l,s.push(u)}return s}function Fh(t,e,{staticPosition:r}){const n=LC(e.type);if(n){const[i,s]=n;return _B(t,{...e,type:s},{length:i,staticPosition:r})}if(e.type==="tuple")return IB(t,e,{staticPosition:r});if(e.type==="address")return EB(t);if(e.type==="bool")return AB(t);if(e.type.startsWith("bytes"))return CB(t,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return SB(t,e);if(e.type==="string")return TB(t,{staticPosition:r});throw new DF(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const yx=32,RA=32;function EB(t){const e=t.readBytes(32);return[jw(Xn(l8(e,-20))),32]}function _B(t,e,{length:r,staticPosition:n}){if(!r){const o=Za(t.readBytes(RA)),a=n+o,u=a+yx;t.setPosition(a);const l=Za(t.readBytes(yx)),h=qm(e);let f=0;const m=[];for(let g=0;g<l;++g){t.setPosition(u+(h?g*32:f));const[w,E]=Fh(t,e,{staticPosition:u});f+=E,m.push(w)}return t.setPosition(n+32),[m,32]}if(qm(e)){const o=Za(t.readBytes(RA)),a=n+o,u=[];for(let l=0;l<r;++l){t.setPosition(a+l*32);const[h]=Fh(t,e,{staticPosition:a});u.push(h)}return t.setPosition(n+32),[u,32]}let i=0;const s=[];for(let o=0;o<r;++o){const[a,u]=Fh(t,e,{staticPosition:n+i});i+=u,s.push(a)}return[s,i]}function AB(t){return[wB(t.readBytes(32),{size:32}),32]}function CB(t,e,{staticPosition:r}){const[n,i]=e.type.split("bytes");if(!i){const o=Za(t.readBytes(32));t.setPosition(r+o);const a=Za(t.readBytes(32));if(a===0)return t.setPosition(r+32),["0x",32];const u=t.readBytes(a);return t.setPosition(r+32),[Xn(u),32]}return[Xn(t.readBytes(Number.parseInt(i),32)),32]}function SB(t,e){const r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256"),i=t.readBytes(32);return[n>48?vB(i,{signed:r}):Za(i,{signed:r}),32]}function IB(t,e,{staticPosition:r}){const n=e.components.length===0||e.components.some(({name:o})=>!o),i=n?[]:{};let s=0;if(qm(e)){const o=Za(t.readBytes(RA)),a=r+o;for(let u=0;u<e.components.length;++u){const l=e.components[u];t.setPosition(a+s);const[h,f]=Fh(t,l,{staticPosition:a});s+=f,i[n?u:l==null?void 0:l.name]=h}return t.setPosition(r+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[u,l]=Fh(t,a,{staticPosition:r});i[n?o:a==null?void 0:a.name]=u,s+=l}return[i,s]}function TB(t,{staticPosition:e}){const r=Za(t.readBytes(32)),n=e+r;t.setPosition(n);const i=Za(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=bB(Df(s));return t.setPosition(e+32),[o,32]}function qm(t){var n;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(n=t.components)==null?void 0:n.some(qm);const r=LC(t.type);return!!(r&&qm({...t,type:r[1]}))}const xB=t=>Rl(Ug(t));function NB(t){return xB(t)}const PB="1.0.8";let js=class OA extends Error{constructor(e,r={}){var o;const n=r.cause instanceof OA?r.cause.details:(o=r.cause)!=null&&o.message?r.cause.message:r.details,i=r.cause instanceof OA&&r.cause.docsPath||r.docsPath,s=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${PB}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}};function hc(t,e){const r=t.exec(e);return r==null?void 0:r.groups}const M8=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,L8=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,U8=/^\(.+?\).*?$/,vx=/^tuple(?<array>(\[(\d*)\])*)$/;function kA(t){let e=t.type;if(vx.test(t.type)&&"components"in t){e="(";const r=t.components.length;for(let i=0;i<r;i++){const s=t.components[i];e+=kA(s),i<r-1&&(e+=", ")}const n=hc(vx,t.type);return e+=`)${(n==null?void 0:n.array)??""}`,kA({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Dp(t){let e="";const r=t.length;for(let n=0;n<r;n++){const i=t[n];e+=kA(i),n!==r-1&&(e+=", ")}return e}function RB(t){var e;return t.type==="function"?`function ${t.name}(${Dp(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Dp(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Dp(t.inputs)})`:t.type==="error"?`error ${t.name}(${Dp(t.inputs)})`:t.type==="constructor"?`constructor(${Dp(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const F8=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function OB(t){return F8.test(t)}function kB(t){return hc(F8,t)}const $8=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function DB(t){return $8.test(t)}function MB(t){return hc($8,t)}const B8=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function LB(t){return B8.test(t)}function UB(t){return hc(B8,t)}const j8=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function V8(t){return j8.test(t)}function FB(t){return hc(j8,t)}const q8=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function $B(t){return q8.test(t)}function BB(t){return hc(q8,t)}const z8=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function jB(t){return z8.test(t)}function VB(t){return hc(z8,t)}const qB=/^receive\(\) external payable$/;function zB(t){return qB.test(t)}const HB=new Set(["indexed"]),DA=new Set(["calldata","memory","storage"]);class WB extends js{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class KB extends js{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class GB extends js{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class QB extends js{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class YB extends js{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class JB extends js{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class ZB extends js{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Uf extends js{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class XB extends js{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class ej extends js{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class tj extends js{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class rj extends js{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function nj(t,e,r){let n="";if(r)for(const i of Object.entries(r)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;n+=`(${i[0]}{${s}})`}return e?`${e}:${t}${n}`:t}const pE=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function ij(t,e={}){if(LB(t))return sj(t,e);if(DB(t))return oj(t,e);if(OB(t))return aj(t,e);if($B(t))return cj(t,e);if(jB(t))return lj(t);if(zB(t))return{type:"receive",stateMutability:"payable"};throw new XB({signature:t})}function sj(t,e={}){const r=UB(t);if(!r)throw new Uf({signature:t,type:"function"});const n=yo(r.parameters),i=[],s=n.length;for(let a=0;a<s;a++)i.push(Yu(n[a],{modifiers:DA,structs:e,type:"function"}));const o=[];if(r.returns){const a=yo(r.returns),u=a.length;for(let l=0;l<u;l++)o.push(Yu(a[l],{modifiers:DA,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:o}}function oj(t,e={}){const r=MB(t);if(!r)throw new Uf({signature:t,type:"event"});const n=yo(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(Yu(n[o],{modifiers:HB,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:i}}function aj(t,e={}){const r=kB(t);if(!r)throw new Uf({signature:t,type:"error"});const n=yo(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(Yu(n[o],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:i}}function cj(t,e={}){const r=BB(t);if(!r)throw new Uf({signature:t,type:"constructor"});const n=yo(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(Yu(n[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}function lj(t){const e=VB(t);if(!e)throw new Uf({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const uj=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dj=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,hj=/^u?int$/;function Yu(t,e){var f,m;const r=nj(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(pE.has(r))return pE.get(r);const n=U8.test(t),i=hc(n?dj:uj,t);if(!i)throw new GB({param:t});if(i.name&&pj(i.name))throw new QB({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let u,l={};if(n){u="tuple";const g=yo(i.type),w=[],E=g.length;for(let C=0;C<E;C++)w.push(Yu(g[C],{structs:a}));l={components:w}}else if(i.type in a)u="tuple",l={components:a[i.type]};else if(hj.test(i.type))u=`${i.type}256`;else if(u=i.type,(e==null?void 0:e.type)!=="struct"&&!H8(u))throw new KB({type:u});if(i.modifier){if(!((m=(f=e==null?void 0:e.modifiers)==null?void 0:f.has)!=null&&m.call(f,i.modifier)))throw new YB({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(DA.has(i.modifier)&&!mj(u,!!i.array))throw new JB({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const h={type:`${u}${i.array??""}`,...s,...o,...l};return pE.set(r,h),h}function yo(t,e=[],r="",n=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return n===0?yo(a,[...e,r.trim()]):yo(a,e,`${r}${o}`,n);case"(":return yo(a,e,`${r}${o}`,n+1);case")":return yo(a,e,`${r}${o}`,n-1);default:return yo(a,e,`${r}${o}`,n)}}if(r==="")return e;if(n!==0)throw new rj({current:r,depth:n});return e.push(r.trim()),e}function H8(t){return t==="address"||t==="bool"||t==="function"||t==="string"||M8.test(t)||L8.test(t)}const fj=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function pj(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||M8.test(t)||L8.test(t)||fj.test(t)}function mj(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function gj(t){const e={},r=t.length;for(let o=0;o<r;o++){const a=t[o];if(!V8(a))continue;const u=FB(a);if(!u)throw new Uf({signature:a,type:"struct"});const l=u.properties.split(";"),h=[],f=l.length;for(let m=0;m<f;m++){const w=l[m].trim();if(!w)continue;const E=Yu(w,{type:"struct"});h.push(E)}if(!h.length)throw new ej({signature:a});e[u.name]=h}const n={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,u]=i[o];n[a]=W8(u,e)}return n}const yj=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function W8(t,e,r=new Set){const n=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(U8.test(o.type))n.push(o);else{const u=hc(yj,o.type);if(!(u!=null&&u.type))throw new ZB({abiParameter:o});const{array:l,type:h}=u;if(h in e){if(r.has(h))throw new tj({type:h});n.push({...o,type:`tuple${l??""}`,components:W8(e[h]??[],e,new Set([...r,h]))})}else if(H8(h))n.push(o);else throw new WB({type:h})}}return n}function K8(t){const e=gj(t),r=[],n=t.length;for(let i=0;i<n;i++){const s=t[i];V8(s)||r.push(ij(s,e))}return r}function vj(t){let e=!0,r="",n=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=a,r+=a}}if(!s)throw new be("Unable to normalize signature.");return i}const wj=t=>{const e=typeof t=="string"?t:RB(t);return vj(e)};function G8(t){return NB(wj(t))}const GC=G8,QC=t=>Mv(G8(t),0,4);function YC(t){const{abi:e,args:r=[],name:n}=t,i=ic(n,{strict:!1}),s=e.filter(a=>i?a.type==="function"?QC(a)===n:a.type==="event"?GC(a)===n:!1:"name"in a&&a.name===n);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!r||r.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==r.length)continue;if(r.every((l,h)=>{const f="inputs"in a&&a.inputs[h];return f?MA(l,f):!1})){if(o&&"inputs"in o&&o.inputs){const l=Q8(a.inputs,o.inputs,r);if(l)throw new OF({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||s[0]}function MA(t,e){const r=typeof t,n=e.type;switch(n){case"address":return ua(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>MA(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>MA(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Q8(t,e,r){for(const n in t){const i=t[n],s=e[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return Q8(i.components,s.components,r[n]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ua(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?ua(r[n],{strict:!1}):!1)return o}}const mE="/docs/contract/decodeFunctionResult";function Bg(t){const{abi:e,args:r,functionName:n,data:i}=t;let s=e[0];if(n){const a=YC({abi:e,args:r,name:n});if(!a)throw new Ov(n,{docsPath:mE});s=a}if(s.type!=="function")throw new Ov(void 0,{docsPath:mE});if(!s.outputs)throw new RF(s.name,{docsPath:mE});const o=zw(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const wx="/docs/contract/encodeFunctionData";function bj(t){const{abi:e,args:r,functionName:n}=t;let i=e[0];if(n){const s=YC({abi:e,args:r,name:n});if(!s)throw new Ov(n,{docsPath:wx});i=s}if(i.type!=="function")throw new Ov(void 0,{docsPath:wx});return{abi:[i],functionName:QC(Pl(i))}}function Ff(t){const{args:e}=t,{abi:r,functionName:n}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:bj(t)})(),i=r[0],s=n,o="inputs"in i&&i.inputs?u8(i.inputs,e??[]):void 0;return $w([s,o??"0x"])}function jg({blockNumber:t,chain:e,contract:r}){var i;const n=(i=e==null?void 0:e.contracts)==null?void 0:i[r];if(!n)throw new EA({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new EA({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}const Y8={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Ej={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},_j={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Aj(t){const{abi:e,data:r}=t,n=Mv(r,0,4);if(n==="0x")throw new Fw;const s=[...e||[],Ej,_j].find(o=>o.type==="error"&&n===QC(Pl(o)));if(!s)throw new JR(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?zw(s.inputs,Mv(r,4)):void 0,errorName:s.name}}function J8({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((i,s)=>`${n&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?Bs(e[s]):e[s]}`).join(", ")})`}class Cj extends be{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:l,nonce:h,to:f,value:m,stateOverride:g}){var C;const w=r?va(r):void 0;let E=$g({from:w==null?void 0:w.address,to:f,value:typeof m<"u"&&`${$C(m)} ${((C=i==null?void 0:i.nativeCurrency)==null?void 0:C.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${es(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${es(u)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${es(l)} gwei`,nonce:h});g&&(E+=`
${Z$(g)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",E].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Z8 extends be{constructor(e,{abi:r,args:n,contractAddress:i,docsPath:s,functionName:o,sender:a}){const u=YC({abi:r,args:n,name:o}),l=u?J8({abiItem:u,args:n,includeFunctionName:!1,includeName:!1}):void 0,h=u?Pl(u,{includeName:!0}):void 0,f=$g({address:i&&L$(i),function:h,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class LA extends be{constructor({abi:e,data:r,functionName:n,message:i}){let s,o,a,u;if(r&&r!=="0x")try{o=Aj({abi:e,data:r});const{abiItem:h,errorName:f,args:m}=o;if(f==="Error")u=m[0];else if(f==="Panic"){const[g]=m;u=Y8[g]}else{const g=h?Pl(h,{includeName:!0}):void 0,w=h&&m?J8({abiItem:h,args:m,includeFunctionName:!1,includeName:!1}):void 0;a=[g?`Error: ${g}`:"",w&&w!=="()"?`       ${[...Array((f==null?void 0:f.length)??0).keys()].map(()=>" ").join("")}${w}`:""]}}catch(h){s=h}else i&&(u=i);let l;s instanceof JR&&(l=s.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(u&&u!=="execution reverted"||l?[`The contract function "${n}" reverted with the following ${l?"signature":"reason"}:`,u||l].join(`
`):`The contract function "${n}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=r,this.reason=u,this.signature=l}}class Sj extends be{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Ij extends be{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class JC extends be{constructor({data:e,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function ZC(t,e){var n,i,s,o,a,u;if(!(t instanceof be))return!1;const r=t.walk(l=>l instanceof LA);return r instanceof LA?!!(((n=r.data)==null?void 0:n.errorName)==="ResolverNotFound"||((i=r.data)==null?void 0:i.errorName)==="ResolverWildcardNotSupported"||((s=r.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=r.data)==null?void 0:o.errorName)==="ResolverError"||((a=r.data)==null?void 0:a.errorName)==="HttpError"||(u=r.reason)!=null&&u.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&r.reason===Y8[50]):!1}function X8(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return ic(e)?e:null}function av(t){let e=new Uint8Array(32).fill(0);if(!t)return Xn(e);const r=t.split(".");for(let n=r.length-1;n>=0;n-=1){const i=X8(r[n]),s=i?Ug(i):Rl(qu(r[n]),"bytes");e=Rl(Ku([e,s]),"bytes")}return Xn(e)}function Tj(t){return`[${t.slice(2)}]`}function xj(t){const e=new Uint8Array(32).fill(0);return t?X8(t)||Rl(qu(t)):Xn(e)}function XC(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const r=new Uint8Array(qu(e).byteLength+2);let n=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=qu(i[s]);o.byteLength>255&&(o=qu(Tj(xj(i[s])))),r[n]=o.length,r.set(o,n+1),n+=o.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}const Nj=3;function Fv(t,{abi:e,address:r,args:n,docsPath:i,functionName:s,sender:o}){const a=t instanceof JC?t:t instanceof be?t.walk(w=>"data"in w)||t.walk():{},{code:u,data:l,details:h,message:f,shortMessage:m}=a,g=t instanceof Fw?new Sj({functionName:s}):[Nj,Qu.code].includes(u)&&(l||h||f||m)?new LA({abi:e,data:typeof l=="object"?l.data:l,functionName:s,message:a instanceof jC?h:m??f}):t;return new Z8(g,{abi:e,args:n,contractAddress:r,docsPath:i,functionName:s,sender:o})}const Pj="0x82ad56cb",Rj="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Oj="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";function kj(t,{docsPath:e,...r}){const n=(()=>{const i=VC(t,r);return i instanceof Vw?t:i})();return new Cj(n,{docsPath:e,...r})}function eO(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const gE=new Map;function tO({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const h=u();o();const f=h.map(({args:m})=>m);f.length!==0&&t(f).then(m=>{i&&Array.isArray(m)&&m.sort(i);for(let g=0;g<h.length;g++){const{resolve:w}=h[g];w==null||w([m[g],m])}}).catch(m=>{for(let g=0;g<h.length;g++){const{reject:w}=h[g];w==null||w(m)}})},o=()=>gE.delete(e),a=()=>u().map(({args:h})=>h),u=()=>gE.get(e)||[],l=h=>gE.set(e,[...u(),h]);return{flush:o,async schedule(h){const{promise:f,resolve:m,reject:g}=eO();return(r==null?void 0:r([...a(),h]))&&s(),u().length>0?(l({args:h,resolve:m,reject:g}),f):(l({args:h,resolve:m,reject:g}),setTimeout(s,n),f)}}}async function rO(t,e){var x,v,_,T;const{account:r=t.account,batch:n=!!((x=t.batch)!=null&&x.multicall),blockNumber:i,blockTag:s="latest",accessList:o,blobs:a,code:u,data:l,factory:h,factoryData:f,gas:m,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:E,maxPriorityFeePerGas:C,nonce:N,to:D,value:F,stateOverride:V,...q}=e,j=r?va(r):void 0;if(u&&(h||f))throw new be("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&D)throw new be("Cannot provide both `code` & `to` as parameters.");const U=u&&l,$=h&&f&&D&&l,k=U||$,W=U?Lj({code:u,data:l}):$?Uj({data:l,factory:h,factoryData:f,to:D}):l;try{qw(e);const P=(i?Et(i):void 0)||s,M=C8(V),z=(T=(_=(v=t.chain)==null?void 0:v.formatters)==null?void 0:_.transactionRequest)==null?void 0:T.format,A=(z||zC)({...qC(q,{format:z}),from:j==null?void 0:j.address,accessList:o,blobs:a,data:W,gas:m,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:E,maxPriorityFeePerGas:C,nonce:N,to:k?void 0:D,value:F});if(n&&Dj({request:A})&&!M)try{return await Mj(t,{...A,blockNumber:i,blockTag:s})}catch(J){if(!(J instanceof g8)&&!(J instanceof EA))throw J}const L=await t.request({method:"eth_call",params:M?[A,P,M]:[A,P]});return L==="0x"?{data:void 0}:{data:L}}catch(I){const P=Fj(I),{offchainLookup:M,offchainLookupSignature:z}=await Ji(async()=>{const{offchainLookup:B,offchainLookupSignature:A}=await import("./ccip-tTS6Edeu.js");return{offchainLookup:B,offchainLookupSignature:A}},[]);if(t.ccipRead!==!1&&(P==null?void 0:P.slice(0,10))===z&&D)return{data:await M(t,{data:P,to:D})};throw k&&(P==null?void 0:P.slice(0,10))==="0x101bb98d"?new Ij({factory:h}):kj(I,{...e,account:j,chain:t.chain})}}function Dj({request:t}){const{data:e,to:r,...n}=t;return!(!e||e.startsWith(Pj)||!r||Object.values(n).filter(i=>typeof i<"u").length>0)}async function Mj(t,e){var E;const{batchSize:r=1024,wait:n=0}=typeof((E=t.batch)==null?void 0:E.multicall)=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:s="latest",data:o,multicallAddress:a,to:u}=e;let l=a;if(!l){if(!t.chain)throw new g8;l=jg({blockNumber:i,chain:t.chain,contract:"multicall3"})}const f=(i?Et(i):void 0)||s,{schedule:m}=tO({id:`${t.uid}.${f}`,wait:n,shouldSplitBatch(C){return C.reduce((D,{data:F})=>D+(F.length-2),0)>r*2},fn:async C=>{const N=C.map(V=>({allowFailure:!0,callData:V.data,target:V.to})),D=Ff({abi:PA,args:[N],functionName:"aggregate3"}),F=await t.request({method:"eth_call",params:[{data:D,to:l},f]});return Bg({abi:PA,args:[N],functionName:"aggregate3",data:F||"0x"})}}),[{returnData:g,success:w}]=await m({data:o,to:u});if(!w)throw new JC({data:g});return g==="0x"?{data:void 0}:{data:g}}function Lj(t){const{code:e,data:r}=t;return d8({abi:K8(["constructor(bytes, bytes)"]),bytecode:Rj,args:[e,r]})}function Uj(t){const{data:e,factory:r,factoryData:n,to:i}=t;return d8({abi:K8(["constructor(address, bytes, address, bytes)"]),bytecode:Oj,args:[i,e,r,n]})}function Fj(t){var r;if(!(t instanceof be))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(r=e.data)==null?void 0:r.data:e.data}async function Ju(t,e){const{abi:r,address:n,args:i,functionName:s,...o}=e,a=Ff({abi:r,args:i,functionName:s});try{const{data:u}=await mr(t,rO,"call")({...o,data:a,to:n});return Bg({abi:r,args:i,functionName:s,data:u||"0x"})}catch(u){throw Fv(u,{abi:r,address:n,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function $j(t,e){const{blockNumber:r,blockTag:n,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:u}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return jg({blockNumber:r,chain:u,contract:"ensUniversalResolver"})})(),h=u==null?void 0:u.ensTlds;if(h&&!h.some(f=>s.endsWith(f)))return null;try{const f=Ff({abi:gx,functionName:"addr",...i!=null?{args:[av(s),BigInt(i)]}:{args:[av(s)]}}),m={address:l,abi:D8,functionName:"resolve",args:[sc(XC(s)),f],blockNumber:r,blockTag:n},g=mr(t,Ju,"readContract"),w=o?await g({...m,args:[...m.args,o]}):await g(m);if(w[0]==="0x")return null;const E=Bg({abi:gx,args:i!=null?[av(s),BigInt(i)]:void 0,functionName:"addr",data:w[0]});return E==="0x"||Df(E)==="0x00"?null:E}catch(f){if(a)throw f;if(ZC(f,"resolve"))return null;throw f}}class Bj extends be{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Mp extends be{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class eS extends be{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class jj extends be{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Vj=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,qj=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,zj=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Hj=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Wj(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const r=e.headers.get("content-type");return r==null?void 0:r.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function bx(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function nO({uri:t,gatewayUrls:e}){const r=zj.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const n=bx(e==null?void 0:e.ipfs,"https://ipfs.io"),i=bx(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(Vj),{protocol:o,subpath:a,target:u,subtarget:l=""}=(s==null?void 0:s.groups)||{},h=o==="ipns:/"||a==="ipns/",f=o==="ipfs:/"||a==="ipfs/"||qj.test(t);if(t.startsWith("http")&&!h&&!f){let g=t;return e!=null&&e.arweave&&(g=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:g,isOnChain:!1,isEncoded:!1}}if((h||f)&&u)return{uri:`${n}/${h?"ipns":"ipfs"}/${u}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&u)return{uri:`${i}/${u}${l||""}`,isOnChain:!1,isEncoded:!1};let m=t.replace(Hj,"");if(m.startsWith("<svg")&&(m=`data:image/svg+xml;base64,${btoa(m)}`),m.startsWith("data:")||m.startsWith("{"))return{uri:m,isOnChain:!0,isEncoded:!1};throw new eS({uri:t})}function iO(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new Bj({data:t});return t.image||t.image_url||t.image_data}async function Kj({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then(i=>i.json());return await tS({gatewayUrls:t,uri:iO(r)})}catch{throw new eS({uri:e})}}async function tS({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:n}=nO({uri:e,gatewayUrls:t});if(n||await Wj(r))return r;throw new eS({uri:e})}function Gj(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[r,n,i]=e.split("/"),[s,o]=r.split(":"),[a,u]=n.split(":");if(!s||s.toLowerCase()!=="eip155")throw new Mp({reason:"Only EIP-155 supported"});if(!o)throw new Mp({reason:"Chain ID not found"});if(!u)throw new Mp({reason:"Contract address not found"});if(!i)throw new Mp({reason:"Token ID not found"});if(!a)throw new Mp({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:a.toLowerCase(),contractAddress:u,tokenID:i}}async function Qj(t,{nft:e}){if(e.namespace==="erc721")return Ju(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Ju(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new jj({namespace:e.namespace})}async function Yj(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?Jj(t,{gatewayUrls:e,record:r}):tS({uri:r,gatewayUrls:e})}async function Jj(t,{gatewayUrls:e,record:r}){const n=Gj(r),i=await Qj(t,{nft:n}),{uri:s,isOnChain:o,isEncoded:a}=nO({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const l=a?atob(s.replace("data:application/json;base64,","")):s,h=JSON.parse(l);return tS({uri:iO(h),gatewayUrls:e})}let u=n.tokenID;return n.namespace==="erc1155"&&(u=u.replace("0x","").padStart(64,"0")),Kj({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,u)})}async function Zj(t,e){const{blockNumber:r,blockTag:n,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:u}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return jg({blockNumber:r,chain:u,contract:"ensUniversalResolver"})})(),h=u==null?void 0:u.ensTlds;if(h&&!h.some(f=>s.endsWith(f)))return null;try{const f={address:l,abi:D8,functionName:"resolve",args:[sc(XC(s)),Ff({abi:mx,functionName:"text",args:[av(s),i]})],blockNumber:r,blockTag:n},m=mr(t,Ju,"readContract"),g=o?await m({...f,args:[...f.args,o]}):await m(f);if(g[0]==="0x")return null;const w=Bg({abi:mx,functionName:"text",data:g[0]});return w===""?null:w}catch(f){if(a)throw f;if(ZC(f,"resolve"))return null;throw f}}async function Xj(t,{blockNumber:e,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const u=await mr(t,Zj,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!u)return null;try{return await Yj(t,{record:u,gatewayUrls:n})}catch{return null}}async function eV(t,{address:e,blockNumber:r,blockTag:n,gatewayUrls:i,strict:s,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=jg({blockNumber:r,chain:t.chain,contract:"ensUniversalResolver"})}const u=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const l={address:a,abi:yB,functionName:"reverse",args:[sc(XC(u))],blockNumber:r,blockTag:n},h=mr(t,Ju,"readContract"),[f,m]=i?await h({...l,args:[...l.args,i]}):await h(l);return e.toLowerCase()!==m.toLowerCase()?null:f}catch(l){if(s)throw l;if(ZC(l,"reverse"))return null;throw l}}function tV(t,{method:e}){var n,i;const r={};return t.transport.type==="fallback"&&((i=(n=t.transport).onResponse)==null||i.call(n,({method:s,response:o,status:a,transport:u})=>{a==="success"&&e===s&&(r[o]=u.request)})),s=>r[s]||t.request}async function rV(t){const e=tV(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}const nV=new Map,iV=new Map;function sV(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),r=e(t,nV),n=e(t,iV);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function oV(t,{cacheKey:e,cacheTime:r=Number.POSITIVE_INFINITY}){const n=sV(e),i=n.response.get();if(i&&r>0&&new Date().getTime()-i.created.getTime()<r)return i.data;let s=n.promise.get();s||(s=t(),n.promise.set(s));try{const o=await s;return n.response.set({created:new Date,data:o}),o}finally{n.promise.clear()}}const aV=t=>`blockNumber.${t}`;async function cV(t,{cacheTime:e=t.cacheTime}={}){const r=await oV(()=>t.request({method:"eth_blockNumber"}),{cacheKey:aV(t.uid),cacheTime:e});return BigInt(r)}function lV(t,e){if(!ua(t,{strict:!1}))throw new Gu({address:t});if(!ua(e,{strict:!1}))throw new Gu({address:e});return t.toLowerCase()===e.toLowerCase()}const Ex="/docs/contract/decodeEventLog";function uV(t){const{abi:e,data:r,strict:n,topics:i}=t,s=n??!0,[o,...a]=i;if(!o)throw new PF({docsPath:Ex});const u=e.length===1?e[0]:e.find(E=>E.type==="event"&&o===GC(Pl(E)));if(!(u&&"name"in u)||u.type!=="event")throw new ZR(o,{docsPath:Ex});const{name:l,inputs:h}=u,f=h==null?void 0:h.some(E=>!("name"in E&&E.name));let m=f?[]:{};const g=h.filter(E=>"indexed"in E&&E.indexed);for(let E=0;E<g.length;E++){const C=g[E],N=a[E];if(!N)throw new XR({abiItem:u,param:C});m[f?E:C.name||E]=dV({param:C,value:N})}const w=h.filter(E=>!("indexed"in E&&E.indexed));if(w.length>0){if(r&&r!=="0x")try{const E=zw(w,r);if(E)if(f)m=[...m,...E];else for(let C=0;C<w.length;C++)m[w[C].name]=E[C]}catch(E){if(s)throw E instanceof YR||E instanceof h8?new bA({abiItem:u,data:r,params:w,size:Fn(r)}):E}else if(s)throw new bA({abiItem:u,data:"0x",params:w,size:0})}return{eventName:l,args:Object.values(m).length>0?m:void 0}}function dV({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(zw([t],e)||[])[0]}function hV(t){const{abi:e,args:r,logs:n,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return n.map(o=>{var a;try{const u=e.find(h=>h.type==="event"&&o.topics[0]===GC(h));if(!u)return null;const l=uV({...o,abi:[u],strict:i});return s&&!s.includes(l.eventName)||!fV({args:l.args,inputs:u.inputs,matchArgs:r})?null:{...l,...o}}catch(u){let l,h;if(u instanceof ZR)return null;if(u instanceof bA||u instanceof XR){if(i)return null;l=u.abiItem.name,h=(a=u.abiItem.inputs)==null?void 0:a.some(f=>!("name"in f&&f.name))}return{...o,args:h?[]:{},eventName:l}}}).filter(Boolean)}function fV(t){const{args:e,inputs:r,matchArgs:n}=t;if(!n)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?lV(o,a):s.type==="string"||s.type==="bytes"?Rl(Ug(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(n)?n.every((s,o)=>{if(s==null)return!0;const a=r[o];return a?(Array.isArray(s)?s:[s]).some(l=>i(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof n=="object"&&!Array.isArray(n)?Object.entries(n).every(([s,o])=>{if(o==null)return!0;const a=r.find(l=>l.name===s);return a?(Array.isArray(o)?o:[o]).some(l=>i(a,l,e[s])):!1}):!1}function sO(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}async function pV(t,{filter:e}){const r="strict"in e&&e.strict,n=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof n[0]=="string")return n;const i=n.map(s=>sO(s));return!("abi"in e)||!e.abi?i:hV({abi:e.abi,logs:i,strict:r})}async function rS(t,{blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s}){var h,f,m;const o=n||"latest",a=r!==void 0?Et(r):void 0;let u=null;if(i?u=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?u=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Et(s)]},{dedupe:!0}):u=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,Et(s)]},{dedupe:!!a}),!u)throw new y8({blockHash:e,blockNumber:r,blockTag:o,hash:i,index:s});return(((m=(f=(h=t.chain)==null?void 0:h.formatters)==null?void 0:f.transaction)==null?void 0:m.format)||_8)(u)}const mV={"0x0":"reverted","0x1":"success"};function gV(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>sO(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Wu(t.transactionIndex):null,status:t.status?mV[t.status]:null,type:t.type?E8[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function _x(t,{hash:e}){var i,s,o;const r=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!r)throw new v8({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||gV)(r)}async function yV(t,e){var C;const{allowFailure:r=!0,batchSize:n,blockNumber:i,blockTag:s,multicallAddress:o,stateOverride:a}=e,u=e.contracts,l=n??(typeof((C=t.batch)==null?void 0:C.multicall)=="object"&&t.batch.multicall.batchSize||1024);let h=o;if(!h){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");h=jg({blockNumber:i,chain:t.chain,contract:"multicall3"})}const f=[[]];let m=0,g=0;for(let N=0;N<u.length;N++){const{abi:D,address:F,args:V,functionName:q}=u[N];try{const j=Ff({abi:D,args:V,functionName:q});g+=(j.length-2)/2,l>0&&g>l&&f[m].length>0&&(m++,g=(j.length-2)/2,f[m]=[]),f[m]=[...f[m],{allowFailure:!0,callData:j,target:F}]}catch(j){const U=Fv(j,{abi:D,address:F,args:V,docsPath:"/docs/contract/multicall",functionName:q});if(!r)throw U;f[m]=[...f[m],{allowFailure:!0,callData:"0x",target:F}]}}const w=await Promise.allSettled(f.map(N=>mr(t,Ju,"readContract")({abi:PA,address:h,args:[N],blockNumber:i,blockTag:s,functionName:"aggregate3",stateOverride:a}))),E=[];for(let N=0;N<w.length;N++){const D=w[N];if(D.status==="rejected"){if(!r)throw D.reason;for(let V=0;V<f[N].length;V++)E.push({status:"failure",error:D.reason,result:void 0});continue}const F=D.value;for(let V=0;V<F.length;V++){const{returnData:q,success:j}=F[V],{callData:U}=f[N][V],{abi:$,address:k,functionName:W,args:x}=u[E.length];try{if(U==="0x")throw new Fw;if(!j)throw new JC({data:q});const v=Bg({abi:$,args:x,data:q,functionName:W});E.push(r?{result:v,status:"success"}:v)}catch(v){const _=Fv(v,{abi:$,address:k,args:x,docsPath:"/docs/contract/multicall",functionName:W});if(!r)throw _;E.push({error:_,result:void 0,status:"failure"})}}}if(E.length!==u.length)throw new be("multicall results mismatch");return E}const Ey=new Bw(8192);function vV(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(Ey.get(r))return Ey.get(r);const n=t().finally(()=>Ey.delete(r));return Ey.set(r,n),n}async function $v(t){return new Promise(e=>setTimeout(e,t))}function Bv(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const u=async({error:l})=>{const h=typeof e=="function"?e({count:a,error:l}):e;h&&await $v(h),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<r&&await n({count:a,error:l}))return u({error:l});s(l)}};o()})}function wV(t,e={}){return async(r,n={})=>{var f;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:u}={...e,...n},{method:l}=r;if((f=s==null?void 0:s.exclude)!=null&&f.includes(l))throw new Nu(new Error("method not supported"),{method:l});if(s!=null&&s.include&&!s.include.includes(l))throw new Nu(new Error("method not supported"),{method:l});const h=i?Lw(`${u}.${Bs(r)}`):void 0;return vV(()=>Bv(async()=>{try{return await t(r)}catch(m){const g=m;switch(g.code){case Rm.code:throw new Rm(g);case Om.code:throw new Om(g);case km.code:throw new km(g,{method:r.method});case Dm.code:throw new Dm(g);case Qu.code:throw new Qu(g);case Mm.code:throw new Mm(g);case Lm.code:throw new Lm(g);case El.code:throw new El(g);case df.code:throw new df(g);case Nu.code:throw new Nu(g,{method:r.method});case hf.code:throw new hf(g);case Um.code:throw new Um(g);case bn.code:throw new bn(g);case Fm.code:throw new Fm(g);case $m.code:throw new $m(g);case Bm.code:throw new Bm(g);case jm.code:throw new jm(g);case da.code:throw new da(g);case 5e3:throw new bn(g);default:throw m instanceof be?m:new F$(g)}}},{delay:({count:m,error:g})=>{var w;if(g&&g instanceof pm){const E=(w=g==null?void 0:g.headers)==null?void 0:w.get("Retry-After");if(E!=null&&E.match(/\d/))return Number.parseInt(E)*1e3}return~~(1<<m)*o},retryCount:a,shouldRetry:({error:m})=>bV(m)}),{enabled:i,id:h})}}function bV(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===hf.code||t.code===Qu.code:t instanceof pm&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function nS(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function oO(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n?a.abort():s(e)},r)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function EV(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Ax=EV();function _V(t,e={}){return{async request(r){var f;const{body:n,onRequest:i=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=r,a={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:u,method:l,signal:h}=a;try{const m=await oO(async({signal:w})=>{const E={...a,body:Array.isArray(n)?Bs(n.map(F=>({jsonrpc:"2.0",id:F.id??Ax.take(),...F}))):Bs({jsonrpc:"2.0",id:n.id??Ax.take(),...n}),headers:{"Content-Type":"application/json",...u},method:l||"POST",signal:h||(o>0?w:null)},C=new Request(t,E),N=await(i==null?void 0:i(C,E))??{...E,url:t};return await fetch(N.url??t,N)},{errorInstance:new cx({body:n,url:t}),timeout:o,signal:!0});s&&await s(m);let g;if((f=m.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))g=await m.json();else{g=await m.text();try{g=JSON.parse(g||"{}")}catch(w){if(m.ok)throw w;g={error:g}}}if(!m.ok)throw new pm({body:n,details:Bs(g.error)||m.statusText,headers:m.headers,status:m.status,url:t});return g}catch(m){throw m instanceof pm||m instanceof cx?m:new pm({body:n,cause:m,url:t})}}}}class AV extends be{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function UA(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new AV({value:t});let[r,n="0"]=t.split(".");const i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),e===0)Math.round(+`.${n}`)===1&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>e){const[s,o,a]=[n.slice(0,e-1),n.slice(e-1,e),n.slice(e)],u=Math.round(+`${o}.${a}`);u>9?n=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):n=`${s}${u}`,n.length>e&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,e)}else n=n.padEnd(e,"0");return BigInt(`${i?"-":""}${r}${n}`)}const yE=new Map,Cx=new Map;let CV=0;function jv(t,e,r){const n=++CV,i=()=>yE.get(t)||[],s=()=>{const h=i();yE.set(t,h.filter(f=>f.id!==n))},o=()=>{const h=i();if(!h.some(m=>m.id===n))return;const f=Cx.get(t);h.length===1&&f&&f(),s()},a=i();if(yE.set(t,[...a,{id:n,fns:e}]),a&&a.length>0)return o;const u={};for(const h in e)u[h]=(...f)=>{var g,w;const m=i();if(m.length!==0)for(const E of m)(w=(g=E.fns)[h])==null||w.call(g,...f)};const l=r(u);return typeof l=="function"&&Cx.set(t,l),o}function aO(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const u=await(r==null?void 0:r(a))??n;await $v(u);const l=async()=>{i&&(await t({unpoll:s}),await $v(n),l())};l()})(),s}function SV(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let u;return a?(()=>{const f=Bs(["watchBlockNumber",t.uid,e,r,o]);return jv(f,{onBlockNumber:n,onError:i},m=>aO(async()=>{var g;try{const w=await mr(t,cV,"getBlockNumber")({cacheTime:0});if(u){if(w===u)return;if(w-u>1&&r)for(let E=u+1n;E<w;E++)m.onBlockNumber(E,u),u=E}(!u||w>u)&&(m.onBlockNumber(w,u),u=w)}catch(w){(g=m.onError)==null||g.call(m,w)}},{emitOnBegin:e,interval:o}))})():(()=>{const f=Bs(["watchBlockNumber",t.uid,e,r]);return jv(f,{onBlockNumber:n,onError:i},m=>{let g=!0,w=()=>g=!1;return(async()=>{try{const E=(()=>{if(t.transport.type==="fallback"){const N=t.transport.transports.find(D=>D.config.type==="webSocket");return N?N.value:t.transport}return t.transport})(),{unsubscribe:C}=await E.subscribe({params:["newHeads"],onData(N){var F;if(!g)return;const D=uf((F=N.result)==null?void 0:F.number);m.onBlockNumber(D,u),u=D},onError(N){var D;(D=m.onError)==null||D.call(m,N)}});w=C,g||w()}catch(E){i==null||i(E)}})(),()=>w()})})()}async function IV(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function TV(t,{batch:e=!0,onError:r,onTransactions:n,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket")?(()=>{const l=Bs(["watchPendingTransactions",t.uid,e,s]);return jv(l,{onTransactions:n,onError:r},h=>{let f;const m=aO(async()=>{var g;try{if(!f)try{f=await mr(t,rV,"createPendingTransactionFilter")({});return}catch(E){throw m(),E}const w=await mr(t,pV,"getFilterChanges")({filter:f});if(w.length===0)return;if(e)h.onTransactions(w);else for(const E of w)h.onTransactions([E])}catch(w){(g=h.onError)==null||g.call(h,w)}},{emitOnBegin:!0,interval:s});return async()=>{f&&await mr(t,IV,"uninstallFilter")({filter:f}),m()}})})():(()=>{let l=!0,h=()=>l=!1;return(async()=>{try{const{unsubscribe:f}=await t.transport.subscribe({params:["newPendingTransactions"],onData(m){if(!l)return;const g=m.result;n([g])},onError(m){r==null||r(m)}});h=f,l||h()}catch(f){r==null||r(f)}})(),()=>h()})()}async function xV(t,{confirmations:e=1,hash:r,onReplaced:n,pollingInterval:i=t.pollingInterval,retryCount:s=6,retryDelay:o=({count:u})=>~~(1<<u)*200,timeout:a=18e4}){const u=Bs(["waitForTransactionReceipt",t.uid,r]);let l,h,f,m=!1;const{promise:g,resolve:w,reject:E}=eO(),C=a?setTimeout(()=>E(new M$({hash:r})),a):void 0,N=jv(u,{onReplaced:n,resolve:w,reject:E},D=>{const F=mr(t,SV,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(V){const q=U=>{clearTimeout(C),F(),U(),N()};let j=V;if(!m)try{if(f){if(e>1&&(!f.blockNumber||j-f.blockNumber+1n<e))return;q(()=>D.resolve(f));return}if(l||(m=!0,await Bv(async()=>{l=await mr(t,rS,"getTransaction")({hash:r}),l.blockNumber&&(j=l.blockNumber)},{delay:o,retryCount:s}),m=!1),f=await mr(t,_x,"getTransactionReceipt")({hash:r}),e>1&&(!f.blockNumber||j-f.blockNumber+1n<e))return;q(()=>D.resolve(f))}catch(U){if(U instanceof y8||U instanceof v8){if(!l){m=!1;return}try{h=l,m=!0;const $=await Bv(()=>mr(t,Vm,"getBlock")({blockNumber:j,includeTransactions:!0}),{delay:o,retryCount:s,shouldRetry:({error:x})=>x instanceof b8});m=!1;const k=$.transactions.find(({from:x,nonce:v})=>x===h.from&&v===h.nonce);if(!k||(f=await mr(t,_x,"getTransactionReceipt")({hash:k.hash}),e>1&&(!f.blockNumber||j-f.blockNumber+1n<e)))return;let W="replaced";k.to===h.to&&k.value===h.value&&k.input===h.input?W="repriced":k.from===k.to&&k.value===0n&&(W="cancelled"),q(()=>{var x;(x=D.onReplaced)==null||x.call(D,{reason:W,replacedTransaction:h,transaction:k,transactionReceipt:f}),D.resolve(f)})}catch($){q(()=>D.reject($))}}else q(()=>D.reject(U))}}})});return g}async function NV(t,{account:e=t.account,message:r}){if(!e)throw new UC({docsPath:"/docs/actions/wallet/signMessage"});const n=va(e);if(n.signMessage)return n.signMessage({message:r});const i=typeof r=="string"?Lw(r):r.raw instanceof Uint8Array?sc(r.raw):r.raw;return t.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}async function PV(t,e){const{abi:r,account:n=t.account,address:i,args:s,dataSuffix:o,functionName:a,...u}=e;if(typeof n>"u")throw new UC({docsPath:"/docs/contract/writeContract"});const l=n?va(n):null,h=Ff({abi:r,args:s,functionName:a});try{return await mr(t,O8,"sendTransaction")({data:`${h}${o?o.replace("0x",""):""}`,to:i,account:l,...u})}catch(f){throw Fv(f,{abi:r,address:i,args:s,docsPath:"/docs/contract/writeContract",functionName:a,sender:l==null?void 0:l.address})}}function yi(t,e,r){const n=t[e.name];if(typeof n=="function")return n;const i=t[r];return typeof i=="function"?i:s=>e(t,s)}const cv="2.16.7",RV=()=>`@wagmi/core@${cv}`;var cO=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Vv,lO;let fc=class FA extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return RV()}constructor(e,r={}){var s;super(),Vv.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const n=r.cause instanceof FA?r.cause.details:(s=r.cause)!=null&&s.message?r.cause.message:r.details,i=r.cause instanceof FA&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}walk(e){return cO(this,Vv,"m",lO).call(this,this,e)}};Vv=new WeakSet,lO=function t(e,r){return r!=null&&r(e)?e:e.cause?cO(this,Vv,"m",t).call(this,e.cause,r):e};class zm extends fc{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class OV extends fc{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class kV extends fc{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class DV extends fc{constructor({address:e,connector:r}){super(`Account "${e}" not found for connector "${r.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class MV extends fc{constructor({connectionChainId:e,connectorChainId:r}){super(`The current chain of the connector (id: ${r}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class LV extends fc{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function Sx(t,e){var n;let r;if(typeof e.connector=="function"?r=t._internal.connectors.setup(e.connector):r=e.connector,r.uid===t.state.current)throw new OV;try{t.setState(u=>({...u,status:"connecting"})),r.emitter.emit("message",{type:"connecting"});const{connector:i,...s}=e,o=await r.connect(s),a=o.accounts;return r.emitter.off("connect",t._internal.events.connect),r.emitter.on("change",t._internal.events.change),r.emitter.on("disconnect",t._internal.events.disconnect),await((n=t.storage)==null?void 0:n.setItem("recentConnectorId",r.id)),t.setState(u=>({...u,connections:new Map(u.connections).set(r.uid,{accounts:a,chainId:o.chainId,connector:r}),current:r.uid,status:"connected"})),{accounts:a,chainId:o.chainId}}catch(i){throw t.setState(s=>({...s,status:s.current?"connected":"disconnected"})),i}}const $A=256;let _y=$A,Ay;function uO(t=11){if(!Ay||_y+t>$A*2){Ay="",_y=0;for(let e=0;e<$A;e++)Ay+=(256+Math.random()*256|0).toString(16).substring(1)}return Ay.substring(_y,_y+++t)}function dO(t){const{batch:e,cacheTime:r=t.pollingInterval??4e3,ccipRead:n,key:i="base",name:s="Base Client",pollingInterval:o=4e3,type:a="base"}=t,u=t.chain,l=t.account?va(t.account):void 0,{config:h,request:f,value:m}=t.transport({chain:u,pollingInterval:o}),g={...h,...m},w={account:l,batch:e,cacheTime:r,ccipRead:n,chain:u,key:i,name:s,pollingInterval:o,request:f,transport:g,type:a,uid:uO()};function E(C){return N=>{const D=N(C);for(const V in w)delete D[V];const F={...C,...D};return Object.assign(F,{extend:E(F)})}}return Object.assign(w,{extend:E(w)})}function iS({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},u){const l=uO();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:wV(n,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:u}}function UV(t,e={}){const{key:r="custom",methods:n,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>iS({key:r,methods:n,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}function Ix(t,e={}){const{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:s=FV,retryCount:o,retryDelay:a}=e;return({chain:u,pollingInterval:l=4e3,timeout:h,...f})=>{let m=t,g=()=>{};const w=iS({key:r,name:n,async request({method:E,params:C}){let N;const D=async(F=0)=>{const V=m[F]({...f,chain:u,retryCount:0,timeout:h});try{const q=await V.request({method:E,params:C});return g({method:E,params:C,response:q,transport:V,status:"success"}),q}catch(q){if(g({error:q,method:E,params:C,transport:V,status:"error"}),s(q)||F===m.length-1||(N??(N=m.slice(F+1).some(j=>{const{include:U,exclude:$}=j({chain:u}).config.methods||{};return U?U.includes(E):$?!$.includes(E):!0})),!N))throw q;return D(F+1)}};return D()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:E=>g=E,transports:m.map(E=>E({chain:u,retryCount:0}))});if(i){const E=typeof i=="object"?i:{};$V({chain:u,interval:E.interval??l,onTransports:C=>m=C,ping:E.ping,sampleCount:E.sampleCount,timeout:E.timeout,transports:m,weights:E.weights})}return w}}function FV(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===df.code||t.code===bn.code||xu.nodeMessage.test(t.message)||t.code===5e3))}function $V({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:u=.7,latency:l=.3}=a,h=[],f=async()=>{const m=await Promise.all(o.map(async E=>{const C=E({chain:t,retryCount:0,timeout:s}),N=Date.now();let D,F;try{await(n?n({transport:C}):C.request({method:"net_listening"})),F=1}catch{F=0}finally{D=Date.now()}return{latency:D-N,success:F}}));h.push(m),h.length>i&&h.shift();const g=Math.max(...h.map(E=>Math.max(...E.map(({latency:C})=>C)))),w=o.map((E,C)=>{const N=h.map(j=>j[C].latency),F=1-N.reduce((j,U)=>j+U,0)/N.length/g,V=h.map(j=>j[C].success),q=V.reduce((j,U)=>j+U,0)/V.length;return q===0?[0,C]:[l*F+u*q,C]}).sort((E,C)=>C[0]-E[0]);r(w.map(([,E])=>o[E])),await $v(e),f()};f()}class BV extends be{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function vE(t,e={}){const{batch:r,fetchOptions:n,key:i="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:u,retryDelay:l,raw:h}=e;return({chain:f,retryCount:m,timeout:g})=>{const{batchSize:w=1e3,wait:E=0}=typeof r=="object"?r:{},C=e.retryCount??m,N=g??e.timeout??1e4,D=t||(f==null?void 0:f.rpcUrls.default.http[0]);if(!D)throw new BV;const F=_V(D,{fetchOptions:n,onRequest:a,onResponse:u,timeout:N});return iS({key:i,methods:s,name:o,async request({method:V,params:q}){const j={method:V,params:q},{schedule:U}=tO({id:D,wait:E,shouldSplitBatch(x){return x.length>w},fn:x=>F.request({body:x}),sort:(x,v)=>x.id-v.id}),$=async x=>r?U(x):[await F.request({body:x})],[{error:k,result:W}]=await $(j);if(h)return{error:k,result:W};if(k)throw new jC({body:j,error:k,url:D});return W},retryCount:C,retryDelay:l,timeout:N,type:"http"},{fetchOptions:n,url:D})}}async function Vg(t,e={}){let r;if(e.connector){const{connector:l}=e;if(t.state.status==="reconnecting"&&!l.getAccounts&&!l.getChainId)throw new LV({connector:l});const[h,f]=await Promise.all([l.getAccounts().catch(m=>{if(e.account===null)return[];throw m}),l.getChainId()]);r={accounts:h,chainId:f,connector:l}}else r=t.state.connections.get(t.state.current);if(!r)throw new kV;const n=e.chainId??r.chainId,i=await r.connector.getChainId();if(i!==r.chainId)throw new MV({connectionChainId:r.chainId,connectorChainId:i});const s=r.connector;if(s.getClient)return s.getClient({chainId:n});const o=va(e.account??r.accounts[0]);if(o&&(o.address=Tu(o.address)),e.account&&!r.accounts.some(l=>l.toLowerCase()===o.address.toLowerCase()))throw new DV({address:o.address,connector:s});const a=t.chains.find(l=>l.id===n),u=await r.connector.getProvider({chainId:n});return dO({account:o,chain:a,name:"Connector Client",transport:l=>UV(u)({...l,retryCount:0})})}async function jV(t,e={}){var i,s;let r;if(e.connector)r=e.connector;else{const{connections:o,current:a}=t.state,u=o.get(a);r=u==null?void 0:u.connector}const n=t.state.connections;r&&(await r.disconnect(),r.emitter.off("change",t._internal.events.change),r.emitter.off("disconnect",t._internal.events.disconnect),r.emitter.on("connect",t._internal.events.connect),n.delete(r.uid)),t.setState(o=>{if(n.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=n.values().next().value;return{...o,connections:new Map(n),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(i=t.state.connections.get(o))==null?void 0:i.connector;if(!a)return;await((s=t.storage)==null?void 0:s.setItem("recentConnectorId",a.id))}}async function hO(t,e){const{chainId:r,connector:n,...i}=e;let s;e.account?s=e.account:s=(await Vg(t,{account:e.account,chainId:r,connector:n})).account;const o=t.getClient({chainId:r});return yi(o,I8,"estimateGas")({...i,account:s})}function fO(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(R$[t])}function Hm(t){const e=t.state.current,r=t.state.connections.get(e),n=r==null?void 0:r.accounts,i=n==null?void 0:n[0],s=t.chains.find(a=>a.id===(r==null?void 0:r.chainId)),o=t.state.status;switch(o){case"connected":return{address:i,addresses:n,chain:s,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:i,addresses:n,chain:s,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:i,addresses:n,chain:s,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function VV(t,e){const{allowFailure:r=!0,chainId:n,contracts:i,...s}=e,o=t.getClient({chainId:n});return yi(o,yV,"multicall")({allowFailure:r,contracts:i,...s})}function qV(t,e){const{chainId:r,...n}=e,i=t.getClient({chainId:r});return yi(i,Ju,"readContract")(n)}async function zV(t,e){var a;const{allowFailure:r=!0,blockNumber:n,blockTag:i,...s}=e,o=e.contracts;try{const u={};for(const[m,g]of o.entries()){const w=g.chainId??t.state.chainId;u[w]||(u[w]=[]),(a=u[w])==null||a.push({contract:g,index:m})}const l=()=>Object.entries(u).map(([m,g])=>VV(t,{...s,allowFailure:r,blockNumber:n,blockTag:i,chainId:Number.parseInt(m),contracts:g.map(({contract:w})=>w)})),h=(await Promise.all(l())).flat(),f=Object.values(u).flatMap(m=>m.map(({index:g})=>g));return h.reduce((m,g,w)=>(m&&(m[f[w]]=g),m),[])}catch(u){if(u instanceof Z8)throw u;const l=()=>o.map(h=>qV(t,{...h,blockNumber:n,blockTag:i}));return r?(await Promise.allSettled(l())).map(h=>h.status==="fulfilled"?{result:h.value,status:"success"}:{error:h.reason,result:void 0,status:"failure"}):await Promise.all(l())}}async function HV(t,e){const{address:r,blockNumber:n,blockTag:i,chainId:s,token:o,unit:a="ether"}=e;if(o)try{return await Tx(t,{balanceAddress:r,chainId:s,symbolType:"string",tokenAddress:o})}catch(m){if(m.name==="ContractFunctionExecutionError"){const g=await Tx(t,{balanceAddress:r,chainId:s,symbolType:"bytes32",tokenAddress:o}),w=GR(Df(g.symbol,{dir:"right"}));return{...g,symbol:w}}throw m}const u=t.getClient({chainId:s}),h=await yi(u,S8,"getBalance")(n?{address:r,blockNumber:n}:{address:r,blockTag:i}),f=t.chains.find(m=>m.id===s)??u.chain;return{decimals:f.nativeCurrency.decimals,formatted:Mf(h,fO(a)),symbol:f.nativeCurrency.symbol,value:h}}async function Tx(t,e){const{balanceAddress:r,chainId:n,symbolType:i,tokenAddress:s,unit:o}=e,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]}],address:s},[u,l,h]=await zV(t,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[r],chainId:n},{...a,functionName:"decimals",chainId:n},{...a,functionName:"symbol",chainId:n}]}),f=Mf(u??"0",fO(o??l));return{decimals:l,formatted:f,symbol:h,value:u}}function xx(t){return t.state.chainId}function Wm(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let r,n;if(Array.isArray(t)&&Array.isArray(e)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Wm(t[n],e[n]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(s&&!Wm(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}let Cy=[];function oh(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||Wm(Cy,e)?Cy:(Cy=e,e)}function WV(t,e){const{chainId:r,...n}=e,i=t.getClient({chainId:r});return yi(i,$j,"getEnsAddress")(n)}function KV(t,e){const{chainId:r,...n}=e,i=t.getClient({chainId:r});return yi(i,Xj,"getEnsAvatar")(n)}function GV(t,e){const{chainId:r,...n}=e,i=t.getClient({chainId:r});return yi(i,eV,"getEnsName")(n)}function QV(t,e){const{chainId:r,...n}=e,i=t.getClient({chainId:r});return yi(i,rS,"getTransaction")(n)}async function YV(t,e){const{account:r,chainId:n,...i}=e,s=r??Hm(t).address,o=t.getClient({chainId:n});return yi(o,KC,"prepareTransactionRequest")({...i,...s?{account:s}:{}})}let wE=!1;async function pO(t,e={}){var l,h;if(wE)return[];wE=!0,t.setState(f=>({...f,status:f.current?"reconnecting":"connecting"}));const r=[];if((l=e.connectors)!=null&&l.length)for(const f of e.connectors){let m;typeof f=="function"?m=t._internal.connectors.setup(f):m=f,r.push(m)}else r.push(...t.connectors);let n;try{n=await((h=t.storage)==null?void 0:h.getItem("recentConnectorId"))}catch{}const i={};for(const[,f]of t.state.connections)i[f.connector.id]=1;n&&(i[n]=0);const s=Object.keys(i).length>0?[...r].sort((f,m)=>(i[f.id]??10)-(i[m.id]??10)):r;let o=!1;const a=[],u=[];for(const f of s){const m=await f.getProvider().catch(()=>{});if(!m||u.some(E=>E===m)||!await f.isAuthorized())continue;const w=await f.connect({isReconnecting:!0}).catch(()=>null);w&&(f.emitter.off("connect",t._internal.events.connect),f.emitter.on("change",t._internal.events.change),f.emitter.on("disconnect",t._internal.events.disconnect),t.setState(E=>{const C=new Map(o?E.connections:new Map).set(f.uid,{accounts:w.accounts,chainId:w.chainId,connector:f});return{...E,current:o?E.current:f.uid,connections:C}}),a.push({accounts:w.accounts,chainId:w.chainId,connector:f}),u.push(m),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(f=>({...f,status:"connected"})):t.setState(f=>({...f,connections:new Map,current:null,status:"disconnected"}))),wE=!1,a}async function mO(t,e){const{account:r,chainId:n,connector:i,...s}=e;let o;return typeof r=="object"&&(r==null?void 0:r.type)==="local"?o=t.getClient({chainId:n}):o=await Vg(t,{account:r??void 0,chainId:n,connector:i}),await yi(o,O8,"sendTransaction")({...s,...r?{account:r}:{},chain:n?{id:n}:null,gas:s.gas??void 0})}async function JV(t,e){const{account:r,connector:n,...i}=e;let s;return typeof r=="object"&&r.type==="local"?s=t.getClient():s=await Vg(t,{account:r,connector:n}),yi(s,NV,"signMessage")({...i,...r?{account:r}:{}})}class el extends fc{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class ZV extends fc{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function XV(t,e){var o;const{addEthereumChainParameter:r,chainId:n}=e,i=t.state.connections.get(((o=e.connector)==null?void 0:o.uid)??t.state.current);if(i){const a=i.connector;if(!a.switchChain)throw new ZV({connector:a});return await a.switchChain({addEthereumChainParameter:r,chainId:n})}const s=t.chains.find(a=>a.id===n);if(!s)throw new zm;return t.setState(a=>({...a,chainId:n})),s}function gO(t,e){const{onChange:r}=e;return t.subscribe(()=>Hm(t),r,{equalityFn(n,i){const{connector:s,...o}=n,{connector:a,...u}=i;return Wm(o,u)&&(s==null?void 0:s.id)===(a==null?void 0:a.id)&&(s==null?void 0:s.uid)===(a==null?void 0:a.uid)}})}function eq(t,e){const{onChange:r}=e;return t.subscribe(n=>n.chainId,r)}function tq(t,e){const{onChange:r}=e;return t._internal.connectors.subscribe((n,i)=>{r(Object.values(n),i)})}function rq(t,e){const{syncConnectedChain:r=t._internal.syncConnectedChain,...n}=e;let i;const s=u=>{i&&i();const l=t.getClient({chainId:u});return i=yi(l,TV,"watchPendingTransactions")(n),i},o=s(e.chainId);let a;return r&&!e.chainId&&(a=t.subscribe(({chainId:u})=>u,async u=>s(u))),()=>{o==null||o(),a==null||a()}}async function nq(t,e){const{chainId:r,timeout:n=0,...i}=e,s=t.getClient({chainId:r}),a=await yi(s,xV,"waitForTransactionReceipt")({...i,timeout:n});if(a.status==="reverted"){const l=await yi(s,rS,"getTransaction")({hash:a.transactionHash}),f=await yi(s,rO,"call")({...l,data:l.input,gasPrice:l.type!=="eip1559"?l.gasPrice:void 0,maxFeePerGas:l.type==="eip1559"?l.maxFeePerGas:void 0,maxPriorityFeePerGas:l.type==="eip1559"?l.maxPriorityFeePerGas:void 0}),m=f!=null&&f.data?GR(`0x${f.data.substring(138)}`):"unknown reason";throw new Error(m)}return{...a,chainId:s.chain.id}}async function iq(t,e){const{account:r,chainId:n,connector:i,...s}=e;let o;return typeof r=="object"&&(r==null?void 0:r.type)==="local"?o=t.getClient({chainId:n}):o=await Vg(t,{account:r??void 0,chainId:n,connector:i}),await yi(o,PV,"writeContract")({...s,...r?{account:r}:{},chain:n?{id:n}:null})}function R0e(t){return t}Hw.type="injected";function Hw(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:r}=t;function n(){const u=t.target;if(typeof u=="function"){const l=u();if(l)return l}return typeof u=="object"?u:typeof u=="string"?{...sq[u]??{id:u,name:`${u[0].toUpperCase()}${u.slice(1)}`,provider:`is${u[0].toUpperCase()}${u.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let i,s,o,a;return u=>({get icon(){return n().icon},get id(){return n().id},get name(){return n().name},get supportsSimulation(){return!0},type:Hw.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),i||(i=this.onAccountsChanged.bind(this),l.on("accountsChanged",i)))},async connect({chainId:l,isReconnecting:h}={}){var g,w,E,C,N,D;const f=await this.getProvider();if(!f)throw new el;let m=[];if(h)m=await this.getAccounts().catch(()=>[]);else if(e)try{m=(C=(E=(w=(g=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:g.caveats)==null?void 0:w[0])==null?void 0:E.value)==null?void 0:C.map(V=>Tu(V)),m.length>0&&(m=await this.getAccounts())}catch(F){const V=F;if(V.code===bn.code)throw new bn(V);if(V.code===El.code)throw V}try{!(m!=null&&m.length)&&!h&&(m=(await f.request({method:"eth_requestAccounts"})).map(q=>Tu(q))),o&&(f.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),f.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),f.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),f.on("disconnect",a));let F=await this.getChainId();if(l&&F!==l){const V=await this.switchChain({chainId:l}).catch(q=>{if(q.code===bn.code)throw q;return{id:F}});F=(V==null?void 0:V.id)??F}return e&&await((N=u.storage)==null?void 0:N.removeItem(`${this.id}.disconnected`)),t.target||await((D=u.storage)==null?void 0:D.setItem("injected.connected",!0)),{accounts:m,chainId:F}}catch(F){const V=F;throw V.code===bn.code?new bn(V):V.code===El.code?new El(V):V}},async disconnect(){var h,f;const l=await this.getProvider();if(!l)throw new el;s&&(l.removeListener("chainChanged",s),s=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await oO(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((h=u.storage)==null?void 0:h.setItem(`${this.id}.disconnected`,!0)),t.target||await((f=u.storage)==null?void 0:f.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new el;return(await l.request({method:"eth_accounts"})).map(f=>Tu(f))},async getChainId(){const l=await this.getProvider();if(!l)throw new el;const h=await l.request({method:"eth_chainId"});return Number(h)},async getProvider(){if(typeof window>"u")return;let l;const h=n();return typeof h.provider=="function"?l=h.provider(window):typeof h.provider=="string"?l=lv(window,h.provider):l=h.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,h;try{if(e&&await((l=u.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((h=u.storage)==null?void 0:h.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(r!==void 0&&r!==!1){const w=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",w),!!await this.getProvider()),E=typeof r=="number"?r:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(N=>window.addEventListener("ethereum#initialized",()=>N(w()),{once:!0}))]:[],new Promise(N=>setTimeout(()=>N(w()),E))]))return!0}throw new el}return!!(await Bv(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:h}){var w,E,C,N;const f=await this.getProvider();if(!f)throw new el;const m=u.chains.find(D=>D.id===h);if(!m)throw new da(new zm);const g=new Promise(D=>{const F=V=>{"chainId"in V&&V.chainId===h&&(u.emitter.off("change",F),D())};u.emitter.on("change",F)});try{return await Promise.all([f.request({method:"wallet_switchEthereumChain",params:[{chainId:Et(h)}]}).then(async()=>{await this.getChainId()===h&&u.emitter.emit("change",{chainId:h})}),g]),m}catch(D){const F=D;if(F.code===4902||((E=(w=F==null?void 0:F.data)==null?void 0:w.originalError)==null?void 0:E.code)===4902)try{const{default:V,...q}=m.blockExplorers??{};let j;l!=null&&l.blockExplorerUrls?j=l.blockExplorerUrls:V&&(j=[V.url,...Object.values(q).map(k=>k.url)]);let U;(C=l==null?void 0:l.rpcUrls)!=null&&C.length?U=l.rpcUrls:U=[((N=m.rpcUrls.default)==null?void 0:N.http[0])??""];const $={blockExplorerUrls:j,chainId:Et(h),chainName:(l==null?void 0:l.chainName)??m.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??m.nativeCurrency,rpcUrls:U};return await Promise.all([f.request({method:"wallet_addEthereumChain",params:[$]}).then(async()=>{if(await this.getChainId()===h)u.emitter.emit("change",{chainId:h});else throw new bn(new Error("User rejected switch after adding network."))}),g]),m}catch(V){throw new bn(V)}throw F.code===bn.code?new bn(F):new da(F)}},async onAccountsChanged(l){var h;if(l.length===0)this.onDisconnect();else if(u.emitter.listenerCount("connect")){const f=(await this.getChainId()).toString();this.onConnect({chainId:f}),e&&await((h=u.storage)==null?void 0:h.removeItem(`${this.id}.disconnected`))}else u.emitter.emit("change",{accounts:l.map(f=>Tu(f))})},onChainChanged(l){const h=Number(l);u.emitter.emit("change",{chainId:h})},async onConnect(l){const h=await this.getAccounts();if(h.length===0)return;const f=Number(l.chainId);u.emitter.emit("connect",{accounts:h,chainId:f});const m=await this.getProvider();m&&(o&&(m.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),m.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),m.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),m.on("disconnect",a)))},async onDisconnect(l){const h=await this.getProvider();l&&l.code===1013&&h&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),h&&(s&&(h.removeListener("chainChanged",s),s=void 0),a&&(h.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),h.on("connect",o))))}})}const sq={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:lv(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return lv(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const r=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const n of r)if(e[n])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,r;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(r=t.phantom)==null?void 0:r.ethereum:lv(t,"isPhantom")}}};function lv(t,e){function r(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const n=t.ethereum;if(n!=null&&n.providers)return n.providers.find(i=>r(i));if(n&&r(n))return n}function oq(t){if(typeof window>"u")return;const e=r=>t(r.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function aq(){const t=new Set;let e=[];const r=()=>oq(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let n=r();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),n==null||n()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),n==null||n(),n=r()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}const cq=t=>(e,r,n)=>{const i=n.subscribe;return n.subscribe=(o,a,u)=>{let l=o;if(a){const h=(u==null?void 0:u.equalityFn)||Object.is;let f=o(n.getState());l=m=>{const g=o(m);if(!h(f,g)){const w=f;a(f=g,w)}},u!=null&&u.fireImmediately&&a(f,f)}return i(l)},t(e,r,n)},lq=cq;function uq(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var s;const o=u=>u===null?null:JSON.parse(u,void 0),a=(s=r.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const BA=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return BA(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return BA(n)(r)}}}},dq=(t,e)=>(r,n,i)=>{let s={storage:uq(()=>localStorage),partialize:E=>E,version:0,merge:(E,C)=>({...C,...E}),...e},o=!1;const a=new Set,u=new Set;let l=s.storage;if(!l)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...E)},n,i);const h=()=>{const E=s.partialize({...n()});return l.setItem(s.name,{state:E,version:s.version})},f=i.setState;i.setState=(E,C)=>{f(E,C),h()};const m=t((...E)=>{r(...E),h()},n,i);i.getInitialState=()=>m;let g;const w=()=>{var E,C;if(!l)return;o=!1,a.forEach(D=>{var F;return D((F=n())!=null?F:m)});const N=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(E=n())!=null?E:m))||void 0;return BA(l.getItem.bind(l))(s.name).then(D=>{if(D)if(typeof D.version=="number"&&D.version!==s.version){if(s.migrate)return[!0,s.migrate(D.state,D.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,D.state];return[!1,void 0]}).then(D=>{var F;const[V,q]=D;if(g=s.merge(q,(F=n())!=null?F:m),r(g,!0),V)return h()}).then(()=>{N==null||N(g,void 0),g=n(),o=!0,u.forEach(D=>D(g))}).catch(D=>{N==null||N(void 0,D)})};return i.persist={setOptions:E=>{s={...s,...E},E.storage&&(l=E.storage)},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:E=>(a.add(E),()=>{a.delete(E)}),onFinishHydration:E=>(u.add(E),()=>{u.delete(E)})},s.skipHydration||w(),g||m},hq=dq,Nx=t=>{let e;const r=new Set,n=(l,h)=>{const f=typeof l=="function"?l(e):l;if(!Object.is(f,e)){const m=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(g=>g(e,m))}},i=()=>e,a={setState:n,getState:i,getInitialState:()=>u,subscribe:l=>(r.add(l),()=>r.delete(l))},u=e=t(n,i,a);return a},bE=t=>t?Nx(t):Nx;var EE={exports:{}},Px;function fq(){return Px||(Px=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,l,h){this.fn=u,this.context=l,this.once=h||!1}function s(u,l,h,f,m){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,f||u,m),w=r?r+l:l;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],g]:u._events[w].push(g):(u._events[w]=g,u._eventsCount++),u}function o(u,l){--u._eventsCount===0?u._events=new n:delete u._events[l]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],h,f;if(this._eventsCount===0)return l;for(f in h=this._events)e.call(h,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(h)):l},a.prototype.listeners=function(l){var h=r?r+l:l,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,w=new Array(g);m<g;m++)w[m]=f[m].fn;return w},a.prototype.listenerCount=function(l){var h=r?r+l:l,f=this._events[h];return f?f.fn?1:f.length:0},a.prototype.emit=function(l,h,f,m,g,w){var E=r?r+l:l;if(!this._events[E])return!1;var C=this._events[E],N=arguments.length,D,F;if(C.fn){switch(C.once&&this.removeListener(l,C.fn,void 0,!0),N){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,h),!0;case 3:return C.fn.call(C.context,h,f),!0;case 4:return C.fn.call(C.context,h,f,m),!0;case 5:return C.fn.call(C.context,h,f,m,g),!0;case 6:return C.fn.call(C.context,h,f,m,g,w),!0}for(F=1,D=new Array(N-1);F<N;F++)D[F-1]=arguments[F];C.fn.apply(C.context,D)}else{var V=C.length,q;for(F=0;F<V;F++)switch(C[F].once&&this.removeListener(l,C[F].fn,void 0,!0),N){case 1:C[F].fn.call(C[F].context);break;case 2:C[F].fn.call(C[F].context,h);break;case 3:C[F].fn.call(C[F].context,h,f);break;case 4:C[F].fn.call(C[F].context,h,f,m);break;default:if(!D)for(q=1,D=new Array(N-1);q<N;q++)D[q-1]=arguments[q];C[F].fn.apply(C[F].context,D)}}return!0},a.prototype.on=function(l,h,f){return s(this,l,h,f,!1)},a.prototype.once=function(l,h,f){return s(this,l,h,f,!0)},a.prototype.removeListener=function(l,h,f,m){var g=r?r+l:l;if(!this._events[g])return this;if(!h)return o(this,g),this;var w=this._events[g];if(w.fn)w.fn===h&&(!m||w.once)&&(!f||w.context===f)&&o(this,g);else{for(var E=0,C=[],N=w.length;E<N;E++)(w[E].fn!==h||m&&!w[E].once||f&&w[E].context!==f)&&C.push(w[E]);C.length?this._events[g]=C.length===1?C[0]:C:o(this,g)}return this},a.prototype.removeAllListeners=function(l){var h;return l?(h=r?r+l:l,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a}(EE)),EE.exports}var pq=fq();const mq=pd(pq);class gq{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new mq})}on(e,r){this._emitter.on(e,r)}once(e,r){this._emitter.once(e,r)}off(e,r){this._emitter.off(e,r)}emit(e,...r){const n=r[0];this._emitter.emit(e,{uid:this.uid,...n})}listenerCount(e){return this._emitter.listenerCount(e)}}function yq(t){return new gq(t)}function vq(t,e){return JSON.parse(t,(r,n)=>{let i=n;return(i==null?void 0:i.__type)==="bigint"&&(i=BigInt(i.value)),(i==null?void 0:i.__type)==="Map"&&(i=new Map(i.value)),(e==null?void 0:e(r,i))??i})}function Rx(t,e){return t.slice(0,e).join(".")||"."}function Ox(t,e){const{length:r}=t;for(let n=0;n<r;++n)if(t[n]===e)return n+1;return 0}function wq(t,e){const r=typeof t=="function",n=typeof e=="function",i=[],s=[];return function(a,u){if(typeof u=="object")if(i.length){const l=Ox(i,this);l===0?i[i.length]=this:(i.splice(l),s.splice(l)),s[s.length]=a;const h=Ox(i,u);if(h!==0)return n?e.call(this,a,u,Rx(s,h)):`[ref=${Rx(s,h)}]`}else i[0]=u,s[0]=a;return r?t.call(this,a,u):u}}function bq(t,e,r,n){return JSON.stringify(t,wq((i,s)=>{let o=s;return typeof o=="bigint"&&(o={__type:"bigint",value:s.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(s.entries())}),(e==null?void 0:e(i,o))??o},n),r??void 0)}function Eq(t){const{deserialize:e=vq,key:r="wagmi",serialize:n=bq,storage:i=yO}=t;function s(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...i,key:r,async getItem(o,a){const u=i.getItem(`${r}.${o}`),l=await s(u);return l?e(l)??null:a??null},async setItem(o,a){const u=`${r}.${o}`;a===null?await s(i.removeItem(u)):await s(i.setItem(u,n(a)))},async removeItem(o){await s(i.removeItem(`${r}.${o}`))}}}const yO={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function _q(){const t=typeof window<"u"&&window.localStorage?window.localStorage:yO;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,r){try{t.setItem(e,r)}catch{}}}}const jA=256;let Sy=jA,Iy;function Aq(t=11){if(!Iy||Sy+t>jA*2){Iy="",Sy=0;for(let e=0;e<jA;e++)Iy+=(256+Math.random()*256|0).toString(16).substring(1)}return Iy.substring(Sy,Sy+++t)}function Cq(t){const{multiInjectedProviderDiscovery:e=!0,storage:r=Eq({storage:_q()}),syncConnectedChain:n=!0,ssr:i=!1,...s}=t,o=typeof window<"u"&&e?aq():void 0,a=bE(()=>s.chains),u=bE(()=>{const q=[],j=new Set;for(const U of s.connectors??[]){const $=l(U);if(q.push($),!i&&$.rdns){const k=typeof $.rdns=="string"?[$.rdns]:$.rdns;for(const W of k)j.add(W)}}if(!i&&o){const U=o.getProviders();for(const $ of U)j.has($.info.rdns)||q.push(l(h($)))}return q});function l(q){var $;const j=yq(Aq()),U={...q({emitter:j,chains:a.getState(),storage:r,transports:s.transports}),emitter:j,uid:j.uid};return j.on("connect",F),($=U.setup)==null||$.call(U),U}function h(q){const{info:j}=q,U=q.provider;return Hw({target:{...j,id:j.rdns,provider:U}})}const f=new Map;function m(q={}){const j=q.chainId??C.getState().chainId,U=a.getState().find(k=>k.id===j);if(q.chainId&&!U)throw new zm;{const k=f.get(C.getState().chainId);if(k&&!U)return k;if(!U)throw new zm}{const k=f.get(j);if(k)return k}let $;if(s.client)$=s.client({chain:U});else{const k=U.id,W=a.getState().map(_=>_.id),x={},v=Object.entries(s);for(const[_,T]of v)if(!(_==="chains"||_==="client"||_==="connectors"||_==="transports"))if(typeof T=="object")if(k in T)x[_]=T[k];else{if(W.some(P=>P in T))continue;x[_]=T}else x[_]=T;$=dO({...x,chain:U,batch:x.batch??{multicall:!0},transport:_=>s.transports[k]({..._,connectors:u})})}return f.set(j,$),$}function g(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let w;const E="0.0.0-canary-";cv.startsWith(E)?w=Number.parseInt(cv.replace(E,"")):w=Number.parseInt(cv.split(".")[0]??"0");const C=bE(lq(r?hq(g,{migrate(q,j){if(j===w)return q;const U=g(),$=N(q,U.chainId);return{...U,chainId:$}},name:"store",partialize(q){return{connections:{__type:"Map",value:Array.from(q.connections.entries()).map(([j,U])=>{const{id:$,name:k,type:W,uid:x}=U.connector;return[j,{...U,connector:{id:$,name:k,type:W,uid:x}}]})},chainId:q.chainId,current:q.current}},merge(q,j){typeof q=="object"&&q&&"status"in q&&delete q.status;const U=N(q,j.chainId);return{...j,...q,chainId:U}},skipHydration:i,storage:r,version:w}):g));C.setState(g());function N(q,j){return q&&typeof q=="object"&&"chainId"in q&&typeof q.chainId=="number"&&a.getState().some(U=>U.id===q.chainId)?q.chainId:j}n&&C.subscribe(({connections:q,current:j})=>{var U;return j?(U=q.get(j))==null?void 0:U.chainId:void 0},q=>{if(a.getState().some(U=>U.id===q))return C.setState(U=>({...U,chainId:q??U.chainId}))}),o==null||o.subscribe(q=>{const j=new Set,U=new Set;for(const k of u.getState())if(j.add(k.id),k.rdns){const W=typeof k.rdns=="string"?[k.rdns]:k.rdns;for(const x of W)U.add(x)}const $=[];for(const k of q){if(U.has(k.info.rdns))continue;const W=l(h(k));j.has(W.id)||$.push(W)}r&&!C.persist.hasHydrated()||u.setState(k=>[...k,...$],!0)});function D(q){C.setState(j=>{const U=j.connections.get(q.uid);return U?{...j,connections:new Map(j.connections).set(q.uid,{accounts:q.accounts??U.accounts,chainId:q.chainId??U.chainId,connector:U.connector})}:j})}function F(q){C.getState().status==="connecting"||C.getState().status==="reconnecting"||C.setState(j=>{const U=u.getState().find($=>$.uid===q.uid);return U?(U.emitter.listenerCount("connect")&&U.emitter.off("connect",D),U.emitter.listenerCount("change")||U.emitter.on("change",D),U.emitter.listenerCount("disconnect")||U.emitter.on("disconnect",V),{...j,connections:new Map(j.connections).set(q.uid,{accounts:q.accounts,chainId:q.chainId,connector:U}),current:q.uid,status:"connected"}):j})}function V(q){C.setState(j=>{const U=j.connections.get(q.uid);if(U){const k=U.connector;k.emitter.listenerCount("change")&&U.connector.emitter.off("change",D),k.emitter.listenerCount("disconnect")&&U.connector.emitter.off("disconnect",V),k.emitter.listenerCount("connect")||U.connector.emitter.on("connect",F)}if(j.connections.delete(q.uid),j.connections.size===0)return{...j,connections:new Map,current:null,status:"disconnected"};const $=j.connections.values().next().value;return{...j,connections:new Map(j.connections),current:$.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return u.getState()},storage:r,getClient:m,get state(){return C.getState()},setState(q){let j;typeof q=="function"?j=q(C.getState()):j=q;const U=g();typeof j!="object"&&(j=U),Object.keys(U).some(k=>!(k in j))&&(j=U),C.setState(j,!0)},subscribe(q,j,U){return C.subscribe(q,j,U?{...U,fireImmediately:U.emitImmediately}:void 0)},_internal:{mipd:o,store:C,ssr:!!i,syncConnectedChain:n,transports:s.transports,chains:{setState(q){const j=typeof q=="function"?q(a.getState()):q;if(j.length!==0)return a.setState(j,!0)},subscribe(q){return a.subscribe(q)}},connectors:{providerDetailToConnector:h,setup:l,setState(q){return u.setState(typeof q=="function"?q(u.getState()):q,!0)},subscribe(q){return u.subscribe(q)}},events:{change:D,connect:F,disconnect:V}}}}function Sq(t,e){const{initialState:r,reconnectOnMount:n}=e;return r&&!t._internal.store.persist.hasHydrated()&&t.setState({...r,chainId:t.chains.some(i=>i.id===r.chainId)?r.chainId:t.chains[0].id,connections:n?r.connections:new Map,status:n?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{var u;const s=new Set;for(const l of i??[])if(l.rdns){const h=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const f of h)s.add(f)}const o=[],a=((u=t._internal.mipd)==null?void 0:u.getProviders())??[];for(const l of a){if(s.has(l.info.rdns))continue;const h=t._internal.connectors.providerDetailToConnector(l),f=t._internal.connectors.setup(h);o.push(f)}return[...i,...o]})),n?pO(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function Iq(t){const{children:e,config:r,initialState:n,reconnectOnMount:i=!0}=t,{onMount:s}=Sq(r,{initialState:n,reconnectOnMount:i});r._internal.ssr||s();const o=se.useRef(!0);return se.useEffect(()=>{if(o.current&&r._internal.ssr)return s(),()=>{o.current=!1}},[]),e}const vO=se.createContext(void 0);function Tq(t){const{children:e,config:r}=t,n={value:r};return se.createElement(Iq,t,se.createElement(vO.Provider,n,e))}const xq="2.14.16",Nq=()=>`wagmi@${xq}`;let Pq=class extends fc{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Nq()}};class Rq extends Pq{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function $f(t={}){const e=t.config??se.useContext(vO);if(!e)throw new Rq;return e}var _E={exports:{}},AE={},CE={exports:{}},SE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx;function Oq(){if(kx)return SE;kx=1;var t=zl();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(f,m){var g=m(),w=n({inst:{value:g,getSnapshot:m}}),E=w[0].inst,C=w[1];return s(function(){E.value=g,E.getSnapshot=m,u(E)&&C({inst:E})},[f,g,m]),i(function(){return u(E)&&C({inst:E}),f(function(){u(E)&&C({inst:E})})},[f]),o(g),g}function u(f){var m=f.getSnapshot;f=f.value;try{var g=m();return!r(f,g)}catch{return!0}}function l(f,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return SE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,SE}var Dx;function kq(){return Dx||(Dx=1,CE.exports=Oq()),CE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx;function Dq(){if(Mx)return AE;Mx=1;var t=zl(),e=kq();function r(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,u=t.useDebugValue;return AE.useSyncExternalStoreWithSelector=function(l,h,f,m,g){var w=s(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=a(function(){function N(j){if(!D){if(D=!0,F=j,j=m(j),g!==void 0&&E.hasValue){var U=E.value;if(g(U,j))return V=U}return V=j}if(U=V,n(F,j))return U;var $=m(j);return g!==void 0&&g(U,$)?(F=j,U):(F=j,V=$)}var D=!1,F,V,q=f===void 0?null:f;return[function(){return N(h())},q===null?void 0:function(){return N(q())}]},[h,f,m,g]);var C=i(l,w[0],w[1]);return o(function(){E.hasValue=!0,E.value=C},[C]),u(C),C},AE}var Lx;function Mq(){return Lx||(Lx=1,_E.exports=Dq()),_E.exports}var Lq=Mq();const IE=t=>typeof t=="object"&&!Array.isArray(t);function Uq(t,e,r=e,n=Wm){const i=se.useRef([]),s=Lq.useSyncExternalStoreWithSelector(t,e,r,o=>o,(o,a)=>{if(IE(o)&&IE(a)&&i.current.length){for(const u of i.current)if(!n(o[u],a[u]))return!1;return!0}return n(o,a)});return se.useMemo(()=>{if(IE(s)){const o={...s};let a={};for(const[u,l]of Object.entries(o))a={...a,[u]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(u)||i.current.push(u),l)}};return Object.defineProperties(o,a),o}return s},[s])}function Fq(t={}){const e=$f(t);return Uq(r=>gO(e,{onChange:r}),()=>Hm(e))}var Bf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zu=typeof window>"u"||"Deno"in globalThis;function Us(){}function $q(t,e){return typeof t=="function"?t(e):t}function VA(t){return typeof t=="number"&&t>=0&&t!==1/0}function wO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function $h(t,e){return typeof t=="function"?t(e):t}function mo(t,e){return typeof t=="function"?t(e):t}function Ux(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==sS(o,e.options))return!1}else if(!Km(e.queryKey,o))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function Fx(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Xu(e.options.mutationKey)!==Xu(s))return!1}else if(!Km(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function sS(t,e){return((e==null?void 0:e.queryKeyHashFn)||Xu)(t)}function Xu(t){return JSON.stringify(t,(e,r)=>qA(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Km(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Km(t[r],e[r])):!1}function bO(t,e){if(t===e)return t;const r=$x(t)&&$x(e);if(r||qA(t)&&qA(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),o=s.length,a=r?[]:{};let u=0;for(let l=0;l<o;l++){const h=r?l:s[l];(!r&&n.includes(h)||r)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=bO(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return i===o&&u===i?t:a}return e}function qv(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function $x(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function qA(t){if(!Bx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Bx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Bx(t){return Object.prototype.toString.call(t)==="[object Object]"}function Bq(t){return new Promise(e=>{setTimeout(e,t)})}function zA(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?bO(t,e):e}function jq(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Vq(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var oS=Symbol();function EO(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===oS?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Mu,sl,Yh,fR,qq=(fR=class extends Bf{constructor(){super();Ge(this,Mu);Ge(this,sl);Ge(this,Yh);Oe(this,Yh,e=>{if(!Zu&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){X(this,sl)||this.setEventListener(X(this,Yh))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,sl))==null||e.call(this),Oe(this,sl,void 0))}setEventListener(e){var r;Oe(this,Yh,e),(r=X(this,sl))==null||r.call(this),Oe(this,sl,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){X(this,Mu)!==e&&(Oe(this,Mu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof X(this,Mu)=="boolean"?X(this,Mu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Mu=new WeakMap,sl=new WeakMap,Yh=new WeakMap,fR),aS=new qq,Jh,ol,Zh,pR,zq=(pR=class extends Bf{constructor(){super();Ge(this,Jh,!0);Ge(this,ol);Ge(this,Zh);Oe(this,Zh,e=>{if(!Zu&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){X(this,ol)||this.setEventListener(X(this,Zh))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,ol))==null||e.call(this),Oe(this,ol,void 0))}setEventListener(e){var r;Oe(this,Zh,e),(r=X(this,ol))==null||r.call(this),Oe(this,ol,e(this.setOnline.bind(this)))}setOnline(e){X(this,Jh)!==e&&(Oe(this,Jh,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return X(this,Jh)}},Jh=new WeakMap,ol=new WeakMap,Zh=new WeakMap,pR),zv=new zq;function HA(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function Hq(t){return Math.min(1e3*2**t,3e4)}function _O(t){return(t??"online")==="online"?zv.isOnline():!0}var AO=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function TE(t){return t instanceof AO}function CO(t){let e=!1,r=0,n=!1,i;const s=HA(),o=E=>{var C;n||(m(new AO(E)),(C=t.abort)==null||C.call(t))},a=()=>{e=!0},u=()=>{e=!1},l=()=>aS.isFocused()&&(t.networkMode==="always"||zv.isOnline())&&t.canRun(),h=()=>_O(t.networkMode)&&t.canRun(),f=E=>{var C;n||(n=!0,(C=t.onSuccess)==null||C.call(t,E),i==null||i(),s.resolve(E))},m=E=>{var C;n||(n=!0,(C=t.onError)==null||C.call(t,E),i==null||i(),s.reject(E))},g=()=>new Promise(E=>{var C;i=N=>{(n||l())&&E(N)},(C=t.onPause)==null||C.call(t)}).then(()=>{var E;i=void 0,n||(E=t.onContinue)==null||E.call(t)}),w=()=>{if(n)return;let E;const C=r===0?t.initialPromise:void 0;try{E=C??t.fn()}catch(N){E=Promise.reject(N)}Promise.resolve(E).then(f).catch(N=>{var j;if(n)return;const D=t.retry??(Zu?0:3),F=t.retryDelay??Hq,V=typeof F=="function"?F(r,N):F,q=D===!0||typeof D=="number"&&r<D||typeof D=="function"&&D(r,N);if(e||!q){m(N);return}r++,(j=t.onFail)==null||j.call(t,r,N),Bq(V).then(()=>l()?void 0:g()).then(()=>{e?m(N):w()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:u,canStart:h,start:()=>(h()?w():g().then(w),s)}}var Wq=t=>setTimeout(t,0);function Kq(){let t=[],e=0,r=a=>{a()},n=a=>{a()},i=Wq;const s=a=>{e?t.push(a):i(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(u=>{r(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{s(()=>{a(...u)})},schedule:s,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var _n=Kq(),Lu,mR,SO=(mR=class{constructor(){Ge(this,Lu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),VA(this.gcTime)&&Oe(this,Lu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Zu?1/0:5*60*1e3))}clearGcTimeout(){X(this,Lu)&&(clearTimeout(X(this,Lu)),Oe(this,Lu,void 0))}},Lu=new WeakMap,mR),Xh,ef,Ls,Uu,fi,Pg,Fu,fo,Wa,gR,Gq=(gR=class extends SO{constructor(r){super();Ge(this,fo);Ge(this,Xh);Ge(this,ef);Ge(this,Ls);Ge(this,Uu);Ge(this,fi);Ge(this,Pg);Ge(this,Fu);Oe(this,Fu,!1),Oe(this,Pg,r.defaultOptions),this.setOptions(r.options),this.observers=[],Oe(this,Uu,r.client),Oe(this,Ls,X(this,Uu).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,Oe(this,Xh,Qq(this.options)),this.state=r.state??X(this,Xh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=X(this,fi))==null?void 0:r.promise}setOptions(r){this.options={...X(this,Pg),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&X(this,Ls).remove(this)}setData(r,n){const i=zA(this.state.data,r,this.options);return ft(this,fo,Wa).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){ft(this,fo,Wa).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i,s;const n=(i=X(this,fi))==null?void 0:i.promise;return(s=X(this,fi))==null||s.cancel(r),n?n.then(Us).catch(Us):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(X(this,Xh))}isActive(){return this.observers.some(r=>mo(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!wO(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=X(this,fi))==null||n.continue()}onOnline(){var n;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=X(this,fi))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),X(this,Ls).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(X(this,fi)&&(X(this,Fu)?X(this,fi).cancel({revert:!0}):X(this,fi).cancelRetry()),this.scheduleGc()),X(this,Ls).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ft(this,fo,Wa).call(this,{type:"invalidate"})}fetch(r,n){var l,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(X(this,fi))return X(this,fi).continueRetry(),X(this,fi).promise}if(r&&this.setOptions(r),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Oe(this,Fu,!0),i.signal)})},o=()=>{const m=EO(this.options,n),g={client:X(this,Uu),queryKey:this.queryKey,meta:this.meta};return s(g),Oe(this,Fu,!1),this.options.persister?this.options.persister(m,g,this):m(g)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:X(this,Uu),state:this.state,fetchFn:o};s(a),(l=this.options.behavior)==null||l.onFetch(a,this),Oe(this,ef,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&ft(this,fo,Wa).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const u=m=>{var g,w,E,C;TE(m)&&m.silent||ft(this,fo,Wa).call(this,{type:"error",error:m}),TE(m)||((w=(g=X(this,Ls).config).onError)==null||w.call(g,m,this),(C=(E=X(this,Ls).config).onSettled)==null||C.call(E,this.state.data,m,this)),this.scheduleGc()};return Oe(this,fi,CO({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{var g,w,E,C;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(N){u(N);return}(w=(g=X(this,Ls).config).onSuccess)==null||w.call(g,m,this),(C=(E=X(this,Ls).config).onSettled)==null||C.call(E,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,g)=>{ft(this,fo,Wa).call(this,{type:"failed",failureCount:m,error:g})},onPause:()=>{ft(this,fo,Wa).call(this,{type:"pause"})},onContinue:()=>{ft(this,fo,Wa).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),X(this,fi).start()}},Xh=new WeakMap,ef=new WeakMap,Ls=new WeakMap,Uu=new WeakMap,fi=new WeakMap,Pg=new WeakMap,Fu=new WeakMap,fo=new WeakSet,Wa=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...IO(i.data,this.options),fetchMeta:r.meta??null};case"success":return{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=r.error;return TE(s)&&s.revert&&X(this,ef)?{...X(this,ef),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),_n.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),X(this,Ls).notify({query:this,type:"updated",action:r})})},gR);function IO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_O(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Qq(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Jo,yR,Yq=(yR=class extends Bf{constructor(e={}){super();Ge(this,Jo);this.config=e,Oe(this,Jo,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??sS(i,r);let o=this.get(s);return o||(o=new Gq({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){X(this,Jo).has(e.queryHash)||(X(this,Jo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=X(this,Jo).get(e.queryHash);r&&(e.destroy(),r===e&&X(this,Jo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){_n.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return X(this,Jo).get(e)}getAll(){return[...X(this,Jo).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Ux(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Ux(e,n)):r}notify(e){_n.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Jo=new WeakMap,yR),Zo,Pi,$u,Xo,Xc,vR,Jq=(vR=class extends SO{constructor(r){super();Ge(this,Xo);Ge(this,Zo);Ge(this,Pi);Ge(this,$u);this.mutationId=r.mutationId,Oe(this,Pi,r.mutationCache),Oe(this,Zo,[]),this.state=r.state||TO(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){X(this,Zo).includes(r)||(X(this,Zo).push(r),this.clearGcTimeout(),X(this,Pi).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){Oe(this,Zo,X(this,Zo).filter(n=>n!==r)),this.scheduleGc(),X(this,Pi).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){X(this,Zo).length||(this.state.status==="pending"?this.scheduleGc():X(this,Pi).remove(this))}continue(){var r;return((r=X(this,$u))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var s,o,a,u,l,h,f,m,g,w,E,C,N,D,F,V,q,j,U,$;Oe(this,$u,CO({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(k,W)=>{ft(this,Xo,Xc).call(this,{type:"failed",failureCount:k,error:W})},onPause:()=>{ft(this,Xo,Xc).call(this,{type:"pause"})},onContinue:()=>{ft(this,Xo,Xc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>X(this,Pi).canRun(this)}));const n=this.state.status==="pending",i=!X(this,$u).canStart();try{if(!n){ft(this,Xo,Xc).call(this,{type:"pending",variables:r,isPaused:i}),await((o=(s=X(this,Pi).config).onMutate)==null?void 0:o.call(s,r,this));const W=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,r));W!==this.state.context&&ft(this,Xo,Xc).call(this,{type:"pending",context:W,variables:r,isPaused:i})}const k=await X(this,$u).start();return await((h=(l=X(this,Pi).config).onSuccess)==null?void 0:h.call(l,k,r,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,k,r,this.state.context)),await((w=(g=X(this,Pi).config).onSettled)==null?void 0:w.call(g,k,null,this.state.variables,this.state.context,this)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,k,null,r,this.state.context)),ft(this,Xo,Xc).call(this,{type:"success",data:k}),k}catch(k){try{throw await((D=(N=X(this,Pi).config).onError)==null?void 0:D.call(N,k,r,this.state.context,this)),await((V=(F=this.options).onError)==null?void 0:V.call(F,k,r,this.state.context)),await((j=(q=X(this,Pi).config).onSettled)==null?void 0:j.call(q,void 0,k,this.state.variables,this.state.context,this)),await(($=(U=this.options).onSettled)==null?void 0:$.call(U,void 0,k,r,this.state.context)),k}finally{ft(this,Xo,Xc).call(this,{type:"error",error:k})}}finally{X(this,Pi).runNext(this)}}},Zo=new WeakMap,Pi=new WeakMap,$u=new WeakMap,Xo=new WeakSet,Xc=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),_n.batch(()=>{X(this,Zo).forEach(i=>{i.onMutationUpdate(r)}),X(this,Pi).notify({mutation:this,type:"updated",action:r})})},vR);function TO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ga,po,Rg,wR,Zq=(wR=class extends Bf{constructor(e={}){super();Ge(this,Ga);Ge(this,po);Ge(this,Rg);this.config=e,Oe(this,Ga,new Set),Oe(this,po,new Map),Oe(this,Rg,0)}build(e,r,n){const i=new Jq({mutationCache:this,mutationId:++yy(this,Rg)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){X(this,Ga).add(e);const r=Ty(e);if(typeof r=="string"){const n=X(this,po).get(r);n?n.push(e):X(this,po).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(X(this,Ga).delete(e)){const r=Ty(e);if(typeof r=="string"){const n=X(this,po).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&X(this,po).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Ty(e);if(typeof r=="string"){const n=X(this,po).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Ty(e);if(typeof r=="string"){const i=(n=X(this,po).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_n.batch(()=>{X(this,Ga).forEach(e=>{this.notify({type:"removed",mutation:e})}),X(this,Ga).clear(),X(this,po).clear()})}getAll(){return Array.from(X(this,Ga))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Fx(r,n))}findAll(e={}){return this.getAll().filter(r=>Fx(e,r))}notify(e){_n.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return _n.batch(()=>Promise.all(e.map(r=>r.continue().catch(Us))))}},Ga=new WeakMap,po=new WeakMap,Rg=new WeakMap,wR);function Ty(t){var e;return(e=t.options.scope)==null?void 0:e.id}function jx(t){return{onFetch:(e,r)=>{var h,f,m,g,w;const n=e.options,i=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const l=async()=>{let E=!1;const C=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>(e.signal.aborted?E=!0:e.signal.addEventListener("abort",()=>{E=!0}),e.signal)})},N=EO(e.options,e.fetchOptions),D=async(F,V,q)=>{if(E)return Promise.reject();if(V==null&&F.pages.length)return Promise.resolve(F);const j={client:e.client,queryKey:e.queryKey,pageParam:V,direction:q?"backward":"forward",meta:e.options.meta};C(j);const U=await N(j),{maxPages:$}=e.options,k=q?Vq:jq;return{pages:k(F.pages,U,$),pageParams:k(F.pageParams,V,$)}};if(i&&s.length){const F=i==="backward",V=F?Xq:Vx,q={pages:s,pageParams:o},j=V(n,q);a=await D(q,j,F)}else{const F=t??s.length;do{const V=u===0?o[0]??n.initialPageParam:Vx(n,a);if(u>0&&V==null)break;a=await D(a,V),u++}while(u<F)}return a};e.options.persister?e.fetchFn=()=>{var E,C;return(C=(E=e.options).persister)==null?void 0:C.call(E,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=l}}}function Vx(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Xq(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var rn,al,cl,tf,rf,ll,nf,sf,bR,ez=(bR=class{constructor(t={}){Ge(this,rn);Ge(this,al);Ge(this,cl);Ge(this,tf);Ge(this,rf);Ge(this,ll);Ge(this,nf);Ge(this,sf);Oe(this,rn,t.queryCache||new Yq),Oe(this,al,t.mutationCache||new Zq),Oe(this,cl,t.defaultOptions||{}),Oe(this,tf,new Map),Oe(this,rf,new Map),Oe(this,ll,0)}mount(){yy(this,ll)._++,X(this,ll)===1&&(Oe(this,nf,aS.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,rn).onFocus())})),Oe(this,sf,zv.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,rn).onOnline())})))}unmount(){var t,e;yy(this,ll)._--,X(this,ll)===0&&((t=X(this,nf))==null||t.call(this),Oe(this,nf,void 0),(e=X(this,sf))==null||e.call(this),Oe(this,sf,void 0))}isFetching(t){return X(this,rn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return X(this,al).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=X(this,rn).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=X(this,rn).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime($h(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return X(this,rn).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=X(this,rn).get(n.queryHash),s=i==null?void 0:i.state.data,o=$q(e,s);if(o!==void 0)return X(this,rn).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return _n.batch(()=>X(this,rn).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=X(this,rn).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=X(this,rn);_n.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=X(this,rn);return _n.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=_n.batch(()=>X(this,rn).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Us).catch(Us)}invalidateQueries(t,e={}){return _n.batch(()=>(X(this,rn).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=_n.batch(()=>X(this,rn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Us)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Us)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=X(this,rn).build(this,e);return r.isStaleByTime($h(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Us).catch(Us)}fetchInfiniteQuery(t){return t.behavior=jx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Us).catch(Us)}ensureInfiniteQueryData(t){return t.behavior=jx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zv.isOnline()?X(this,al).resumePausedMutations():Promise.resolve()}getQueryCache(){return X(this,rn)}getMutationCache(){return X(this,al)}getDefaultOptions(){return X(this,cl)}setDefaultOptions(t){Oe(this,cl,t)}setQueryDefaults(t,e){X(this,tf).set(Xu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...X(this,tf).values()],r={};return e.forEach(n=>{Km(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){X(this,rf).set(Xu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...X(this,rf).values()],r={};return e.forEach(n=>{Km(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...X(this,cl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=sS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===oS&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...X(this,cl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){X(this,rn).clear(),X(this,al).clear()}},rn=new WeakMap,al=new WeakMap,cl=new WeakMap,tf=new WeakMap,rf=new WeakMap,ll=new WeakMap,nf=new WeakMap,sf=new WeakMap,bR),Qi,Nt,Og,Ri,Bu,of,ul,dl,kg,af,cf,ju,Vu,hl,lf,er,nm,WA,KA,GA,QA,YA,JA,ZA,xO,ER,tz=(ER=class extends Bf{constructor(e,r){super();Ge(this,er);Ge(this,Qi);Ge(this,Nt);Ge(this,Og);Ge(this,Ri);Ge(this,Bu);Ge(this,of);Ge(this,ul);Ge(this,dl);Ge(this,kg);Ge(this,af);Ge(this,cf);Ge(this,ju);Ge(this,Vu);Ge(this,hl);Ge(this,lf,new Set);this.options=r,Oe(this,Qi,e),Oe(this,dl,null),Oe(this,ul,HA()),this.options.experimental_prefetchInRender||X(this,ul).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(X(this,Nt).addObserver(this),qx(X(this,Nt),this.options)?ft(this,er,nm).call(this):this.updateResult(),ft(this,er,QA).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return XA(X(this,Nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return XA(X(this,Nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ft(this,er,YA).call(this),ft(this,er,JA).call(this),X(this,Nt).removeObserver(this)}setOptions(e){const r=this.options,n=X(this,Nt);if(this.options=X(this,Qi).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mo(this.options.enabled,X(this,Nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ft(this,er,ZA).call(this),X(this,Nt).setOptions(this.options),r._defaulted&&!qv(this.options,r)&&X(this,Qi).getQueryCache().notify({type:"observerOptionsUpdated",query:X(this,Nt),observer:this});const i=this.hasListeners();i&&zx(X(this,Nt),n,this.options,r)&&ft(this,er,nm).call(this),this.updateResult(),i&&(X(this,Nt)!==n||mo(this.options.enabled,X(this,Nt))!==mo(r.enabled,X(this,Nt))||$h(this.options.staleTime,X(this,Nt))!==$h(r.staleTime,X(this,Nt)))&&ft(this,er,WA).call(this);const s=ft(this,er,KA).call(this);i&&(X(this,Nt)!==n||mo(this.options.enabled,X(this,Nt))!==mo(r.enabled,X(this,Nt))||s!==X(this,hl))&&ft(this,er,GA).call(this,s)}getOptimisticResult(e){const r=X(this,Qi).getQueryCache().build(X(this,Qi),e),n=this.createResult(r,e);return nz(this,n)&&(Oe(this,Ri,n),Oe(this,of,this.options),Oe(this,Bu,X(this,Nt).state)),n}getCurrentResult(){return X(this,Ri)}trackResult(e,r){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),e[i])})}),n}trackProp(e){X(this,lf).add(e)}getCurrentQuery(){return X(this,Nt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=X(this,Qi).defaultQueryOptions(e),n=X(this,Qi).getQueryCache().build(X(this,Qi),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return ft(this,er,nm).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),X(this,Ri)))}createResult(e,r){var k;const n=X(this,Nt),i=this.options,s=X(this,Ri),o=X(this,Bu),a=X(this,of),l=e!==n?e.state:X(this,Og),{state:h}=e;let f={...h},m=!1,g;if(r._optimisticResults){const W=this.hasListeners(),x=!W&&qx(e,r),v=W&&zx(e,n,r,i);(x||v)&&(f={...f,...IO(h.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:E,status:C}=f;g=f.data;let N=!1;if(r.placeholderData!==void 0&&g===void 0&&C==="pending"){let W;s!=null&&s.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(W=s.data,N=!0):W=typeof r.placeholderData=="function"?r.placeholderData((k=X(this,cf))==null?void 0:k.state.data,X(this,cf)):r.placeholderData,W!==void 0&&(C="success",g=zA(s==null?void 0:s.data,W,r),m=!0)}if(r.select&&g!==void 0&&!N)if(s&&g===(o==null?void 0:o.data)&&r.select===X(this,kg))g=X(this,af);else try{Oe(this,kg,r.select),g=r.select(g),g=zA(s==null?void 0:s.data,g,r),Oe(this,af,g),Oe(this,dl,null)}catch(W){Oe(this,dl,W)}X(this,dl)&&(w=X(this,dl),g=X(this,af),E=Date.now(),C="error");const D=f.fetchStatus==="fetching",F=C==="pending",V=C==="error",q=F&&D,j=g!==void 0,$={status:C,fetchStatus:f.fetchStatus,isPending:F,isSuccess:C==="success",isError:V,isInitialLoading:q,isLoading:q,data:g,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:E,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:D,isRefetching:D&&!F,isLoadingError:V&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:V&&j,isStale:cS(e,r),refetch:this.refetch,promise:X(this,ul)};if(this.options.experimental_prefetchInRender){const W=_=>{$.status==="error"?_.reject($.error):$.data!==void 0&&_.resolve($.data)},x=()=>{const _=Oe(this,ul,$.promise=HA());W(_)},v=X(this,ul);switch(v.status){case"pending":e.queryHash===n.queryHash&&W(v);break;case"fulfilled":($.status==="error"||$.data!==v.value)&&x();break;case"rejected":($.status!=="error"||$.error!==v.reason)&&x();break}}return $}updateResult(){const e=X(this,Ri),r=this.createResult(X(this,Nt),this.options);if(Oe(this,Bu,X(this,Nt).state),Oe(this,of,this.options),X(this,Bu).data!==void 0&&Oe(this,cf,X(this,Nt)),qv(r,e))return;Oe(this,Ri,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!X(this,lf).size)return!0;const o=new Set(s??X(this,lf));return this.options.throwOnError&&o.add("error"),Object.keys(X(this,Ri)).some(a=>{const u=a;return X(this,Ri)[u]!==e[u]&&o.has(u)})};ft(this,er,xO).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ft(this,er,QA).call(this)}},Qi=new WeakMap,Nt=new WeakMap,Og=new WeakMap,Ri=new WeakMap,Bu=new WeakMap,of=new WeakMap,ul=new WeakMap,dl=new WeakMap,kg=new WeakMap,af=new WeakMap,cf=new WeakMap,ju=new WeakMap,Vu=new WeakMap,hl=new WeakMap,lf=new WeakMap,er=new WeakSet,nm=function(e){ft(this,er,ZA).call(this);let r=X(this,Nt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Us)),r},WA=function(){ft(this,er,YA).call(this);const e=$h(this.options.staleTime,X(this,Nt));if(Zu||X(this,Ri).isStale||!VA(e))return;const n=wO(X(this,Ri).dataUpdatedAt,e)+1;Oe(this,ju,setTimeout(()=>{X(this,Ri).isStale||this.updateResult()},n))},KA=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(X(this,Nt)):this.options.refetchInterval)??!1},GA=function(e){ft(this,er,JA).call(this),Oe(this,hl,e),!(Zu||mo(this.options.enabled,X(this,Nt))===!1||!VA(X(this,hl))||X(this,hl)===0)&&Oe(this,Vu,setInterval(()=>{(this.options.refetchIntervalInBackground||aS.isFocused())&&ft(this,er,nm).call(this)},X(this,hl)))},QA=function(){ft(this,er,WA).call(this),ft(this,er,GA).call(this,ft(this,er,KA).call(this))},YA=function(){X(this,ju)&&(clearTimeout(X(this,ju)),Oe(this,ju,void 0))},JA=function(){X(this,Vu)&&(clearInterval(X(this,Vu)),Oe(this,Vu,void 0))},ZA=function(){const e=X(this,Qi).getQueryCache().build(X(this,Qi),this.options);if(e===X(this,Nt))return;const r=X(this,Nt);Oe(this,Nt,e),Oe(this,Og,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},xO=function(e){_n.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(X(this,Ri))}),X(this,Qi).getQueryCache().notify({query:X(this,Nt),type:"observerResultsUpdated"})})},ER);function rz(t,e){return mo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qx(t,e){return rz(t,e)||t.state.data!==void 0&&XA(t,e,e.refetchOnMount)}function XA(t,e,r){if(mo(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&cS(t,e)}return!1}function zx(t,e,r,n){return(t!==e||mo(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&cS(t,r)}function cS(t,e){return mo(e.enabled,t)!==!1&&t.isStaleByTime($h(e.staleTime,t))}function nz(t,e){return!qv(t.getCurrentResult(),e)}var fl,pl,Yi,Qa,rc,uv,e2,_R,iz=(_R=class extends Bf{constructor(r,n){super();Ge(this,rc);Ge(this,fl);Ge(this,pl);Ge(this,Yi);Ge(this,Qa);Oe(this,fl,r),this.setOptions(n),this.bindMethods(),ft(this,rc,uv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=X(this,fl).defaultMutationOptions(r),qv(this.options,n)||X(this,fl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:X(this,Yi),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Xu(n.mutationKey)!==Xu(this.options.mutationKey)?this.reset():((i=X(this,Yi))==null?void 0:i.state.status)==="pending"&&X(this,Yi).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=X(this,Yi))==null||r.removeObserver(this)}onMutationUpdate(r){ft(this,rc,uv).call(this),ft(this,rc,e2).call(this,r)}getCurrentResult(){return X(this,pl)}reset(){var r;(r=X(this,Yi))==null||r.removeObserver(this),Oe(this,Yi,void 0),ft(this,rc,uv).call(this),ft(this,rc,e2).call(this)}mutate(r,n){var i;return Oe(this,Qa,n),(i=X(this,Yi))==null||i.removeObserver(this),Oe(this,Yi,X(this,fl).getMutationCache().build(X(this,fl),this.options)),X(this,Yi).addObserver(this),X(this,Yi).execute(r)}},fl=new WeakMap,pl=new WeakMap,Yi=new WeakMap,Qa=new WeakMap,rc=new WeakSet,uv=function(){var n;const r=((n=X(this,Yi))==null?void 0:n.state)??TO();Oe(this,pl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},e2=function(r){_n.batch(()=>{var n,i,s,o,a,u,l,h;if(X(this,Qa)&&this.hasListeners()){const f=X(this,pl).variables,m=X(this,pl).context;(r==null?void 0:r.type)==="success"?((i=(n=X(this,Qa)).onSuccess)==null||i.call(n,r.data,f,m),(o=(s=X(this,Qa)).onSettled)==null||o.call(s,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((u=(a=X(this,Qa)).onError)==null||u.call(a,r.error,f,m),(h=(l=X(this,Qa)).onSettled)==null||h.call(l,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(X(this,pl))})})},_R);function sz(t){return JSON.stringify(t,(e,r)=>oz(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):typeof r=="bigint"?r.toString():r)}function oz(t){if(!Hx(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!Hx(r)||!r.hasOwnProperty("isPrototypeOf"))}function Hx(t){return Object.prototype.toString.call(t)==="[object Object]"}function lS(t){const{_defaulted:e,behavior:r,gcTime:n,initialData:i,initialDataUpdatedAt:s,maxPages:o,meta:a,networkMode:u,queryFn:l,queryHash:h,queryKey:f,queryKeyHashFn:m,retry:g,retryDelay:w,structuralSharing:E,getPreviousPageParam:C,getNextPageParam:N,initialPageParam:D,_optimisticResults:F,enabled:V,notifyOnChangeProps:q,placeholderData:j,refetchInterval:U,refetchIntervalInBackground:$,refetchOnMount:k,refetchOnReconnect:W,refetchOnWindowFocus:x,retryOnMount:v,select:_,staleTime:T,suspense:I,throwOnError:P,config:M,connector:z,query:B,...A}=t;return A}function az(t,e={}){return{async queryFn({queryKey:r}){const{connector:n}=e,{account:i,scopeKey:s,...o}=r[1];if(!i&&!n)throw new Error("account or connector is required");return hO(t,{account:i,connector:n,...o})},queryKey:cz(e)}}function cz(t={}){const{connector:e,...r}=t;return["estimateGas",lS(r)]}function lz(t,e={}){return{gcTime:0,async queryFn({queryKey:r}){const{connector:n}=e,{connectorUid:i,scopeKey:s,...o}=r[1];return Vg(t,{...o,connector:n})},queryKey:uz(e)}}function uz(t={}){const{connector:e,...r}=t;return["connectorClient",{...lS(r),connectorUid:e==null?void 0:e.uid}]}function dz(t,e={}){return{async queryFn({queryKey:r}){const{blockHash:n,blockNumber:i,blockTag:s,hash:o,index:a}=r[1];if(!n&&!i&&!s&&!o)throw new Error("blockHash, blockNumber, blockTag, or hash is required");if(!o&&!a)throw new Error("index is required for blockHash, blockNumber, or blockTag");const{scopeKey:u,...l}=r[1];return QV(t,l)},queryKey:hz(e)}}function hz(t={}){return["transaction",lS(t)]}function fz(t){return{mutationFn(e){return mO(t,e)},mutationKey:["sendTransaction"]}}var xE={exports:{}},Lp={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx;function pz(){if(Wx)return Lp;Wx=1;var t=zl(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,u,l){var h,f={},m=null,g=null;l!==void 0&&(m=""+l),u.key!==void 0&&(m=""+u.key),u.ref!==void 0&&(g=u.ref);for(h in u)n.call(u,h)&&!s.hasOwnProperty(h)&&(f[h]=u[h]);if(a&&a.defaultProps)for(h in u=a.defaultProps,u)f[h]===void 0&&(f[h]=u[h]);return{$$typeof:e,type:a,key:m,ref:g,props:f,_owner:i.current}}return Lp.Fragment=r,Lp.jsx=o,Lp.jsxs=o,Lp}var Kx;function mz(){return Kx||(Kx=1,xE.exports=pz()),xE.exports}var uS=mz();const G=uS.jsx,he=uS.jsxs,t2=uS.Fragment;var NO=se.createContext(void 0),dS=t=>{const e=se.useContext(NO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},gz=({client:t,children:e})=>(se.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),G(NO.Provider,{value:t,children:e})),PO=se.createContext(!1),yz=()=>se.useContext(PO);PO.Provider;function vz(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var wz=se.createContext(vz()),bz=()=>se.useContext(wz);function RO(t,e){return typeof t=="function"?t(...e):!!t}function r2(){}var Ez=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},_z=t=>{se.useEffect(()=>{t.clearReset()},[t])},Az=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||RO(r,[t.error,n])),Cz=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...r)=>Math.max(e(...r),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Sz=(t,e)=>t.isLoading&&t.isFetching&&!e,Iz=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Gx=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Tz(t,e,r){var f,m,g,w,E;const n=dS(),i=yz(),s=bz(),o=n.defaultQueryOptions(t);(m=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=i?"isRestoring":"optimistic",Cz(o),Ez(o,s),_z(s);const a=!n.getQueryCache().get(o.queryHash),[u]=se.useState(()=>new e(n,o)),l=u.getOptimisticResult(o),h=!i&&t.subscribed!==!1;if(se.useSyncExternalStore(se.useCallback(C=>{const N=h?u.subscribe(_n.batchCalls(C)):r2;return u.updateResult(),N},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),se.useEffect(()=>{u.setOptions(o)},[o,u]),Iz(o,l))throw Gx(o,u,s);if(Az({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((w=(g=n.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||w.call(g,o,l),o.experimental_prefetchInRender&&!Zu&&Sz(l,i)){const C=a?Gx(o,u,s):(E=n.getQueryCache().get(o.queryHash))==null?void 0:E.promise;C==null||C.catch(r2).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?l:u.trackResult(l)}function xz(t,e){return Tz(t,tz)}function Nz(t,e){const r=dS(),[n]=se.useState(()=>new iz(r,t));se.useEffect(()=>{n.setOptions(t)},[n,t]);const i=se.useSyncExternalStore(se.useCallback(o=>n.subscribe(_n.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=se.useCallback((o,a)=>{n.mutate(o,a).catch(r2)},[n]);if(i.error&&RO(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function hS(t){const e=xz({...t,queryKeyHashFn:sz});return e.queryKey=t.queryKey,e}function Ww(t={}){const e=$f(t);return se.useSyncExternalStore(r=>eq(e,{onChange:r}),()=>xx(e),()=>xx(e))}function Pz(t={}){const{query:e={},...r}=t,n=$f(r),i=dS(),{address:s,connector:o,status:a}=Fq({config:n}),u=Ww({config:n}),l=t.connector??o,{queryKey:h,...f}=lz(n,{...t,chainId:t.chainId??u,connector:l}),m=!!((a==="connected"||a==="reconnecting"&&(l!=null&&l.getProvider))&&(e.enabled??!0)),g=se.useRef(s);return se.useEffect(()=>{const w=g.current;!s&&w?(i.removeQueries({queryKey:h}),g.current=void 0):s!==w&&(i.invalidateQueries({queryKey:h}),g.current=s)},[s,i]),hS({...e,...f,queryKey:h,enabled:m,staleTime:Number.POSITIVE_INFINITY})}function Rz(t={}){const{connector:e,query:r={}}=t,n=$f(t),{data:i}=Pz({config:n,connector:e,query:{enabled:t.account===void 0}}),s=t.account??(i==null?void 0:i.account),o=Ww({config:n}),a=az(n,{...t,account:s,chainId:t.chainId??o,connector:e}),u=!!((s||e)&&(r.enabled??!0));return hS({...r,...a,enabled:u})}function Oz(t={}){const{mutation:e}=t,r=$f(t),n=fz(r),{mutate:i,mutateAsync:s,...o}=Nz({...e,...n});return{...o,sendTransaction:i,sendTransactionAsync:s}}function kz(t={}){const{blockHash:e,blockNumber:r,blockTag:n,hash:i,query:s={}}=t,o=$f(t),a=Ww({config:o}),u=dz(o,{...t,chainId:t.chainId??a}),l=!!(!(e&&r&&n&&i)&&(s.enabled??!0));return hS({...s,...u,enabled:l})}const Dz=Symbol(),fS=Symbol(),Up="a",mm="w";let Mz=(t,e)=>new Proxy(t,e);const n2=Object.getPrototypeOf,i2=new WeakMap,OO=t=>t&&(i2.has(t)?i2.get(t):n2(t)===Object.prototype||n2(t)===Array.prototype),Hv=t=>typeof t=="object"&&t!==null,Lz=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(r=>{r.configurable=!0}),Object.create(n2(t),e)},pS=t=>t[fS]||t,kO=(t,e,r,n)=>{if(!OO(t))return t;let i=n&&n.get(t);if(!i){const u=pS(t);i=(l=>Object.values(Object.getOwnPropertyDescriptors(l)).some(h=>!h.configurable&&!h.writable))(u)?[u,Lz(u)]:[u],n==null||n.set(t,i)}const[s,o]=i;let a=r&&r.get(s);return a&&a[1].f===!!o||(a=((u,l)=>{const h={f:l};let f=!1;const m=(w,E)=>{if(!f){let C=h[Up].get(u);if(C||(C={},h[Up].set(u,C)),w===mm)C[mm]=!0;else{let N=C[w];N||(N=new Set,C[w]=N),N.add(E)}}},g={get:(w,E)=>E===fS?u:(m("k",E),kO(Reflect.get(w,E),h[Up],h.c,h.t)),has:(w,E)=>E===Dz?(f=!0,h[Up].delete(u),!0):(m("h",E),Reflect.has(w,E)),getOwnPropertyDescriptor:(w,E)=>(m("o",E),Reflect.getOwnPropertyDescriptor(w,E)),ownKeys:w=>(m(mm),Reflect.ownKeys(w))};return l&&(g.set=g.deleteProperty=()=>!1),[g,h]})(s,!!o),a[1].p=Mz(o||s,a[0]),r&&r.set(s,a)),a[1][Up]=e,a[1].c=r,a[1].t=n,a[1].p},DO=(t,e,r,n,i=Object.is)=>{if(i(t,e))return!1;if(!Hv(t)||!Hv(e))return!0;const s=r.get(pS(t));if(!s)return!0;if(n){const a=n.get(t);if(a&&a.n===e)return a.g;n.set(t,{n:e,g:!1})}let o=null;try{for(const a of s.h||[])if(o=Reflect.has(t,a)!==Reflect.has(e,a),o)return o;if(s[mm]===!0){if(o=((a,u)=>{const l=Reflect.ownKeys(a),h=Reflect.ownKeys(u);return l.length!==h.length||l.some((f,m)=>f!==h[m])})(t,e),o)return o}else for(const a of s.o||[])if(o=!!Reflect.getOwnPropertyDescriptor(t,a)!=!!Reflect.getOwnPropertyDescriptor(e,a),o)return o;for(const a of s.k||[])if(o=DO(t[a],e[a],r,n,i),o)return o;return o===null&&(o=!0),o}finally{n&&n.set(t,{n:e,g:o})}},Uz=t=>OO(t)&&t[fS]||null,Qx=(t,e=!0)=>{i2.set(t,e)},Fz=(t,e,r)=>{const n=[],i=new WeakSet,s=(o,a)=>{if(i.has(o))return;Hv(o)&&i.add(o);const u=Hv(o)&&e.get(pS(o));if(u){var l,h;if((l=u.h)==null||l.forEach(m=>{const g=`:has(${String(m)})`;n.push(a?[...a,g]:[g])}),u[mm]===!0){const m=":ownKeys";n.push(a?[...a,m]:[m])}else{var f;(f=u.o)==null||f.forEach(m=>{const g=`:hasOwn(${String(m)})`;n.push(a?[...a,g]:[g])})}(h=u.k)==null||h.forEach(m=>{!("value"in(Object.getOwnPropertyDescriptor(o,m)||{}))||s(o[m],a?[...a,m]:[m])})}else a&&n.push(a)};return s(t),n},Wv={},NE=t=>typeof t=="object"&&t!==null,tl=new WeakMap,im=new WeakSet,$z=(t=Object.is,e=(l,h)=>new Proxy(l,h),r=l=>NE(l)&&!im.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),n=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,h,f=n)=>{const m=i.get(l);if((m==null?void 0:m[0])===h)return m[1];const g=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return Qx(g,!0),i.set(l,[h,g]),Reflect.ownKeys(l).forEach(w=>{if(Object.getOwnPropertyDescriptor(g,w))return;const E=Reflect.get(l,w),{enumerable:C}=Reflect.getOwnPropertyDescriptor(l,w),N={value:E,enumerable:C,configurable:!0};if(im.has(E))Qx(E,!1);else if(E instanceof Promise)delete N.value,N.get=()=>f(E);else if(tl.has(E)){const[D,F]=tl.get(E);N.value=s(D,F(),f)}Object.defineProperty(g,w,N)}),Object.preventExtensions(g)},o=new WeakMap,a=[1,1],u=l=>{if(!NE(l))throw new Error("object required");const h=o.get(l);if(h)return h;let f=a[0];const m=new Set,g=(k,W=++a[0])=>{f!==W&&(f=W,m.forEach(x=>x(k,W)))};let w=a[1];const E=(k=++a[1])=>(w!==k&&!m.size&&(w=k,N.forEach(([W])=>{const x=W[1](k);x>f&&(f=x)})),f),C=k=>(W,x)=>{const v=[...W];v[1]=[k,...v[1]],g(v,x)},N=new Map,D=(k,W)=>{if((Wv?"production":void 0)!=="production"&&N.has(k))throw new Error("prop listener already exists");if(m.size){const x=W[3](C(k));N.set(k,[W,x])}else N.set(k,[W])},F=k=>{var W;const x=N.get(k);x&&(N.delete(k),(W=x[1])==null||W.call(x))},V=k=>(m.add(k),m.size===1&&N.forEach(([x,v],_)=>{if((Wv?"production":void 0)!=="production"&&v)throw new Error("remove already exists");const T=x[3](C(_));N.set(_,[x,T])}),()=>{m.delete(k),m.size===0&&N.forEach(([x,v],_)=>{v&&(v(),N.set(_,[x]))})}),q=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),U=e(q,{deleteProperty(k,W){const x=Reflect.get(k,W);F(W);const v=Reflect.deleteProperty(k,W);return v&&g(["delete",[W],x]),v},set(k,W,x,v){const _=Reflect.has(k,W),T=Reflect.get(k,W,v);if(_&&(t(T,x)||o.has(x)&&t(T,o.get(x))))return!0;F(W),NE(x)&&(x=Uz(x)||x);let I=x;if(x instanceof Promise)x.then(P=>{x.status="fulfilled",x.value=P,g(["resolve",[W],P])}).catch(P=>{x.status="rejected",x.reason=P,g(["reject",[W],P])});else{!tl.has(x)&&r(x)&&(I=u(x));const P=!im.has(I)&&tl.get(I);P&&D(W,P)}return Reflect.set(k,W,I,v),g(["set",[W],x,T]),!0}});o.set(l,U);const $=[q,E,s,V];return tl.set(U,$),Reflect.ownKeys(l).forEach(k=>{const W=Object.getOwnPropertyDescriptor(l,k);"value"in W&&(U[k]=l[k],delete W.value,delete W.writable),Object.defineProperty(q,k,W)}),U})=>[u,tl,im,t,e,r,n,i,s,o,a],[Bz]=$z();function Kr(t={}){return Bz(t)}function wi(t,e,r){const n=tl.get(t);(Wv?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i;const s=[],o=n[3];let a=!1;const l=o(h=>{s.push(h),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function ed(t,e){const r=tl.get(t);(Wv?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");const[n,i,s]=r;return s(n,i(),e)}function td(t){return im.add(t),t}function ns(t,e,r,n){let i=t[e];return wi(t,()=>{const s=t[e];Object.is(i,s)||r(i=s)})}function jz(t){const e=Kr({data:Array.from([]),has(r){return this.data.some(n=>n[0]===r)},set(r,n){const i=this.data.find(s=>s[0]===r);return i?i[1]=n:this.data.push([r,n]),this},get(r){var n;return(n=this.data.find(i=>i[0]===r))==null?void 0:n[1]},delete(r){const n=this.data.findIndex(i=>i[0]===r);return n===-1?!1:(this.data.splice(n,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(r){this.data.forEach(n=>{r(n[1],n[0],this)})},keys(){return this.data.map(r=>r[0]).values()},values(){return this.data.map(r=>r[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const Gm={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(r=>r.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var Vz=20,qz=1,jf=1e6,zz=1e6,Hz=-7,Wz=21,Kz=!1,qg="[big.js] ",gd=qg+"Invalid ",Kw=gd+"decimal places",Gz=gd+"rounding mode",MO=qg+"Division by zero",or={},na=void 0,Qz=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function LO(){function t(e){var r=this;if(!(r instanceof t))return e===na?LO():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(gd+"value");e=e===0&&1/e<0?"-0":String(e)}Yz(r,e)}r.constructor=t}return t.prototype=or,t.DP=Vz,t.RM=qz,t.NE=Hz,t.PE=Wz,t.strict=Kz,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function Yz(t,e){var r,n,i;if(!Qz.test(e))throw Error(gd+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&e.charAt(n)=="0";)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}return t}function yd(t,e,r,n){var i=t.c;if(r===na&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(Gz);if(e<1)n=r===3&&(n||!!i[0])||e===0&&(r===1&&i[0]>=5||r===2&&(i[0]>5||i[0]===5&&(n||i[1]!==na))),i.length=1,n?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(n=r===1&&i[e]>=5||r===2&&(i[e]>5||i[e]===5&&(n||i[e+1]!==na||i[e-1]&1))||r===3&&(n||!!i[0]),i.length=e,n){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function vd(t,e,r){var n=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>s)for(n-=s;n--;)i+="0";else n<s&&(i=i.slice(0,n)+"."+i.slice(n));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&r?"-"+i:i}or.abs=function(){var t=new this.constructor(this);return t.s=1,t};or.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,s=r.s,o=t.s,a=r.e,u=t.e;if(!n[0]||!i[0])return n[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=u)return a>u^e?1:-1;for(o=(a=n.length)<(u=i.length)?a:u,s=-1;++s<o;)if(n[s]!=i[s])return n[s]>i[s]^e?1:-1;return a==u?0:a>u^e?1:-1};or.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,s=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>jf)throw Error(Kw);if(!i[0])throw Error(MO);if(!n[0])return t.s=s,t.c=[t.e=0],t;var a,u,l,h,f,m=i.slice(),g=a=i.length,w=n.length,E=n.slice(0,a),C=E.length,N=t,D=N.c=[],F=0,V=o+(N.e=e.e-t.e)+1;for(N.s=s,s=V<0?0:V,m.unshift(0);C++<a;)E.push(0);do{for(l=0;l<10;l++){if(a!=(C=E.length))h=a>C?1:-1;else for(f=-1,h=0;++f<a;)if(i[f]!=E[f]){h=i[f]>E[f]?1:-1;break}if(h<0){for(u=C==a?i:m;C;){if(E[--C]<u[C]){for(f=C;f&&!E[--f];)E[f]=9;--E[f],E[C]+=10}E[C]-=u[C]}for(;!E[0];)E.shift()}else break}D[F++]=h?l:++l,E[0]&&h?E[C]=n[g]||0:E=[n[g]]}while((g++<w||E[0]!==na)&&s--);return!D[0]&&F!=1&&(D.shift(),N.e--,V--),F>V&&yd(N,V,r.RM,E[0]!==na),N};or.eq=function(t){return this.cmp(t)===0};or.gt=function(t){return this.cmp(t)>0};or.gte=function(t){return this.cmp(t)>-1};or.lt=function(t){return this.cmp(t)<0};or.lte=function(t){return this.cmp(t)<1};or.minus=or.sub=function(t){var e,r,n,i,s=this,o=s.constructor,a=s.s,u=(t=new o(t)).s;if(a!=u)return t.s=-u,s.plus(t);var l=s.c.slice(),h=s.e,f=t.c,m=t.e;if(!l[0]||!f[0])return f[0]?t.s=-u:l[0]?t=new o(s):t.s=1,t;if(a=h-m){for((i=a<0)?(a=-a,n=l):(m=h,n=f),n.reverse(),u=a;u--;)n.push(0);n.reverse()}else for(r=((i=l.length<f.length)?l:f).length,a=u=0;u<r;u++)if(l[u]!=f[u]){i=l[u]<f[u];break}if(i&&(n=l,l=f,f=n,t.s=-t.s),(u=(r=f.length)-(e=l.length))>0)for(;u--;)l[e++]=0;for(u=e;r>a;){if(l[--r]<f[r]){for(e=r;e&&!l[--e];)l[e]=9;--l[e],l[r]+=10}l[r]-=f[r]}for(;l[--u]===0;)l.pop();for(;l[0]===0;)l.shift(),--m;return l[0]||(t.s=1,l=[m=0]),t.c=l,t.e=m,t};or.mod=function(t){var e,r=this,n=r.constructor,i=r.s,s=(t=new n(t)).s;if(!t.c[0])throw Error(MO);return r.s=t.s=1,e=t.cmp(r)==1,r.s=i,t.s=s,e?new n(r):(i=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=s,this.minus(r.times(t)))};or.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};or.plus=or.add=function(t){var e,r,n,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,u=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-u){for(e>0?(u=o,n=l):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-l.length<0&&(n=l,l=a,a=n),e=l.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+l[e]+r)/10|0;for(r&&(a.unshift(r),++u),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=u,t};or.pow=function(t){var e=this,r=new e.constructor("1"),n=r,i=t<0;if(t!==~~t||t<-1e6||t>zz)throw Error(gd+"exponent");for(i&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return i?r.div(n):n};or.prec=function(t,e){if(t!==~~t||t<1||t>jf)throw Error(gd+"precision");return yd(new this.constructor(this),t,e)};or.round=function(t,e){if(t===na)t=0;else if(t!==~~t||t<-1e6||t>jf)throw Error(Kw);return yd(new this.constructor(this),t+this.e+1,e)};or.sqrt=function(){var t,e,r,n=this,i=n.constructor,s=n.s,o=n.e,a=new i("0.5");if(!n.c[0])return new i(n);if(s<0)throw Error(qg+"No square root");s=Math.sqrt(+vd(n,!0,!0)),s===0||s===1/0?(e=n.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return yd(t,(i.DP-=4)+t.e+1,i.RM)};or.times=or.mul=function(t){var e,r=this,n=r.constructor,i=r.c,s=(t=new n(t)).c,o=i.length,a=s.length,u=r.e,l=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=u+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(u=a;u--;){for(a=0,l=o+u;l>u;)a=e[l]+s[u]*i[l-u-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),u=e.length;!e[--u];)e.pop();return t.c=e,t};or.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==na){if(t!==~~t||t<0||t>jf)throw Error(Kw);for(r=yd(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return vd(r,!0,!!n)};or.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==na){if(t!==~~t||t<0||t>jf)throw Error(Kw);for(r=yd(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return vd(r,!1,!!n)};or[Symbol.for("nodejs.util.inspect.custom")]=or.toJSON=or.toString=function(){var t=this,e=t.constructor;return vd(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};or.toNumber=function(){var t=+vd(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(qg+"Imprecise conversion");return t};or.toPrecision=function(t,e){var r=this,n=r.constructor,i=r.c[0];if(t!==na){if(t!==~~t||t<1||t>jf)throw Error(gd+"precision");for(r=yd(new n(r),t,e);r.c.length<t;)r.c.push(0)}return vd(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)};or.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(qg+"valueOf disallowed");return vd(t,t.e<=e.NE||t.e>=e.PE,!0)};var Fp=LO();const xy={bigNumber(t){return t?new Fp(t):new Fp(0)},multiply(t,e){if(t===void 0||e===void 0)return new Fp(0);const r=new Fp(t),n=new Fp(e);return r.times(n)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},Jz=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Zz=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Xz=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Ee={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"},eH={getERC20Abi:t=>Ee.USDT_CONTRACT_ADDRESSES.includes(t)?Xz:Jz,getSwapAbi:()=>Zz},Wc={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,n,i]=e;if(!r||!n||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:n,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,n]=e;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:n}}},bt={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache"};function PE(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const ht={setItem(t,e){sm()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(sm())return localStorage.getItem(t)||void 0},removeItem(t){sm()&&localStorage.removeItem(t)},clear(){sm()&&localStorage.clear()}};function sm(){return typeof window<"u"&&typeof localStorage<"u"}function Ya(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}function tH(t){return(t==null?void 0:t.endsWith(Ee.WC_NAME_SUFFIX_LEGACY))||(t==null?void 0:t.endsWith(Ee.WC_NAME_SUFFIX))}var Yx={};const RE=(typeof process<"u"&&typeof Yx<"u"?Yx.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",L0e=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],U0e="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Cn={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:RE,SECURE_SITE_DASHBOARD:`${RE}/dashboard`,SECURE_SITE_FAVICON:`${RE}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155","solana"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},Be={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=Be.getActiveNamespace(),e=Be.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:n}},setWalletConnectDeepLink({name:t,href:e}){try{ht.setItem(bt.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=ht.getItem(bt.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{ht.removeItem(bt.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{ht.setItem(bt.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{ht.setItem(bt.ACTIVE_CAIP_NETWORK_ID,t),Be.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return ht.getItem(bt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{ht.removeItem(bt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=PE(t);ht.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=Be.getRecentWallets();e.find(n=>n.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),ht.setItem(bt.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=ht.getItem(bt.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const r=PE(t);ht.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return ht.getItem(bt.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=PE(t);return ht.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{ht.setItem(bt.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return ht.getItem(bt.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{ht.removeItem(bt.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return ht.getItem(bt.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var r;const t=ht.getItem(bt.ACTIVE_CAIP_NETWORK_ID);return(r=t==null?void 0:t.split(":"))==null?void 0:r[1]},setConnectionStatus(t){try{ht.setItem(bt.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return ht.getItem(bt.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=ht.getItem(bt.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));ht.setItem(bt.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=Be.getConnectedNamespaces();e.includes(t)||(e.push(t),Be.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=Be.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),Be.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return ht.getItem(bt.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{ht.setItem(bt.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{ht.removeItem(bt.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=ht.getItem(bt.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=Be.getBalanceCache();ht.setItem(bt.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=Be.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;Be.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=Be.getBalanceCache();e[t.caipAddress]=t,ht.setItem(bt.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=ht.getItem(bt.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=Be.getBalanceCache();ht.setItem(bt.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=Be.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),Be.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=Be.getNativeBalanceCache();e[t.caipAddress]=t,ht.setItem(bt.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=ht.getItem(bt.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=Be.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;Be.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=Be.getEnsCache();e[t.address]=t,ht.setItem(bt.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=Be.getEnsCache();ht.setItem(bt.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=ht.getItem(bt.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=Be.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;Be.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=Be.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},ht.setItem(bt.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=Be.getIdentityCache();ht.setItem(bt.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{ht.removeItem(bt.PORTFOLIO_CACHE),ht.removeItem(bt.NATIVE_BALANCE_CACHE),ht.removeItem(bt.ENS_CACHE),ht.removeItem(bt.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}}},it={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return it.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Cn.TEN_SEC_MS:!0},isAllowedRetry(t,e=Cn.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+Cn.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e){if(it.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},formatUniversalUrl(t,e){if(!it.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?Be.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window==null||window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},async preloadImage(t){const e=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,it.wait(2e3)])},formatBalance(t,e){let r="0.000";if(typeof t=="string"){const n=Number(t);if(n){const i=Math.floor(n*1e3)/1e3;i&&(r=i.toString())}}return`${r}${e?` ${e}`:""}`},formatBalance2(t,e){var n;let r;if(t==="0")r="0";else if(typeof t=="string"){const i=Number(t);i&&(r=(n=i.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:n[0])}return{value:r??"0",rest:r==="0"?"000":"",symbol:e}},getApiUrl(){return Ee.W3M_API_URL},getBlockchainApiUrl(){return Ee.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Ee.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,r;return typeof t=="string"?t:typeof((r=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:r.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((n,i)=>{r[n]=i}),e.sort((n,i)=>{const s=r[n.id],o=r[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,n]=e.split(".");return{dollars:r,pennies:n}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(n=>{const i=n[e];return r.has(i)?!1:(r.add(i),!0)})},generateSdkVersion(t,e,r){const i=t.length===0?Cn.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${r}`},createAccount(t,e,r,n,i){return{namespace:t,address:e,type:r,publicKey:n,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in Ee.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),r,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const n=t.indexOf(e);if(n===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",n),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,n+s),u=t.substring(n+s,o),l=t.substring(i),h=u+r;return a+h+l}};async function $p(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Gw{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:n,...i}){const s=this.createUrl(i);return(await $p(s,{method:"GET",headers:e,signal:r,cache:n})).json()}async getBlob({headers:e,signal:r,...n}){const i=this.createUrl(n);return(await $p(i,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await $p(s,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await $p(s,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await $p(s,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:r}){const n=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([i,s])=>{s&&n.searchParams.append(i,s)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}}const rH={handleSolanaDeeplinkRedirect(t){if(ee.state.activeChain===Ee.CHAIN.SOLANA){const e=window.location.href,r=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const n=e.startsWith("https")?"https":"http",i=e.split("/")[2],s=encodeURIComponent(`${n}://${i}`);window.location.href=`https://phantom.app/ul/browse/${r}?ref=${s}`}t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${r}`)}}},hs=Kr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),go={state:hs,subscribeNetworkImages(t){return wi(hs.networkImages,()=>t(hs.networkImages))},subscribeKey(t,e){return ns(hs,t,e)},subscribe(t){return wi(hs,()=>t(hs))},setWalletImage(t,e){hs.walletImages[t]=e},setNetworkImage(t,e){hs.networkImages[t]=e},setChainImage(t,e){hs.chainImages[t]=e},setConnectorImage(t,e){hs.connectorImages={...hs.connectorImages,[t]:e}},setTokenImage(t,e){hs.tokenImages[t]=e},setCurrencyImage(t,e){hs.currencyImages[t]=e}},nH={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},OE=Kr({networkImagePromises:{}}),UO={async fetchWalletImage(t){if(t)return await mt._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(OE.networkImagePromises[t]||(OE.networkImagePromises[t]=mt._fetchNetworkImage(t)),await OE.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return go.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return go.state.walletImages[t.image_id]},getNetworkImage(t){var e,r,n;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(r=t==null?void 0:t.assets)==null?void 0:r.imageUrl;if((n=t==null?void 0:t.assets)!=null&&n.imageId)return go.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return go.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return go.state.connectorImages[t.imageId]},getChainImage(t){return go.state.networkImages[nH[t]]}},iH={getFeatureValue(t,e){const r=e==null?void 0:e[t];return r===void 0?Cn.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(it.isTelegram()){if(it.isIos())return t.filter(e=>e!=="google");if(it.isMac())return t.filter(e=>e!=="x");if(it.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Xe=Kr({features:Cn.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Cn.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0}),_e={state:Xe,subscribeKey(t,e){return ns(Xe,t,e)},setOptions(t){Object.assign(Xe,t)},setFeatures(t){if(!t)return;Xe.features||(Xe.features=Cn.DEFAULT_FEATURES);const e={...Xe.features,...t};Xe.features=e,Xe.features.socials&&(Xe.features.socials=iH.filterSocialsByPlatform(Xe.features.socials))},setProjectId(t){Xe.projectId=t},setCustomRpcUrls(t){Xe.customRpcUrls=t},setAllWallets(t){Xe.allWallets=t},setIncludeWalletIds(t){Xe.includeWalletIds=t},setExcludeWalletIds(t){Xe.excludeWalletIds=t},setFeaturedWalletIds(t){Xe.featuredWalletIds=t},setTokens(t){Xe.tokens=t},setTermsConditionsUrl(t){Xe.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Xe.privacyPolicyUrl=t},setCustomWallets(t){Xe.customWallets=t},setIsSiweEnabled(t){Xe.isSiweEnabled=t},setIsUniversalProvider(t){Xe.isUniversalProvider=t},setSdkVersion(t){Xe.sdkVersion=t},setMetadata(t){Xe.metadata=t},setDisableAppend(t){Xe.disableAppend=t},setEIP6963Enabled(t){Xe.enableEIP6963=t},setDebug(t){Xe.debug=t},setEnableWalletConnect(t){Xe.enableWalletConnect=t},setEnableWalletGuide(t){Xe.enableWalletGuide=t},setEnableAuthLogger(t){Xe.enableAuthLogger=t},setEnableWallets(t){Xe.enableWallets=t},setHasMultipleAddresses(t){Xe.hasMultipleAddresses=t},setSIWX(t){Xe.siwx=t},setConnectMethodsOrder(t){Xe.features={...Xe.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Xe.features={...Xe.features,walletFeaturesOrder:t}},setSocialsOrder(t){Xe.features={...Xe.features,socials:t}},setCollapseWallets(t){Xe.features={...Xe.features,collapseWallets:t}},setEnableEmbedded(t){Xe.enableEmbedded=t},setAllowUnsupportedChain(t){Xe.allowUnsupportedChain=t},setManualWCControl(t){Xe.manualWCControl=t},setEnableNetworkSwitch(t){Xe.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(Xe.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){Xe.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Xe.universalProviderConfigOverride},getSnapshot(){return ed(Xe)}},Kc=Kr({message:"",variant:"info",open:!1}),Bh={state:Kc,subscribeKey(t,e){return ns(Kc,t,e)},open(t,e){const{debug:r}=_e.state,{shortMessage:n,longMessage:i}=t;r&&(Kc.message=n,Kc.variant=e,Kc.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){Kc.open=!1,Kc.message="",Kc.variant="info"}},sH=it.getAnalyticsUrl(),oH=new Gw({baseUrl:sH,clientId:null}),aH=["MODAL_CREATED"],Fa=Kr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Ir={state:Fa,subscribe(t){return wi(Fa,()=>t(Fa))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=_e.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=We.state.address;if(aH.includes(t.data.event)||typeof window>"u")return;await oH.post({path:"/e",params:Ir.getSdkProperties(),body:{eventId:it.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),Fa.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Ee.HTTP_STATUS_CODES.FORBIDDEN&&!Fa.reportedErrors.FORBIDDEN&&(Bh.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${sm()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Fa.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;Fa.timestamp=Date.now(),Fa.data=t,(e=_e.state.features)!=null&&e.analytics&&Ir._sendAnalyticsEvent(Fa)}},cH=it.getApiUrl(),ui=new Gw({baseUrl:cH,clientId:null}),lH="40",Jx="4",uH=20,nr=Kr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),mt={state:nr,subscribeKey(t,e){return ns(nr,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=_e.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return _e.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${ui.baseUrl}/getWalletImage/${t}`,r=await ui.getBlob({path:e,params:mt._getSdkProperties()});go.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${ui.baseUrl}/public/getAssetImage/${t}`,r=await ui.getBlob({path:e,params:mt._getSdkProperties()});go.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${ui.baseUrl}/public/getAssetImage/${t}`,r=await ui.getBlob({path:e,params:mt._getSdkProperties()});go.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${ui.baseUrl}/public/getCurrencyImage/${t}`,r=await ui.getBlob({path:e,params:mt._getSdkProperties()});go.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${ui.baseUrl}/public/getTokenImage/${t}`,r=await ui.getBlob({path:e,params:mt._getSdkProperties()});go.setTokenImage(t,URL.createObjectURL(r))},async fetchNetworkImages(){const t=ee.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:r})=>r==null?void 0:r.imageId).filter(Boolean).filter(r=>!UO.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>mt._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=lt.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>mt._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>mt._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>mt._fetchTokenImage(e)))},async fetchFeaturedWallets(){const{featuredWalletIds:t}=_e.state;if(t!=null&&t.length){const{data:e}=await ui.get({path:"/getWallets",params:{...mt._getSdkProperties(),page:"1",entries:t!=null&&t.length?String(t.length):Jx,include:t==null?void 0:t.join(",")}});e.sort((n,i)=>t.indexOf(n.id)-t.indexOf(i.id));const r=e.map(n=>n.image_id).filter(Boolean);await Promise.allSettled(r.map(n=>mt._fetchWalletImage(n))),nr.featured=e,nr.allFeatured=e}},async fetchRecommendedWallets(){try{nr.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=_e.state,n=[...e??[],...r??[]].filter(Boolean),i=ee.getRequestedCaipNetworkIds().join(","),{data:s,count:o}=await ui.get({path:"/getWallets",params:{...mt._getSdkProperties(),page:"1",chains:i,entries:Jx,include:t==null?void 0:t.join(","),exclude:n==null?void 0:n.join(",")}}),a=Be.getRecentWallets(),u=s.map(h=>h.image_id).filter(Boolean),l=a.map(h=>h.image_id).filter(Boolean);await Promise.allSettled([...u,...l].map(h=>mt._fetchWalletImage(h))),nr.recommended=s,nr.allRecommended=s,nr.count=o??0}catch{}finally{nr.isFetchingRecommendedWallets=!1}},async fetchWallets({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:n}=_e.state,i=ee.getRequestedCaipNetworkIds().join(","),s=[...nr.recommended.map(({id:l})=>l),...r??[],...n??[]].filter(Boolean),{data:o,count:a}=await ui.get({path:"/getWallets",params:{...mt._getSdkProperties(),page:String(t),entries:lH,chains:i,include:e==null?void 0:e.join(","),exclude:s.join(",")}}),u=o.slice(0,uH).map(l=>l.image_id).filter(Boolean);await Promise.allSettled(u.map(l=>mt._fetchWalletImage(l))),nr.wallets=it.uniqueBy([...nr.wallets,...mt._filterOutExtensions(o)],"id"),nr.count=a>nr.count?a:nr.count,nr.page=t},async initializeExcludedWallets({ids:t}){const e=ee.getRequestedCaipNetworkIds().join(","),{data:r}=await ui.get({path:"/getWallets",params:{...mt._getSdkProperties(),page:"1",entries:String(t.length),chains:e,include:t==null?void 0:t.join(",")}});r&&r.forEach(n=>{n!=null&&n.rdns&&nr.excludedWallets.push({rdns:n.rdns,name:n.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:n}=_e.state;nr.search=[];const i=ee.getRequestedCaipNetworkIds().join(","),{data:s}=await ui.get({path:"/getWallets",params:{...mt._getSdkProperties(),page:"1",entries:"100",search:t==null?void 0:t.trim(),badge_type:e,chains:i,include:r==null?void 0:r.join(","),exclude:n==null?void 0:n.join(",")}});Ir.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const o=s.map(a=>a.image_id).filter(Boolean);await Promise.allSettled([...o.map(a=>mt._fetchWalletImage(a)),it.wait(300)]),nr.search=mt._filterOutExtensions(s)},initPromise(t,e){const r=nr.promises[t];return r||(nr.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}={}){const i=[t&&mt.initPromise("connectorImages",mt.fetchConnectorImages),e&&mt.initPromise("featuredWallets",mt.fetchFeaturedWallets),r&&mt.initPromise("recommendedWallets",mt.fetchRecommendedWallets),n&&mt.initPromise("networkImages",mt.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var t;(t=_e.state.features)!=null&&t.analytics&&mt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await ui.get({path:"/getAnalyticsConfig",params:mt._getSdkProperties()});_e.setFeatures({analytics:t})}catch{_e.setFeatures({analytics:!1})}},setFilterByNamespace(t){if(!t){nr.featured=nr.allFeatured,nr.recommended=nr.allRecommended;return}const e=ee.getRequestedCaipNetworkIds().join(",");nr.featured=nr.allFeatured.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(i=>e.includes(i))}),nr.recommended=nr.allRecommended.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(i=>e.includes(i))})}},Zt=Kr({view:"Connect",history:["Connect"],transactionStack:[]}),sr={state:Zt,subscribeKey(t,e){return ns(Zt,t,e)},pushTransactionStack(t){Zt.transactionStack.push(t)},popTransactionStack(t){var r,n;const e=Zt.transactionStack.pop();if(e)if(t)this.goBack(),(r=e==null?void 0:e.onCancel)==null||r.call(e);else{if(e.goBack)this.goBack();else if(e.replace){const s=Zt.history.indexOf("ConnectingSiwe");s>0?this.goBackToIndex(s-1):(pn.close(),Zt.history=[])}else e.view&&this.reset(e.view);(n=e==null?void 0:e.onSuccess)==null||n.call(e)}},push(t,e){t!==Zt.view&&(Zt.view=t,Zt.history.push(t),Zt.data=e)},reset(t,e){Zt.view=t,Zt.history=[t],Zt.data=e},replace(t,e){Zt.history.at(-1)===t||(Zt.view=t,Zt.history[Zt.history.length-1]=t,Zt.data=e)},goBack(){var e;const t=!ee.state.activeCaipAddress&&this.state.view==="ConnectingFarcaster";if(Zt.history.length>1&&!Zt.history.includes("UnsupportedChain")){Zt.history.pop();const[r]=Zt.history.slice(-1);r&&(Zt.view=r)}else pn.close();(e=Zt.data)!=null&&e.wallet&&(Zt.data.wallet=void 0),setTimeout(()=>{var r,n,i;if(t){We.setFarcasterUrl(void 0,ee.state.activeChain);const s=lt.getAuthConnector();(r=s==null?void 0:s.provider)==null||r.reload();const o=ed(_e.state);(i=(n=s==null?void 0:s.provider)==null?void 0:n.syncDappData)==null||i.call(n,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(t){if(Zt.history.length>1){Zt.history=Zt.history.slice(0,t+1);const[e]=Zt.history.slice(-1);e&&(Zt.view=e)}}},$a=Kr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),pi={state:$a,subscribe(t){return wi($a,()=>t($a))},setThemeMode(t){$a.themeMode=t;try{const e=lt.getAuthConnector();if(e){const r=pi.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:Ya(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){$a.themeVariables={...$a.themeVariables,...t};try{const e=lt.getAuthConnector();if(e){const r=pi.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:Ya($a.themeVariables,$a.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return ed($a)}},FO={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},ir=Kr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...FO}}),lt={state:ir,subscribe(t){return wi(ir,()=>{t(ir)})},subscribeKey(t,e){return ns(ir,t,e)},initialize(t){t.forEach(e=>{const r=Be.getConnectedConnectorId(e);r&&this.setConnectorId(r,e)})},setActiveConnector(t){t&&(ir.activeConnector=td(t))},setConnectors(t){t.filter(r=>!ir.allConnectors.some(n=>n.id===r.id&&this.getConnectorName(n.name)===this.getConnectorName(r.name)&&n.chain===r.chain)).forEach(r=>{r.type!=="MULTI_CHAIN"&&ir.allConnectors.push(td(r))}),ir.connectors=this.mergeMultiChainConnectors(ir.allConnectors)},removeAdapter(t){ir.allConnectors=ir.allConnectors.filter(e=>e.chain!==t),ir.connectors=this.mergeMultiChainConnectors(ir.allConnectors)},mergeMultiChainConnectors(t){const e=this.generateConnectorMapByName(t),r=[];return e.forEach(n=>{const i=n[0],s=(i==null?void 0:i.id)===Ee.CONNECTOR_ID.AUTH;n.length>1&&i?r.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...n],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(i==null?void 0:i.id)||""}):i&&r.push(i)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:n}=r,i=this.getConnectorName(n);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===r.chain)||s.push(r),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(n=>n.chain===r.chain)||e.push(r)}),e},addConnector(t){var e,r,n;if(t.id===Ee.CONNECTOR_ID.AUTH){const i=t,s=ed(_e.state),o=pi.getSnapshot().themeMode,a=pi.getSnapshot().themeVariables;(r=(e=i==null?void 0:i.provider)==null?void 0:e.syncDappData)==null||r.call(e,{metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType}),(n=i==null?void 0:i.provider)==null||n.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Ya(a,o)}),this.setConnectors([t])}else this.setConnectors([t])},getAuthConnector(t){var n;const e=t||ee.state.activeChain,r=ir.connectors.find(i=>i.id===Ee.CONNECTOR_ID.AUTH);if(r)return(n=r==null?void 0:r.connectors)!=null&&n.length?r.connectors.find(s=>s.chain===e):r},getAnnouncedConnectorRdns(){return ir.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return ir.allConnectors.find(e=>e.id===t)},getConnector(t,e){return ir.allConnectors.filter(n=>n.chain===ee.state.activeChain).find(n=>{var i;return n.explorerId===t||((i=n.info)==null?void 0:i.rdns)===e})},syncIfAuthConnector(t){var s,o;if(t.id!=="ID_AUTH")return;const e=t,r=ed(_e.state),n=pi.getSnapshot().themeMode,i=pi.getSnapshot().themeVariables;(o=(s=e==null?void 0:e.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:Ya(i,n)})},getConnectorsByNamespace(t){const e=ir.allConnectors.filter(r=>r.chain===t);return this.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=lt.getConnector(t.id,t.rdns);ee.state.activeChain===Ee.CHAIN.SOLANA&&rH.handleSolanaDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?sr.push("ConnectingExternal",{connector:e}):sr.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?this.getConnectorsByNamespace(t):this.mergeMultiChainConnectors(ir.allConnectors)},setFilterByNamespace(t){ir.filterByNamespace=t,ir.connectors=this.getConnectors(t),mt.setFilterByNamespace(t)},setConnectorId(t,e){t&&(ir.activeConnectorIds={...ir.activeConnectorIds,[e]:t},Be.setConnectedConnectorId(e,t))},removeConnectorId(t){ir.activeConnectorIds={...ir.activeConnectorIds,[t]:void 0},Be.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return ir.activeConnectorIds[t]},isConnected(t){return t?!!ir.activeConnectorIds[t]:Object.values(ir.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){ir.activeConnectorIds={...FO}}};function Ny(t,e){return lt.getConnectorId(t)===e}function dH(t){const e=Array.from(ee.state.chains.keys());let r=[];return t?(r.push([t,ee.state.chains.get(t)]),Ny(t,Ee.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(n=>{n!==t&&Ny(n,Ee.CONNECTOR_ID.WALLET_CONNECT)&&r.push([n,ee.state.chains.get(n)])}):Ny(t,Ee.CONNECTOR_ID.AUTH)&&e.forEach(n=>{n!==t&&Ny(n,Ee.CONNECTOR_ID.AUTH)&&r.push([n,ee.state.chains.get(n)])})):r=Array.from(ee.state.chains.entries()),r}var Py={exports:{}},Zx;function hH(){if(Zx)return Py.exports;Zx=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(q,j,U){return Function.prototype.apply.call(q,j,U)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(q){return Object.getOwnPropertyNames(q).concat(Object.getOwnPropertySymbols(q))}:r=function(q){return Object.getOwnPropertyNames(q)};function n(V){console&&console.warn&&console.warn(V)}var i=Number.isNaN||function(q){return q!==q};function s(){s.init.call(this)}Py.exports=s,Py.exports.once=N,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(V){if(typeof V!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof V)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(V){if(typeof V!="number"||V<0||i(V))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+V+".");o=V}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(q){if(typeof q!="number"||q<0||i(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+q+".");return this._maxListeners=q,this};function u(V){return V._maxListeners===void 0?s.defaultMaxListeners:V._maxListeners}s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(q){for(var j=[],U=1;U<arguments.length;U++)j.push(arguments[U]);var $=q==="error",k=this._events;if(k!==void 0)$=$&&k.error===void 0;else if(!$)return!1;if($){var W;if(j.length>0&&(W=j[0]),W instanceof Error)throw W;var x=new Error("Unhandled error."+(W?" ("+W.message+")":""));throw x.context=W,x}var v=k[q];if(v===void 0)return!1;if(typeof v=="function")e(v,this,j);else for(var _=v.length,T=w(v,_),U=0;U<_;++U)e(T[U],this,j);return!0};function l(V,q,j,U){var $,k,W;if(a(j),k=V._events,k===void 0?(k=V._events=Object.create(null),V._eventsCount=0):(k.newListener!==void 0&&(V.emit("newListener",q,j.listener?j.listener:j),k=V._events),W=k[q]),W===void 0)W=k[q]=j,++V._eventsCount;else if(typeof W=="function"?W=k[q]=U?[j,W]:[W,j]:U?W.unshift(j):W.push(j),$=u(V),$>0&&W.length>$&&!W.warned){W.warned=!0;var x=new Error("Possible EventEmitter memory leak detected. "+W.length+" "+String(q)+" listeners added. Use emitter.setMaxListeners() to increase limit");x.name="MaxListenersExceededWarning",x.emitter=V,x.type=q,x.count=W.length,n(x)}return V}s.prototype.addListener=function(q,j){return l(this,q,j,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(q,j){return l(this,q,j,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(V,q,j){var U={fired:!1,wrapFn:void 0,target:V,type:q,listener:j},$=h.bind(U);return $.listener=j,U.wrapFn=$,$}s.prototype.once=function(q,j){return a(j),this.on(q,f(this,q,j)),this},s.prototype.prependOnceListener=function(q,j){return a(j),this.prependListener(q,f(this,q,j)),this},s.prototype.removeListener=function(q,j){var U,$,k,W,x;if(a(j),$=this._events,$===void 0)return this;if(U=$[q],U===void 0)return this;if(U===j||U.listener===j)--this._eventsCount===0?this._events=Object.create(null):(delete $[q],$.removeListener&&this.emit("removeListener",q,U.listener||j));else if(typeof U!="function"){for(k=-1,W=U.length-1;W>=0;W--)if(U[W]===j||U[W].listener===j){x=U[W].listener,k=W;break}if(k<0)return this;k===0?U.shift():E(U,k),U.length===1&&($[q]=U[0]),$.removeListener!==void 0&&this.emit("removeListener",q,x||j)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(q){var j,U,$;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[q]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete U[q]),this;if(arguments.length===0){var k=Object.keys(U),W;for($=0;$<k.length;++$)W=k[$],W!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(j=U[q],typeof j=="function")this.removeListener(q,j);else if(j!==void 0)for($=j.length-1;$>=0;$--)this.removeListener(q,j[$]);return this};function m(V,q,j){var U=V._events;if(U===void 0)return[];var $=U[q];return $===void 0?[]:typeof $=="function"?j?[$.listener||$]:[$]:j?C($):w($,$.length)}s.prototype.listeners=function(q){return m(this,q,!0)},s.prototype.rawListeners=function(q){return m(this,q,!1)},s.listenerCount=function(V,q){return typeof V.listenerCount=="function"?V.listenerCount(q):g.call(V,q)},s.prototype.listenerCount=g;function g(V){var q=this._events;if(q!==void 0){var j=q[V];if(typeof j=="function")return 1;if(j!==void 0)return j.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function w(V,q){for(var j=new Array(q),U=0;U<q;++U)j[U]=V[U];return j}function E(V,q){for(;q+1<V.length;q++)V[q]=V[q+1];V.pop()}function C(V){for(var q=new Array(V.length),j=0;j<q.length;++j)q[j]=V[j].listener||V[j];return q}function N(V,q){return new Promise(function(j,U){function $(W){V.removeListener(q,k),U(W)}function k(){typeof V.removeListener=="function"&&V.removeListener("error",$),j([].slice.call(arguments))}F(V,q,k,{once:!0}),q!=="error"&&D(V,$,{once:!0})})}function D(V,q,j){typeof V.on=="function"&&F(V,"error",q,j)}function F(V,q,j,U){if(typeof V.on=="function")U.once?V.once(q,j):V.on(q,j);else if(typeof V.addEventListener=="function")V.addEventListener(q,function $(k){U.once&&V.removeEventListener(q,$),j(k)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof V)}return Py.exports}var Vs=hH();const mS=pd(Vs);var kE={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var s2=function(t,e){return s2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},s2(t,e)};function fH(t,e){s2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var o2=function(){return o2=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},o2.apply(this,arguments)};function pH(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function mH(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function gH(t,e){return function(r,n){e(r,n,t)}}function yH(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function vH(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(n.next(h))}catch(f){o(f)}}function u(h){try{l(n.throw(h))}catch(f){o(f)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((n=n.apply(t,e||[])).next())})}function wH(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(h){return u([l,h])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(h){l=[6,h],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function bH(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function EH(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function a2(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $O(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function _H(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($O(arguments[e]));return t}function AH(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Qm(t){return this instanceof Qm?(this.v=t,this):new Qm(t)}function CH(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(m){n[m]&&(i[m]=function(g){return new Promise(function(w,E){s.push([m,g,w,E])>1||a(m,g)})})}function a(m,g){try{u(n[m](g))}catch(w){f(s[0][3],w)}}function u(m){m.value instanceof Qm?Promise.resolve(m.value.v).then(l,h):f(s[0][2],m)}function l(m){a("next",m)}function h(m){a("throw",m)}function f(m,g){m(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function SH(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Qm(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function IH(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof a2=="function"?a2(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}function TH(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function xH(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function NH(t){return t&&t.__esModule?t:{default:t}}function PH(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function RH(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const OH=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return o2},__asyncDelegator:SH,__asyncGenerator:CH,__asyncValues:IH,__await:Qm,__awaiter:vH,__classPrivateFieldGet:PH,__classPrivateFieldSet:RH,__createBinding:bH,__decorate:mH,__exportStar:EH,__extends:fH,__generator:wH,__importDefault:NH,__importStar:xH,__makeTemplateObject:TH,__metadata:yH,__param:gH,__read:$O,__rest:pH,__spread:_H,__spreadArrays:AH,__values:a2},Symbol.toStringTag,{value:"Module"})),Qw=kw(OH);var DE={},Bp={},Xx;function kH(){if(Xx)return Bp;Xx=1,Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return Bp.delay=t,Bp}var fu={},ME={},pu={},eN;function DH(){return eN||(eN=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.ONE_THOUSAND=pu.ONE_HUNDRED=void 0,pu.ONE_HUNDRED=100,pu.ONE_THOUSAND=1e3),pu}var LE={},tN;function MH(){return tN||(tN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(LE)),LE}var rN;function BO(){return rN||(rN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Qw;e.__exportStar(DH(),t),e.__exportStar(MH(),t)}(ME)),ME}var nN;function LH(){if(nN)return fu;nN=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.fromMiliseconds=fu.toMiliseconds=void 0;const t=BO();function e(n){return n*t.ONE_THOUSAND}fu.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return fu.fromMiliseconds=r,fu}var iN;function UH(){return iN||(iN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Qw;e.__exportStar(kH(),t),e.__exportStar(LH(),t)}(DE)),DE}var ah={},sN;function FH(){if(sN)return ah;sN=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return ah.Watch=t,ah.default=t,ah}var UE={},jp={},oN;function $H(){if(oN)return jp;oN=1,Object.defineProperty(jp,"__esModule",{value:!0}),jp.IWatch=void 0;class t{}return jp.IWatch=t,jp}var aN;function BH(){return aN||(aN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Qw.__exportStar($H(),t)}(UE)),UE}var cN;function jH(){return cN||(cN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Qw;e.__exportStar(UH(),t),e.__exportStar(FH(),t),e.__exportStar(BH(),t),e.__exportStar(BO(),t)}(kE)),kE}var xe=jH();class wd{}let VH=class extends wd{constructor(e){super()}};const lN=xe.FIVE_SECONDS,Vf={pulse:"heartbeat_pulse"};let qH=class jO extends VH{constructor(e){super(e),this.events=new Vs.EventEmitter,this.interval=lN,this.interval=(e==null?void 0:e.interval)||lN}static async init(e){const r=new jO(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),xe.toMiliseconds(this.interval))}pulse(){this.events.emit(Vf.pulse)}};const zH=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,HH=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,WH=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function KH(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){GH(t);return}return e}function GH(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Ry(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!WH.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(zH.test(t)||HH.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,KH)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function QH(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Dn(t,...e){try{return QH(t(...e))}catch(r){return Promise.reject(r)}}function YH(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function JH(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function dv(t){if(YH(t))return String(t);if(JH(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return dv(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const c2="base64:";function ZH(t){return typeof t=="string"?t:c2+tW(t)}function XH(t){return typeof t!="string"||!t.startsWith(c2)?t:eW(t.slice(c2.length))}function eW(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function tW(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Ki(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function rW(...t){return Ki(t.join(":"))}function Oy(t){return t=Ki(t),t?t+":":""}function nW(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function iW(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const sW="memory",oW=()=>{const t=new Map;return{name:sW,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function aW(t={}){const e={mounts:{"":t.driver||oW()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const h of e.mountpoints)if(l.startsWith(h))return{base:h,relativeKey:l.slice(h.length),driver:e.mounts[h]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,h)=>e.mountpoints.filter(f=>f.startsWith(l)||h&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),i=(l,h)=>{if(e.watching){h=Ki(h);for(const f of e.watchListeners)f(l,h)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await uN(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,h,f)=>{const m=new Map,g=w=>{let E=m.get(w.base);return E||(E={driver:w.driver,base:w.base,items:[]},m.set(w.base,E)),E};for(const w of l){const E=typeof w=="string",C=Ki(E?w:w.key),N=E?void 0:w.value,D=E||!w.options?h:{...h,...w.options},F=r(C);g(F).items.push({key:C,value:N,relativeKey:F.relativeKey,options:D})}return Promise.all([...m.values()].map(w=>f(w))).then(w=>w.flat())},u={hasItem(l,h={}){l=Ki(l);const{relativeKey:f,driver:m}=r(l);return Dn(m.hasItem,f,h)},getItem(l,h={}){l=Ki(l);const{relativeKey:f,driver:m}=r(l);return Dn(m.getItem,f,h).then(g=>Ry(g))},getItems(l,h={}){return a(l,h,f=>f.driver.getItems?Dn(f.driver.getItems,f.items.map(m=>({key:m.relativeKey,options:m.options})),h).then(m=>m.map(g=>({key:rW(f.base,g.key),value:Ry(g.value)}))):Promise.all(f.items.map(m=>Dn(f.driver.getItem,m.relativeKey,m.options).then(g=>({key:m.key,value:Ry(g)})))))},getItemRaw(l,h={}){l=Ki(l);const{relativeKey:f,driver:m}=r(l);return m.getItemRaw?Dn(m.getItemRaw,f,h):Dn(m.getItem,f,h).then(g=>XH(g))},async setItem(l,h,f={}){if(h===void 0)return u.removeItem(l);l=Ki(l);const{relativeKey:m,driver:g}=r(l);g.setItem&&(await Dn(g.setItem,m,dv(h),f),g.watch||i("update",l))},async setItems(l,h){await a(l,h,async f=>{if(f.driver.setItems)return Dn(f.driver.setItems,f.items.map(m=>({key:m.relativeKey,value:dv(m.value),options:m.options})),h);f.driver.setItem&&await Promise.all(f.items.map(m=>Dn(f.driver.setItem,m.relativeKey,dv(m.value),m.options)))})},async setItemRaw(l,h,f={}){if(h===void 0)return u.removeItem(l,f);l=Ki(l);const{relativeKey:m,driver:g}=r(l);if(g.setItemRaw)await Dn(g.setItemRaw,m,h,f);else if(g.setItem)await Dn(g.setItem,m,ZH(h),f);else return;g.watch||i("update",l)},async removeItem(l,h={}){typeof h=="boolean"&&(h={removeMeta:h}),l=Ki(l);const{relativeKey:f,driver:m}=r(l);m.removeItem&&(await Dn(m.removeItem,f,h),(h.removeMeta||h.removeMata)&&await Dn(m.removeItem,f+"$",h),m.watch||i("remove",l))},async getMeta(l,h={}){typeof h=="boolean"&&(h={nativeOnly:h}),l=Ki(l);const{relativeKey:f,driver:m}=r(l),g=Object.create(null);if(m.getMeta&&Object.assign(g,await Dn(m.getMeta,f,h)),!h.nativeOnly){const w=await Dn(m.getItem,f+"$",h).then(E=>Ry(E));w&&typeof w=="object"&&(typeof w.atime=="string"&&(w.atime=new Date(w.atime)),typeof w.mtime=="string"&&(w.mtime=new Date(w.mtime)),Object.assign(g,w))}return g},setMeta(l,h,f={}){return this.setItem(l+"$",h,f)},removeMeta(l,h={}){return this.removeItem(l+"$",h)},async getKeys(l,h={}){var C;l=Oy(l);const f=n(l,!0);let m=[];const g=[];let w=!0;for(const N of f){(C=N.driver.flags)!=null&&C.maxDepth||(w=!1);const D=await Dn(N.driver.getKeys,N.relativeBase,h);for(const F of D){const V=N.mountpoint+Ki(F);m.some(q=>V.startsWith(q))||g.push(V)}m=[N.mountpoint,...m.filter(F=>!F.startsWith(N.mountpoint))]}const E=h.maxDepth!==void 0&&!w;return g.filter(N=>(!E||nW(N,h.maxDepth))&&iW(N,l))},async clear(l,h={}){l=Oy(l),await Promise.all(n(l,!1).map(async f=>{if(f.driver.clear)return Dn(f.driver.clear,f.relativeBase,h);if(f.driver.removeItem){const m=await f.driver.getKeys(f.relativeBase||"",h);return Promise.all(m.map(g=>f.driver.removeItem(g,h)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>dN(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(h=>h!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,h){if(l=Oy(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((f,m)=>m.length-f.length)),e.mounts[l]=h,e.watching&&Promise.resolve(uN(h,i,l)).then(f=>{e.unwatch[l]=f}).catch(console.error),u},async unmount(l,h=!0){var f,m;l=Oy(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((m=(f=e.unwatch)[l])==null||m.call(f),delete e.unwatch[l]),h&&await dN(e.mounts[l]),e.mountpoints=e.mountpoints.filter(g=>g!==l),delete e.mounts[l])},getMount(l=""){l=Ki(l)+":";const h=r(l);return{driver:h.driver,base:h.base}},getMounts(l="",h={}){return l=Ki(l),n(l,h.parents).map(m=>({driver:m.driver,base:m.mountpoint}))},keys:(l,h={})=>u.getKeys(l,h),get:(l,h={})=>u.getItem(l,h),set:(l,h,f={})=>u.setItem(l,h,f),has:(l,h={})=>u.hasItem(l,h),del:(l,h={})=>u.removeItem(l,h),remove:(l,h={})=>u.removeItem(l,h)};return u}function uN(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function dN(t){typeof t.dispose=="function"&&await Dn(t.dispose)}function bd(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function VO(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=bd(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let FE;function zg(){return FE||(FE=VO("keyval-store","keyval")),FE}function hN(t,e=zg()){return e("readonly",r=>bd(r.get(t)))}function cW(t,e,r=zg()){return r("readwrite",n=>(n.put(e,t),bd(n.transaction)))}function lW(t,e=zg()){return e("readwrite",r=>(r.delete(t),bd(r.transaction)))}function uW(t=zg()){return t("readwrite",e=>(e.clear(),bd(e.transaction)))}function dW(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},bd(t.transaction)}function hW(t=zg()){return t("readonly",e=>{if(e.getAllKeys)return bd(e.getAllKeys());const r=[];return dW(e,n=>r.push(n.key)).then(()=>r)})}const fW=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),pW=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function rd(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return pW(t)}catch{return t}}function oc(t){return typeof t=="string"?t:fW(t)||""}const mW="idb-keyval";var gW=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=VO(t.dbName,t.storeName)),{name:mW,options:t,async hasItem(i){return!(typeof await hN(r(i),n)>"u")},async getItem(i){return await hN(r(i),n)??null},setItem(i,s){return cW(r(i),s,n)},removeItem(i){return lW(r(i),n)},getKeys(){return hW(n)},clear(){return uW(n)}}};const yW="WALLET_CONNECT_V2_INDEXED_DB",vW="keyvaluestorage";let wW=class{constructor(){this.indexedDb=aW({driver:gW({dbName:yW,storeName:vW})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,oc(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var $E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hv={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof $E<"u"&&$E.localStorage?hv.exports=$E.localStorage:typeof window<"u"&&window.localStorage?hv.exports=window.localStorage:hv.exports=new e})();function bW(t){var e;return[t[0],rd((e=t[1])!=null?e:"")]}let EW=class{constructor(){this.localStorage=hv.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(bW)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return rd(r)}async setItem(e,r){this.localStorage.setItem(e,oc(r))}async removeItem(e){this.localStorage.removeItem(e)}};const _W="wc_storage_version",fN=1,AW=async(t,e,r)=>{const n=_W,i=await e.getItem(n);if(i&&i>=fN){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const u=a.toLowerCase();if(u.includes("wc@")||u.includes("walletconnect")||u.includes("wc_")||u.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,fN),r(e),CW(t,o)},CW=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let SW=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new EW;this.storage=e;try{const r=new wW;AW(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var BE,pN;function IW(){if(pN)return BE;pN=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}BE=e;function e(r,n,i){var s=i&&i.stringify||t,o=1;if(typeof r=="object"&&r!==null){var a=n.length+o;if(a===1)return r;var u=new Array(a);u[0]=s(r);for(var l=1;l<a;l++)u[l]=s(n[l]);return u.join(" ")}if(typeof r!="string")return r;var h=n.length;if(h===0)return r;for(var f="",m=1-o,g=-1,w=r&&r.length||0,E=0;E<w;){if(r.charCodeAt(E)===37&&E+1<w){switch(g=g>-1?g:0,r.charCodeAt(E+1)){case 100:case 102:if(m>=h||n[m]==null)break;g<E&&(f+=r.slice(g,E)),f+=Number(n[m]),g=E+2,E++;break;case 105:if(m>=h||n[m]==null)break;g<E&&(f+=r.slice(g,E)),f+=Math.floor(Number(n[m])),g=E+2,E++;break;case 79:case 111:case 106:if(m>=h||n[m]===void 0)break;g<E&&(f+=r.slice(g,E));var C=typeof n[m];if(C==="string"){f+="'"+n[m]+"'",g=E+2,E++;break}if(C==="function"){f+=n[m].name||"<anonymous>",g=E+2,E++;break}f+=s(n[m]),g=E+2,E++;break;case 115:if(m>=h)break;g<E&&(f+=r.slice(g,E)),f+=String(n[m]),g=E+2,E++;break;case 37:g<E&&(f+=r.slice(g,E)),f+="%",g=E+2,E++,m--;break}++m}++E}return g===-1?r:(g<w&&(f+=r.slice(g)),f)}return BE}var jE,mN;function TW(){if(mN)return jE;mN=1;const t=IW();jE=i;const e=q().console||{},r={mapHttpRequest:w,mapHttpResponse:w,wrapRequestSerializer:E,wrapResponseSerializer:E,wrapErrorSerializer:E,req:w,res:w,err:m};function n(j,U){return Array.isArray(j)?j.filter(function(k){return k!=="!stdSerializers.err"}):j===!0?Object.keys(U):!1}function i(j){j=j||{},j.browser=j.browser||{};const U=j.browser.transmit;if(U&&typeof U.send!="function")throw Error("pino: transmit option must have a send function");const $=j.browser.write||e;j.browser.write&&(j.browser.asObject=!0);const k=j.serializers||{},W=n(j.browser.serialize,k);let x=j.browser.serialize;Array.isArray(j.browser.serialize)&&j.browser.serialize.indexOf("!stdSerializers.err")>-1&&(x=!1);const v=["error","fatal","warn","info","debug","trace"];typeof $=="function"&&($.error=$.fatal=$.warn=$.info=$.debug=$.trace=$),j.enabled===!1&&(j.level="silent");const _=j.level||"info",T=Object.create($);T.log||(T.log=C),Object.defineProperty(T,"levelVal",{get:P}),Object.defineProperty(T,"level",{get:M,set:z});const I={transmit:U,serialize:W,asObject:j.browser.asObject,levels:v,timestamp:g(j)};T.levels=i.levels,T.level=_,T.setMaxListeners=T.getMaxListeners=T.emit=T.addListener=T.on=T.prependListener=T.once=T.prependOnceListener=T.removeListener=T.removeAllListeners=T.listeners=T.listenerCount=T.eventNames=T.write=T.flush=C,T.serializers=k,T._serialize=W,T._stdErrSerialize=x,T.child=B,U&&(T._logEvent=f());function P(){return this.level==="silent"?1/0:this.levels.values[this.level]}function M(){return this._level}function z(A){if(A!=="silent"&&!this.levels.values[A])throw Error("unknown level "+A);this._level=A,s(I,T,"error","log"),s(I,T,"fatal","error"),s(I,T,"warn","error"),s(I,T,"info","log"),s(I,T,"debug","log"),s(I,T,"trace","log")}function B(A,L){if(!A)throw new Error("missing bindings for child Pino");L=L||{},W&&A.serializers&&(L.serializers=A.serializers);const J=L.serializers;if(W&&J){var re=Object.assign({},k,J),ie=j.browser.serialize===!0?Object.keys(re):W;delete A.serializers,u([A],ie,re,this._stdErrSerialize)}function de(pe){this._childLevel=(pe._childLevel|0)+1,this.error=l(pe,A,"error"),this.fatal=l(pe,A,"fatal"),this.warn=l(pe,A,"warn"),this.info=l(pe,A,"info"),this.debug=l(pe,A,"debug"),this.trace=l(pe,A,"trace"),re&&(this.serializers=re,this._serialize=ie),U&&(this._logEvent=f([].concat(pe._logEvent.bindings,A)))}return de.prototype=this,new de(this)}return T}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:N,epochTime:D,unixTime:F,isoTime:V});function s(j,U,$,k){const W=Object.getPrototypeOf(U);U[$]=U.levelVal>U.levels.values[$]?C:W[$]?W[$]:e[$]||e[k]||C,o(j,U,$)}function o(j,U,$){!j.transmit&&U[$]===C||(U[$]=function(k){return function(){const x=j.timestamp(),v=new Array(arguments.length),_=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var T=0;T<v.length;T++)v[T]=arguments[T];if(j.serialize&&!j.asObject&&u(v,this._serialize,this.serializers,this._stdErrSerialize),j.asObject?k.call(_,a(this,$,v,x)):k.apply(_,v),j.transmit){const I=j.transmit.level||U.level,P=i.levels.values[I],M=i.levels.values[$];if(M<P)return;h(this,{ts:x,methodLevel:$,methodValue:M,transmitValue:i.levels.values[j.transmit.level||U.level],send:j.transmit.send,val:U.levelVal},v)}}}(U[$]))}function a(j,U,$,k){j._serialize&&u($,j._serialize,j.serializers,j._stdErrSerialize);const W=$.slice();let x=W[0];const v={};k&&(v.time=k),v.level=i.levels.values[U];let _=(j._childLevel|0)+1;if(_<1&&(_=1),x!==null&&typeof x=="object"){for(;_--&&typeof W[0]=="object";)Object.assign(v,W.shift());x=W.length?t(W.shift(),W):void 0}else typeof x=="string"&&(x=t(W.shift(),W));return x!==void 0&&(v.msg=x),v}function u(j,U,$,k){for(const W in j)if(k&&j[W]instanceof Error)j[W]=i.stdSerializers.err(j[W]);else if(typeof j[W]=="object"&&!Array.isArray(j[W]))for(const x in j[W])U&&U.indexOf(x)>-1&&x in $&&(j[W][x]=$[x](j[W][x]))}function l(j,U,$){return function(){const k=new Array(1+arguments.length);k[0]=U;for(var W=1;W<k.length;W++)k[W]=arguments[W-1];return j[$].apply(this,k)}}function h(j,U,$){const k=U.send,W=U.ts,x=U.methodLevel,v=U.methodValue,_=U.val,T=j._logEvent.bindings;u($,j._serialize||Object.keys(j.serializers),j.serializers,j._stdErrSerialize===void 0?!0:j._stdErrSerialize),j._logEvent.ts=W,j._logEvent.messages=$.filter(function(I){return T.indexOf(I)===-1}),j._logEvent.level.label=x,j._logEvent.level.value=v,k(x,j._logEvent,_),j._logEvent=f(T)}function f(j){return{ts:0,messages:[],bindings:j||[],level:{label:"",value:0}}}function m(j){const U={type:j.constructor.name,msg:j.message,stack:j.stack};for(const $ in j)U[$]===void 0&&(U[$]=j[$]);return U}function g(j){return typeof j.timestamp=="function"?j.timestamp:j.timestamp===!1?N:D}function w(){return{}}function E(j){return j}function C(){}function N(){return!1}function D(){return Date.now()}function F(){return Math.round(Date.now()/1e3)}function V(){return new Date(Date.now()).toISOString()}function q(){function j(U){return typeof U<"u"&&U}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return j(self)||j(window)||j(this)||{}}}return jE}var Ih=TW();const Hg=pd(Ih),xW={level:"info"},Wg="custom_context",gS=1e3*1024;let NW=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},gN=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new NW(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},qO=class{constructor(e,r=gS){this.level=e??"error",this.levelValue=Ih.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new gN(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Ih.levels.values.error?console.error(e):r===Ih.levels.values.warn?console.warn(e):r===Ih.levels.values.debug?console.debug(e):r===Ih.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(oc({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new gN(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(oc({extraMetadata:e})),new Blob(r,{type:"application/json"})}},PW=class{constructor(e,r=gS){this.baseChunkLogger=new qO(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},RW=class{constructor(e,r=gS){this.baseChunkLogger=new qO(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var OW=Object.defineProperty,kW=Object.defineProperties,DW=Object.getOwnPropertyDescriptors,yN=Object.getOwnPropertySymbols,MW=Object.prototype.hasOwnProperty,LW=Object.prototype.propertyIsEnumerable,vN=(t,e,r)=>e in t?OW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Kv=(t,e)=>{for(var r in e||(e={}))MW.call(e,r)&&vN(t,r,e[r]);if(yN)for(var r of yN(e))LW.call(e,r)&&vN(t,r,e[r]);return t},Gv=(t,e)=>kW(t,DW(e));function qf(t){return Gv(Kv({},t),{level:(t==null?void 0:t.level)||xW.level})}function UW(t,e=Wg){return t[e]||""}function FW(t,e,r=Wg){return t[r]=e,t}function is(t,e=Wg){let r="";return typeof t.bindings>"u"?r=UW(t,e):r=t.bindings().context||"",r}function $W(t,e,r=Wg){const n=is(t,r);return n.trim()?`${n}/${e}`:e}function Ei(t,e,r=Wg){const n=$W(t,e,r),i=t.child({context:n});return FW(i,n,r)}function BW(t){var e,r;const n=new PW((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Hg(Gv(Kv({},t.opts),{level:"trace",browser:Gv(Kv({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function jW(t){var e;const r=new RW((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Hg(Gv(Kv({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function yS(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?BW(t):jW(t)}var VW=Object.defineProperty,qW=(t,e,r)=>e in t?VW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wN=(t,e,r)=>qW(t,typeof e!="symbol"?e+"":e,r);let zW=class extends wd{constructor(e){super(),this.opts=e,wN(this,"protocol","wc"),wN(this,"version",2)}};var HW=Object.defineProperty,WW=(t,e,r)=>e in t?HW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,KW=(t,e,r)=>WW(t,e+"",r);let GW=class extends wd{constructor(e,r){super(),this.core=e,this.logger=r,KW(this,"records",new Map)}},QW=class{constructor(e,r){this.logger=e,this.core=r}},YW=class extends wd{constructor(e,r){super(),this.relayer=e,this.logger=r}},JW=class extends wd{constructor(e){super()}},ZW=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},XW=class extends wd{constructor(e,r){super(),this.relayer=e,this.logger=r}},eK=class extends wd{constructor(e,r){super(),this.core=e,this.logger=r}},tK=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},rK=class{constructor(e,r){this.projectId=e,this.logger=r}},nK=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var iK=Object.defineProperty,sK=(t,e,r)=>e in t?iK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bN=(t,e,r)=>sK(t,typeof e!="symbol"?e+"":e,r);let oK=class{constructor(e){this.opts=e,bN(this,"protocol","wc"),bN(this,"version",2)}},aK=class{constructor(e){this.client=e}};function cK(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function zO(t,...e){if(!cK(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function EN(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function lK(t,e){zO(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const ch=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const VE=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function uK(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function HO(t){return typeof t=="string"&&(t=uK(t)),zO(t),t}let dK=class{clone(){return this._cloneInto()}};function hK(t){const e=n=>t().update(HO(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function WO(t=32){if(ch&&typeof ch.getRandomValues=="function")return ch.getRandomValues(new Uint8Array(t));if(ch&&typeof ch.randomBytes=="function")return ch.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function fK(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,l=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+l,a,n)}let pK=class extends dK{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=VE(this.buffer)}update(e){EN(this);const{view:r,buffer:n,blockLen:i}=this;e=HO(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=VE(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){EN(this),lK(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;fK(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=VE(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,h=this.get();if(l>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,h[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const ky=BigInt(2**32-1),l2=BigInt(32);function KO(t,e=!1){return e?{h:Number(t&ky),l:Number(t>>l2&ky)}:{h:Number(t>>l2&ky)|0,l:Number(t&ky)|0}}function mK(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=KO(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const gK=(t,e)=>BigInt(t>>>0)<<l2|BigInt(e>>>0),yK=(t,e,r)=>t>>>r,vK=(t,e,r)=>t<<32-r|e>>>r,wK=(t,e,r)=>t>>>r|e<<32-r,bK=(t,e,r)=>t<<32-r|e>>>r,EK=(t,e,r)=>t<<64-r|e>>>r-32,_K=(t,e,r)=>t>>>r-32|e<<64-r,AK=(t,e)=>e,CK=(t,e)=>t,SK=(t,e,r)=>t<<r|e>>>32-r,IK=(t,e,r)=>e<<r|t>>>32-r,TK=(t,e,r)=>e<<r-32|t>>>64-r,xK=(t,e,r)=>t<<r-32|e>>>64-r;function NK(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const PK=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),RK=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,OK=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),kK=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,DK=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),MK=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,pt={fromBig:KO,split:mK,toBig:gK,shrSH:yK,shrSL:vK,rotrSH:wK,rotrSL:bK,rotrBH:EK,rotrBL:_K,rotr32H:AK,rotr32L:CK,rotlSH:SK,rotlSL:IK,rotlBH:TK,rotlBL:xK,add:NK,add3L:PK,add3H:RK,add4L:OK,add4H:kK,add5H:MK,add5L:DK},[LK,UK]=pt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Gc=new Uint32Array(80),Qc=new Uint32Array(80);let FK=class extends pK{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:u,Eh:l,El:h,Fh:f,Fl:m,Gh:g,Gl:w,Hh:E,Hl:C}=this;return[e,r,n,i,s,o,a,u,l,h,f,m,g,w,E,C]}set(e,r,n,i,s,o,a,u,l,h,f,m,g,w,E,C){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=l|0,this.El=h|0,this.Fh=f|0,this.Fl=m|0,this.Gh=g|0,this.Gl=w|0,this.Hh=E|0,this.Hl=C|0}process(e,r){for(let F=0;F<16;F++,r+=4)Gc[F]=e.getUint32(r),Qc[F]=e.getUint32(r+=4);for(let F=16;F<80;F++){const V=Gc[F-15]|0,q=Qc[F-15]|0,j=pt.rotrSH(V,q,1)^pt.rotrSH(V,q,8)^pt.shrSH(V,q,7),U=pt.rotrSL(V,q,1)^pt.rotrSL(V,q,8)^pt.shrSL(V,q,7),$=Gc[F-2]|0,k=Qc[F-2]|0,W=pt.rotrSH($,k,19)^pt.rotrBH($,k,61)^pt.shrSH($,k,6),x=pt.rotrSL($,k,19)^pt.rotrBL($,k,61)^pt.shrSL($,k,6),v=pt.add4L(U,x,Qc[F-7],Qc[F-16]),_=pt.add4H(v,j,W,Gc[F-7],Gc[F-16]);Gc[F]=_|0,Qc[F]=v|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:u,Dh:l,Dl:h,Eh:f,El:m,Fh:g,Fl:w,Gh:E,Gl:C,Hh:N,Hl:D}=this;for(let F=0;F<80;F++){const V=pt.rotrSH(f,m,14)^pt.rotrSH(f,m,18)^pt.rotrBH(f,m,41),q=pt.rotrSL(f,m,14)^pt.rotrSL(f,m,18)^pt.rotrBL(f,m,41),j=f&g^~f&E,U=m&w^~m&C,$=pt.add5L(D,q,U,UK[F],Qc[F]),k=pt.add5H($,N,V,j,LK[F],Gc[F]),W=$|0,x=pt.rotrSH(n,i,28)^pt.rotrBH(n,i,34)^pt.rotrBH(n,i,39),v=pt.rotrSL(n,i,28)^pt.rotrBL(n,i,34)^pt.rotrBL(n,i,39),_=n&s^n&a^s&a,T=i&o^i&u^o&u;N=E|0,D=C|0,E=g|0,C=w|0,g=f|0,w=m|0,{h:f,l:m}=pt.add(l|0,h|0,k|0,W|0),l=a|0,h=u|0,a=s|0,u=o|0,s=n|0,o=i|0;const I=pt.add3L(W,v,T);n=pt.add3H(I,k,x,_),i=I|0}({h:n,l:i}=pt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=pt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:u}=pt.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:l,l:h}=pt.add(this.Dh|0,this.Dl|0,l|0,h|0),{h:f,l:m}=pt.add(this.Eh|0,this.El|0,f|0,m|0),{h:g,l:w}=pt.add(this.Fh|0,this.Fl|0,g|0,w|0),{h:E,l:C}=pt.add(this.Gh|0,this.Gl|0,E|0,C|0),{h:N,l:D}=pt.add(this.Hh|0,this.Hl|0,N|0,D|0),this.set(n,i,s,o,a,u,l,h,f,m,g,w,E,C,N,D)}roundClean(){Gc.fill(0),Qc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const $K=hK(()=>new FK);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vS=BigInt(0),GO=BigInt(1),BK=BigInt(2);function wS(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function bS(t){if(!wS(t))throw new Error("Uint8Array expected")}function qE(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const jK=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ES(t){bS(t);let e="";for(let r=0;r<t.length;r++)e+=jK[t[r]];return e}function QO(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?vS:BigInt("0x"+t)}const Ba={_0:48,_9:57,A:65,F:70,a:97,f:102};function _N(t){if(t>=Ba._0&&t<=Ba._9)return t-Ba._0;if(t>=Ba.A&&t<=Ba.F)return t-(Ba.A-10);if(t>=Ba.a&&t<=Ba.f)return t-(Ba.a-10)}function YO(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=_N(t.charCodeAt(s)),a=_N(t.charCodeAt(s+1));if(o===void 0||a===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=o*16+a}return n}function VK(t){return QO(ES(t))}function fv(t){return bS(t),QO(ES(Uint8Array.from(t).reverse()))}function JO(t,e){return YO(t.toString(16).padStart(e*2,"0"))}function u2(t,e){return JO(t,e).reverse()}function ja(t,e,r){let n;if(typeof e=="string")try{n=YO(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(wS(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function AN(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];bS(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const zE=t=>typeof t=="bigint"&&vS<=t;function qK(t,e,r){return zE(t)&&zE(e)&&zE(r)&&e<=t&&t<r}function Vp(t,e,r,n){if(!qK(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function zK(t){let e;for(e=0;t>vS;t>>=GO,e+=1);return e}const HK=t=>(BK<<BigInt(t-1))-GO,WK={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||wS(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function _S(t,e,r={}){const n=(i,s,o)=>{const a=WK[s];if(typeof a!="function")throw new Error("invalid validator function");const u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+u)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function CN(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const $n=BigInt(0),an=BigInt(1),Cu=BigInt(2),KK=BigInt(3),d2=BigInt(4),SN=BigInt(5),IN=BigInt(8);function En(t,e){const r=t%e;return r>=$n?r:e+r}function GK(t,e,r){if(e<$n)throw new Error("invalid exponent, negatives unsupported");if(r<=$n)throw new Error("invalid modulus");if(r===an)return $n;let n=an;for(;e>$n;)e&an&&(n=n*t%r),t=t*t%r,e>>=an;return n}function Bo(t,e,r){let n=t;for(;e-- >$n;)n*=n,n%=r;return n}function TN(t,e){if(t===$n)throw new Error("invert: expected non-zero number");if(e<=$n)throw new Error("invert: expected positive modulus, got "+e);let r=En(t,e),n=e,i=$n,s=an;for(;r!==$n;){const o=n/r,a=n%r,u=i-s*o;n=r,r=a,i=s,s=u}if(n!==an)throw new Error("invert: does not exist");return En(i,e)}function QK(t){const e=(t-an)/Cu;let r,n,i;for(r=t-an,n=0;r%Cu===$n;r/=Cu,n++);for(i=Cu;i<t&&GK(i,e,t)!==t-an;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+an)/d2;return function(a,u){const l=a.pow(u,o);if(!a.eql(a.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(r+an)/Cu;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let u=n,l=o.pow(o.mul(o.ONE,i),r),h=o.pow(a,s),f=o.pow(a,r);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let m=1;for(let w=o.sqr(f);m<u&&!o.eql(w,o.ONE);m++)w=o.sqr(w);const g=o.pow(l,an<<BigInt(u-m-1));l=o.sqr(g),h=o.mul(h,g),f=o.mul(f,l),u=m}return h}}function YK(t){if(t%d2===KK){const e=(t+an)/d2;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%IN===SN){const e=(t-SN)/IN;return function(r,n){const i=r.mul(n,Cu),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,Cu),s),u=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(u),n))throw new Error("Cannot find square root");return u}}return QK(t)}const JK=(t,e)=>(En(t,e)&an)===an,ZK=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function XK(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ZK.reduce((n,i)=>(n[i]="function",n),e);return _S(t,r)}function eG(t,e,r){if(r<$n)throw new Error("invalid exponent, negatives unsupported");if(r===$n)return t.ONE;if(r===an)return e;let n=t.ONE,i=e;for(;r>$n;)r&an&&(n=t.mul(n,i)),i=t.sqr(i),r>>=an;return n}function tG(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function ZO(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function XO(t,e,r=!1,n={}){if(t<=$n)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=ZO(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:HK(i),ZERO:$n,ONE:an,create:u=>En(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return $n<=u&&u<t},is0:u=>u===$n,isOdd:u=>(u&an)===an,neg:u=>En(-u,t),eql:(u,l)=>u===l,sqr:u=>En(u*u,t),add:(u,l)=>En(u+l,t),sub:(u,l)=>En(u-l,t),mul:(u,l)=>En(u*l,t),pow:(u,l)=>eG(a,u,l),div:(u,l)=>En(u*TN(l,t),t),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>TN(u,t),sqrt:n.sqrt||(u=>(o||(o=YK(t)),o(a,u))),invertBatch:u=>tG(a,u),cmov:(u,l,h)=>h?l:u,toBytes:u=>r?u2(u,s):JO(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return r?fv(u):VK(u)}});return Object.freeze(a)}const xN=BigInt(0),Dy=BigInt(1);function HE(t,e){const r=e.negate();return t?r:e}function e9(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function WE(t,e){e9(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function rG(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function nG(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const KE=new WeakMap,t9=new WeakMap;function GE(t){return t9.get(t)||1}function iG(t,e){return{constTimeNegate:HE,hasPrecomputes(r){return GE(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>xN;)n&Dy&&(i=i.add(s)),s=s.double(),n>>=Dy;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=WE(n,e),o=[];let a=r,u=a;for(let l=0;l<i;l++){u=a,o.push(u);for(let h=1;h<s;h++)u=u.add(a),o.push(u);a=u.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=WE(r,e);let a=t.ZERO,u=t.BASE;const l=BigInt(2**r-1),h=2**r,f=BigInt(r);for(let m=0;m<s;m++){const g=m*o;let w=Number(i&l);i>>=f,w>o&&(w-=h,i+=Dy);const E=g,C=g+Math.abs(w)-1,N=m%2!==0,D=w<0;w===0?u=u.add(HE(N,n[E])):a=a.add(HE(D,n[C]))}return{p:a,f:u}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=WE(r,e),u=BigInt(2**r-1),l=2**r,h=BigInt(r);for(let f=0;f<o;f++){const m=f*a;if(i===xN)break;let g=Number(i&u);if(i>>=h,g>a&&(g-=l,i+=Dy),g===0)continue;let w=n[m+Math.abs(g)-1];g<0&&(w=w.negate()),s=s.add(w)}return s},getPrecomputes(r,n,i){let s=KE.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&KE.set(n,i(s))),s},wNAFCached(r,n,i){const s=GE(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=GE(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){e9(n,e),t9.set(r,n),KE.delete(r)}}}function sG(t,e,r,n){if(rG(r,t),nG(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=zK(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,u=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let h=i;for(let f=l;f>=0;f-=o){u.fill(i);for(let g=0;g<n.length;g++){const w=n[g],E=Number(w>>BigInt(f)&BigInt(a));u[E]=u[E].add(r[g])}let m=i;for(let g=u.length-1,w=i;g>0;g--)w=w.add(u[g]),m=m.add(w);if(h=h.add(m),f!==0)for(let g=0;g<o;g++)h=h.double()}return h}function oG(t){return XK(t.Fp),_S(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ZO(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const oo=BigInt(0),qi=BigInt(1),My=BigInt(2),aG=BigInt(8),cG={zip215:!0};function lG(t){const e=oG(t);return _S(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function uG(t){const e=lG(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:u}=e,l=My<<BigInt(a*8)-qi,h=r.create,f=XO(e.n,e.nBitLength),m=e.uvRatio||((I,P)=>{try{return{isValid:!0,value:r.sqrt(I*r.inv(P))}}catch{return{isValid:!1,value:oo}}}),g=e.adjustScalarBytes||(I=>I),w=e.domain||((I,P,M)=>{if(qE("phflag",M),P.length||M)throw new Error("Contexts/pre-hash are not supported");return I});function E(I,P){Vp("coordinate "+I,P,oo,l)}function C(I){if(!(I instanceof F))throw new Error("ExtendedPoint expected")}const N=CN((I,P)=>{const{ex:M,ey:z,ez:B}=I,A=I.is0();P==null&&(P=A?aG:r.inv(B));const L=h(M*P),J=h(z*P),re=h(B*P);if(A)return{x:oo,y:qi};if(re!==qi)throw new Error("invZ was invalid");return{x:L,y:J}}),D=CN(I=>{const{a:P,d:M}=e;if(I.is0())throw new Error("bad point: ZERO");const{ex:z,ey:B,ez:A,et:L}=I,J=h(z*z),re=h(B*B),ie=h(A*A),de=h(ie*ie),pe=h(J*P),Ae=h(ie*h(pe+re)),De=h(de+h(M*h(J*re)));if(Ae!==De)throw new Error("bad point: equation left != right (1)");const Ie=h(z*B),ze=h(A*L);if(Ie!==ze)throw new Error("bad point: equation left != right (2)");return!0});class F{constructor(P,M,z,B){this.ex=P,this.ey=M,this.ez=z,this.et=B,E("x",P),E("y",M),E("z",z),E("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(P){if(P instanceof F)throw new Error("extended point not allowed");const{x:M,y:z}=P||{};return E("x",M),E("y",z),new F(M,z,qi,h(M*z))}static normalizeZ(P){const M=r.invertBatch(P.map(z=>z.ez));return P.map((z,B)=>z.toAffine(M[B])).map(F.fromAffine)}static msm(P,M){return sG(F,f,P,M)}_setWindowSize(P){j.setWindowSize(this,P)}assertValidity(){D(this)}equals(P){C(P);const{ex:M,ey:z,ez:B}=this,{ex:A,ey:L,ez:J}=P,re=h(M*J),ie=h(A*B),de=h(z*J),pe=h(L*B);return re===ie&&de===pe}is0(){return this.equals(F.ZERO)}negate(){return new F(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:P}=e,{ex:M,ey:z,ez:B}=this,A=h(M*M),L=h(z*z),J=h(My*h(B*B)),re=h(P*A),ie=M+z,de=h(h(ie*ie)-A-L),pe=re+L,Ae=pe-J,De=re-L,Ie=h(de*Ae),ze=h(pe*De),ar=h(de*De),yt=h(Ae*pe);return new F(Ie,ze,yt,ar)}add(P){C(P);const{a:M,d:z}=e,{ex:B,ey:A,ez:L,et:J}=this,{ex:re,ey:ie,ez:de,et:pe}=P;if(M===BigInt(-1)){const Lt=h((A-B)*(ie+re)),Tn=h((A+B)*(ie-re)),At=h(Tn-Lt);if(At===oo)return this.double();const Ft=h(L*My*pe),_i=h(J*My*de),St=_i+Ft,Rt=Tn+Lt,cr=_i-Ft,st=h(St*At),$t=h(Rt*cr),Co=h(St*cr),Kt=h(At*Rt);return new F(st,$t,Kt,Co)}const Ae=h(B*re),De=h(A*ie),Ie=h(J*z*pe),ze=h(L*de),ar=h((B+A)*(re+ie)-Ae-De),yt=ze-Ie,dt=ze+Ie,Gr=h(De-M*Ae),_t=h(ar*yt),Pt=h(dt*Gr),ii=h(ar*Gr),Qt=h(yt*dt);return new F(_t,Pt,Qt,ii)}subtract(P){return this.add(P.negate())}wNAF(P){return j.wNAFCached(this,P,F.normalizeZ)}multiply(P){const M=P;Vp("scalar",M,qi,n);const{p:z,f:B}=this.wNAF(M);return F.normalizeZ([z,B])[0]}multiplyUnsafe(P,M=F.ZERO){const z=P;return Vp("scalar",z,oo,n),z===oo?q:this.is0()||z===qi?this:j.wNAFCachedUnsafe(this,z,F.normalizeZ,M)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return j.unsafeLadder(this,n).is0()}toAffine(P){return N(this,P)}clearCofactor(){const{h:P}=e;return P===qi?this:this.multiplyUnsafe(P)}static fromHex(P,M=!1){const{d:z,a:B}=e,A=r.BYTES;P=ja("pointHex",P,A),qE("zip215",M);const L=P.slice(),J=P[A-1];L[A-1]=J&-129;const re=fv(L),ie=M?l:r.ORDER;Vp("pointHex.y",re,oo,ie);const de=h(re*re),pe=h(de-qi),Ae=h(z*de-B);let{isValid:De,value:Ie}=m(pe,Ae);if(!De)throw new Error("Point.fromHex: invalid y coordinate");const ze=(Ie&qi)===qi,ar=(J&128)!==0;if(!M&&Ie===oo&&ar)throw new Error("Point.fromHex: x=0 and x_0=1");return ar!==ze&&(Ie=h(-Ie)),F.fromAffine({x:Ie,y:re})}static fromPrivateKey(P){return k(P).point}toRawBytes(){const{x:P,y:M}=this.toAffine(),z=u2(M,r.BYTES);return z[z.length-1]|=P&qi?128:0,z}toHex(){return ES(this.toRawBytes())}}F.BASE=new F(e.Gx,e.Gy,qi,h(e.Gx*e.Gy)),F.ZERO=new F(oo,qi,qi,oo);const{BASE:V,ZERO:q}=F,j=iG(F,a*8);function U(I){return En(I,n)}function $(I){return U(fv(I))}function k(I){const P=r.BYTES;I=ja("private key",I,P);const M=ja("hashed private key",s(I),2*P),z=g(M.slice(0,P)),B=M.slice(P,2*P),A=$(z),L=V.multiply(A),J=L.toRawBytes();return{head:z,prefix:B,scalar:A,point:L,pointBytes:J}}function W(I){return k(I).pointBytes}function x(I=new Uint8Array,...P){const M=AN(...P);return $(s(w(M,ja("context",I),!!i)))}function v(I,P,M={}){I=ja("message",I),i&&(I=i(I));const{prefix:z,scalar:B,pointBytes:A}=k(P),L=x(M.context,z,I),J=V.multiply(L).toRawBytes(),re=x(M.context,J,A,I),ie=U(L+re*B);Vp("signature.s",ie,oo,n);const de=AN(J,u2(ie,r.BYTES));return ja("result",de,r.BYTES*2)}const _=cG;function T(I,P,M,z=_){const{context:B,zip215:A}=z,L=r.BYTES;I=ja("signature",I,2*L),P=ja("message",P),M=ja("publicKey",M,L),A!==void 0&&qE("zip215",A),i&&(P=i(P));const J=fv(I.slice(L,2*L));let re,ie,de;try{re=F.fromHex(M,A),ie=F.fromHex(I.slice(0,L),A),de=V.multiplyUnsafe(J)}catch{return!1}if(!A&&re.isSmallOrder())return!1;const pe=x(B,ie.toRawBytes(),re.toRawBytes(),P);return ie.add(re.multiplyUnsafe(pe)).subtract(de).clearCofactor().equals(F.ZERO)}return V._setWindowSize(8),{CURVE:e,getPublicKey:W,sign:v,verify:T,ExtendedPoint:F,utils:{getExtendedPublicKey:k,randomPrivateKey:()=>o(r.BYTES),precompute(I=8,P=F.BASE){return P._setWindowSize(I),P.multiply(BigInt(3)),P}}}}BigInt(0),BigInt(1);const AS=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),NN=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const dG=BigInt(1),PN=BigInt(2);BigInt(3);const hG=BigInt(5),fG=BigInt(8);function pG(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=AS,o=t*t%s*t%s,a=Bo(o,PN,s)*o%s,u=Bo(a,dG,s)*t%s,l=Bo(u,hG,s)*u%s,h=Bo(l,e,s)*l%s,f=Bo(h,r,s)*h%s,m=Bo(f,n,s)*f%s,g=Bo(m,i,s)*m%s,w=Bo(g,i,s)*m%s,E=Bo(w,e,s)*l%s;return{pow_p_5_8:Bo(E,PN,s)*t%s,b2:o}}function mG(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function gG(t,e){const r=AS,n=En(e*e*e,r),i=En(n*n*e,r),s=pG(t*i).pow_p_5_8;let o=En(t*n*s,r);const a=En(e*o*o,r),u=o,l=En(o*NN,r),h=a===t,f=a===En(-t,r),m=a===En(-t*NN,r);return h&&(o=u),(f||m)&&(o=l),JK(o,r)&&(o=En(-o,r)),{isValid:h||f,value:o}}const yG=XO(AS,void 0,!0),vG={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:yG,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:fG,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:$K,randomBytes:WO,adjustScalarBytes:mG,uvRatio:gG},r9=uG(vG),wG="EdDSA",bG="JWT",Qv=".",Yw="base64url",n9="utf8",i9="utf8",EG=":",_G="did",AG="key",RN="base58btc",CG="z",SG="K36",IG=32;function CS(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function s9(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?CS(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function o9(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=s9(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return CS(r)}function TG(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,u=t.charAt(0),l=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function f(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var E=0,C=0,N=0,D=w.length;N!==D&&w[N]===0;)N++,E++;for(var F=(D-N)*h+1>>>0,V=new Uint8Array(F);N!==D;){for(var q=w[N],j=0,U=F-1;(q!==0||j<C)&&U!==-1;U--,j++)q+=256*V[U]>>>0,V[U]=q%a>>>0,q=q/a>>>0;if(q!==0)throw new Error("Non-zero carry");C=j,N++}for(var $=F-C;$!==F&&V[$]===0;)$++;for(var k=u.repeat(E);$<F;++$)k+=t.charAt(V[$]);return k}function m(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var E=0;if(w[E]!==" "){for(var C=0,N=0;w[E]===u;)C++,E++;for(var D=(w.length-E)*l+1>>>0,F=new Uint8Array(D);w[E];){var V=r[w.charCodeAt(E)];if(V===255)return;for(var q=0,j=D-1;(V!==0||q<N)&&j!==-1;j--,q++)V+=a*F[j]>>>0,F[j]=V%256>>>0,V=V/256>>>0;if(V!==0)throw new Error("Non-zero carry");N=q,E++}if(w[E]!==" "){for(var U=D-N;U!==D&&F[U]===0;)U++;for(var $=new Uint8Array(C+(D-U)),k=C;U!==D;)$[k++]=F[U++];return $}}}function g(w){var E=m(w);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:m,decode:g}}var xG=TG,NG=xG;const a9=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},PG=t=>new TextEncoder().encode(t),RG=t=>new TextDecoder().decode(t);let OG=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},kG=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return c9(this,e)}},DG=class{constructor(e){this.decoders=e}or(e){return c9(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const c9=(t,e)=>new DG({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let MG=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new OG(e,r,n),this.decoder=new kG(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Jw=({name:t,prefix:e,encode:r,decode:n})=>new MG(t,e,r,n),Kg=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=NG(r,e);return Jw({prefix:t,name:e,encode:n,decode:s=>a9(i(s))})},LG=(t,e,r,n)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,u=0,l=0;for(let h=0;h<s;++h){const f=i[t[h]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},UG=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},ti=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Jw({prefix:e,name:t,encode(i){return UG(i,n,r)},decode(i){return LG(i,n,r,t)}}),FG=Jw({prefix:"\0",name:"identity",encode:t=>RG(t),decode:t=>PG(t)});var $G=Object.freeze({__proto__:null,identity:FG});const BG=ti({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var jG=Object.freeze({__proto__:null,base2:BG});const VG=ti({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var qG=Object.freeze({__proto__:null,base8:VG});const zG=Kg({prefix:"9",name:"base10",alphabet:"0123456789"});var HG=Object.freeze({__proto__:null,base10:zG});const WG=ti({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),KG=ti({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var GG=Object.freeze({__proto__:null,base16:WG,base16upper:KG});const QG=ti({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),YG=ti({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),JG=ti({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ZG=ti({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),XG=ti({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eQ=ti({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tQ=ti({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),rQ=ti({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),nQ=ti({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var iQ=Object.freeze({__proto__:null,base32:QG,base32upper:YG,base32pad:JG,base32padupper:ZG,base32hex:XG,base32hexupper:eQ,base32hexpad:tQ,base32hexpadupper:rQ,base32z:nQ});const sQ=Kg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),oQ=Kg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var aQ=Object.freeze({__proto__:null,base36:sQ,base36upper:oQ});const cQ=Kg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lQ=Kg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var uQ=Object.freeze({__proto__:null,base58btc:cQ,base58flickr:lQ});const dQ=ti({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),hQ=ti({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),fQ=ti({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),pQ=ti({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var mQ=Object.freeze({__proto__:null,base64:dQ,base64pad:hQ,base64url:fQ,base64urlpad:pQ});const l9=Array.from(""),gQ=l9.reduce((t,e,r)=>(t[r]=e,t),[]),yQ=l9.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function vQ(t){return t.reduce((e,r)=>(e+=gQ[r],e),"")}function wQ(t){const e=[];for(const r of t){const n=yQ[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const bQ=Jw({prefix:"",name:"base256emoji",encode:vQ,decode:wQ});var EQ=Object.freeze({__proto__:null,base256emoji:bQ}),_Q=u9,ON=128,AQ=-128,CQ=Math.pow(2,31);function u9(t,e,r){e=e||[],r=r||0;for(var n=r;t>=CQ;)e[r++]=t&255|ON,t/=128;for(;t&AQ;)e[r++]=t&255|ON,t>>>=7;return e[r]=t|0,u9.bytes=r-n+1,e}var SQ=h2,IQ=128,kN=127;function h2(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw h2.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&kN)<<i:(o&kN)*Math.pow(2,i),i+=7}while(o>=IQ);return h2.bytes=s-n,r}var TQ=Math.pow(2,7),xQ=Math.pow(2,14),NQ=Math.pow(2,21),PQ=Math.pow(2,28),RQ=Math.pow(2,35),OQ=Math.pow(2,42),kQ=Math.pow(2,49),DQ=Math.pow(2,56),MQ=Math.pow(2,63),LQ=function(t){return t<TQ?1:t<xQ?2:t<NQ?3:t<PQ?4:t<RQ?5:t<OQ?6:t<kQ?7:t<DQ?8:t<MQ?9:10},UQ={encode:_Q,decode:SQ,encodingLength:LQ},d9=UQ;const DN=(t,e,r=0)=>(d9.encode(t,e,r),e),MN=t=>d9.encodingLength(t),f2=(t,e)=>{const r=e.byteLength,n=MN(t),i=n+MN(r),s=new Uint8Array(i+r);return DN(t,s,0),DN(r,s,n),s.set(e,i),new FQ(t,r,e,s)};let FQ=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const h9=({name:t,code:e,encode:r})=>new $Q(t,e,r);let $Q=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?f2(this.code,r):r.then(n=>f2(this.code,n))}else throw Error("Unknown type, must be binary type")}};const f9=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),BQ=h9({name:"sha2-256",code:18,encode:f9("SHA-256")}),jQ=h9({name:"sha2-512",code:19,encode:f9("SHA-512")});var VQ=Object.freeze({__proto__:null,sha256:BQ,sha512:jQ});const p9=0,qQ="identity",m9=a9,zQ=t=>f2(p9,m9(t)),HQ={code:p9,name:qQ,encode:m9,digest:zQ};var WQ=Object.freeze({__proto__:null,identity:HQ});new TextEncoder,new TextDecoder;const LN={...$G,...jG,...qG,...HG,...GG,...iQ,...aQ,...uQ,...mQ,...EQ};({...VQ,...WQ});function g9(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const UN=g9("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),QE=g9("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=s9(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),y9={utf8:UN,"utf-8":UN,hex:LN.base16,latin1:QE,ascii:QE,binary:QE,...LN};function Zw(t,e="utf8"){const r=y9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function zf(t,e="utf8"){const r=y9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?CS(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function FN(t){return rd(Zw(zf(t,Yw),n9))}function Yv(t){return Zw(zf(oc(t),n9),Yw)}function v9(t){const e=zf(SG,RN),r=CG+Zw(o9([e,t]),RN);return[_G,AG,r].join(EG)}function KQ(t){return Zw(t,Yw)}function GQ(t){return zf(t,Yw)}function QQ(t){return zf([Yv(t.header),Yv(t.payload)].join(Qv),i9)}function YQ(t){return[Yv(t.header),Yv(t.payload),KQ(t.signature)].join(Qv)}function p2(t){const e=t.split(Qv),r=FN(e[0]),n=FN(e[1]),i=GQ(e[2]),s=zf(e.slice(0,2).join(Qv),i9);return{header:r,payload:n,signature:i,data:s}}function $N(t=WO(IG)){const e=r9.getPublicKey(t);return{secretKey:o9([t,e]),publicKey:e}}async function JQ(t,e,r,n,i=xe.fromMiliseconds(Date.now())){const s={alg:wG,typ:bG},o=v9(n.publicKey),a=i+r,u={iss:o,sub:t,aud:e,iat:i,exp:a},l=QQ({header:s,payload:u}),h=r9.sign(l,n.secretKey.slice(0,32));return YQ({header:s,payload:u,signature:h})}var BN=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},ZQ=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),XQ=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),eY=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),tY=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),rY=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),nY=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,iY=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,jN=3,sY=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",nY]],VN=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function oY(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new rY:typeof navigator<"u"?cY(navigator.userAgent):uY()}function aY(t){return t!==""&&sY.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function cY(t){var e=aY(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new tY;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<jN&&(i=BN(BN([],i,!0),dY(jN-i.length),!0)):i=[];var s=i.join("."),o=lY(t),a=iY.exec(t);return a&&a[1]?new eY(r,s,o,a[1]):new ZQ(r,s,o)}function lY(t){for(var e=0,r=VN.length;e<r;e++){var n=VN[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function uY(){var t=typeof process<"u"&&process.version;return t?new XQ(process.version.slice(1)):null}function dY(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var _r={},qN;function w9(){if(qN)return _r;qN=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.getLocalStorage=_r.getLocalStorageOrThrow=_r.getCrypto=_r.getCryptoOrThrow=_r.getLocation=_r.getLocationOrThrow=_r.getNavigator=_r.getNavigatorOrThrow=_r.getDocument=_r.getDocumentOrThrow=_r.getFromWindowOrThrow=_r.getFromWindow=void 0;function t(m){let g;return typeof window<"u"&&typeof window[m]<"u"&&(g=window[m]),g}_r.getFromWindow=t;function e(m){const g=t(m);if(!g)throw new Error(`${m} is not defined in Window`);return g}_r.getFromWindowOrThrow=e;function r(){return e("document")}_r.getDocumentOrThrow=r;function n(){return t("document")}_r.getDocument=n;function i(){return e("navigator")}_r.getNavigatorOrThrow=i;function s(){return t("navigator")}_r.getNavigator=s;function o(){return e("location")}_r.getLocationOrThrow=o;function a(){return t("location")}_r.getLocation=a;function u(){return e("crypto")}_r.getCryptoOrThrow=u;function l(){return t("crypto")}_r.getCrypto=l;function h(){return e("localStorage")}_r.getLocalStorageOrThrow=h;function f(){return t("localStorage")}return _r.getLocalStorage=f,_r}var nd=w9(),qp={},zN;function hY(){if(zN)return qp;zN=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.getWindowMetadata=void 0;const t=w9();function e(){let r,n;try{r=t.getDocumentOrThrow(),n=t.getLocationOrThrow()}catch{return null}function i(){const g=r.getElementsByTagName("link"),w=[];for(let E=0;E<g.length;E++){const C=g[E],N=C.getAttribute("rel");if(N&&N.toLowerCase().indexOf("icon")>-1){const D=C.getAttribute("href");if(D)if(D.toLowerCase().indexOf("https:")===-1&&D.toLowerCase().indexOf("http:")===-1&&D.indexOf("//")!==0){let F=n.protocol+"//"+n.host;if(D.indexOf("/")===0)F+=D;else{const V=n.pathname.split("/");V.pop();const q=V.join("/");F+=q+"/"+D}w.push(F)}else if(D.indexOf("//")===0){const F=n.protocol+D;w.push(F)}else w.push(D)}}return w}function s(...g){const w=r.getElementsByTagName("meta");for(let E=0;E<w.length;E++){const C=w[E],N=["itemprop","property","name"].map(D=>C.getAttribute(D)).filter(D=>D?g.includes(D):!1);if(N.length&&N){const D=C.getAttribute("content");if(D)return D}}return""}function o(){let g=s("name","og:site_name","og:title","twitter:title");return g||(g=r.title),g}function a(){return s("description","og:description","twitter:description","keywords")}const u=o(),l=a(),h=n.origin,f=i();return{description:l,url:h,icons:f,name:u}}return qp.getWindowMetadata=e,qp}var fY=hY();function Ym(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function HN(t){return Ym(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const b9="2.23.2";let zp={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${b9}`};class id extends Error{constructor(e,r={}){var a;const n=(()=>{var u;return r.cause instanceof id?r.cause.details:(u=r.cause)!=null&&u.message?r.cause.message:r.details})(),i=r.cause instanceof id&&r.cause.docsPath||r.docsPath,s=(a=zp.getDocsUrl)==null?void 0:a.call(zp,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...zp.version?[`Version: ${zp.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=b9}walk(e){return E9(this,e)}}function E9(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?E9(t.cause,e):e?null:t}class _9 extends id{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function Hf(t,{dir:e,size:r=32}={}){return typeof t=="string"?pY(t,{dir:e,size:r}):mY(t,{dir:e,size:r})}function pY(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new _9({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function mY(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new _9({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class gY extends id{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class yY extends id{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Wf(t,{size:e}){if(HN(t)>e)throw new yY({givenSize:HN(t),maxSize:e})}function m2(t,e={}){const{signed:r}=e;e.size&&Wf(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function vY(t,e={}){return Number(m2(t,e))}const wY=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function g2(t,e={}){return typeof t=="number"||typeof t=="bigint"?C9(t,e):typeof t=="string"?_Y(t,e):typeof t=="boolean"?bY(t,e):A9(t,e)}function bY(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Wf(r,{size:e.size}),Hf(r,{size:e.size})):r}function A9(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=wY[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(Wf(n,{size:e.size}),Hf(n,{dir:"right",size:e.size})):n}function C9(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const u=typeof t=="bigint"?"n":"";throw new gY({max:s?`${s}${u}`:void 0,min:`${o}${u}`,signed:r,size:n,value:`${t}${u}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Hf(a,{size:n}):a}const EY=new TextEncoder;function _Y(t,e={}){const r=EY.encode(t);return A9(r,e)}const AY=new TextEncoder;function CY(t,e={}){return typeof t=="number"||typeof t=="bigint"?IY(t,e):typeof t=="boolean"?SY(t,e):Ym(t)?S9(t,e):I9(t,e)}function SY(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Wf(r,{size:e.size}),Hf(r,{size:e.size})):r}const Va={zero:48,nine:57,A:65,F:70,a:97,f:102};function WN(t){if(t>=Va.zero&&t<=Va.nine)return t-Va.zero;if(t>=Va.A&&t<=Va.F)return t-(Va.A-10);if(t>=Va.a&&t<=Va.f)return t-(Va.a-10)}function S9(t,e={}){let r=t;e.size&&(Wf(r,{size:e.size}),r=Hf(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const u=WN(n.charCodeAt(a++)),l=WN(n.charCodeAt(a++));if(u===void 0||l===void 0)throw new id(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=u*16+l}return s}function IY(t,e){const r=C9(t,e);return S9(r)}function I9(t,e={}){const r=AY.encode(t);return typeof e.size=="number"?(Wf(r,{size:e.size}),Hf(r,{dir:"right",size:e.size})):r}function T9(t,e){const r=e||"hex",n=o8(Ym(t,{strict:!1})?CY(t):t);return r==="bytes"?n:g2(n)}class TY extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const YE=new TY(8192);function xY(t,e){if(YE.has(`${t}.${e}`))return YE.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=T9(I9(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return YE.set(`${t}.${e}`,s),s}function NY(t){const e=T9(`0x${t.substring(4)}`).substring(26);return xY(`0x${e}`)}async function PY({hash:t,signature:e}){const r=Ym(t)?t:g2(t),{secp256k1:n}=await Ji(async()=>{const{secp256k1:o}=await import("./secp256k1-WK3nkxTV.js");return{secp256k1:o}},__vite__mapDeps([2,1]));return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:h,v:f,yParity:m}=e,g=Number(m??f),w=KN(g);return new n.Signature(m2(l),m2(h)).addRecoveryBit(w)}const o=Ym(e)?e:g2(e),a=vY(`0x${o.slice(130)}`),u=KN(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(u)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function KN(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function RY({hash:t,signature:e}){return NY(await PY({hash:t,signature:e}))}function OY(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const h=t.charAt(l),f=h.charCodeAt(0);if(e[f]!==255)throw new TypeError(h+" is ambiguous");e[f]=l}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let h=0,f=0,m=0;const g=l.length;for(;m!==g&&l[m]===0;)m++,h++;const w=(g-m)*s+1>>>0,E=new Uint8Array(w);for(;m!==g;){let D=l[m],F=0;for(let V=w-1;(D!==0||F<f)&&V!==-1;V--,F++)D+=256*E[V]>>>0,E[V]=D%r>>>0,D=D/r>>>0;if(D!==0)throw new Error("Non-zero carry");f=F,m++}let C=w-f;for(;C!==w&&E[C]===0;)C++;let N=n.repeat(h);for(;C<w;++C)N+=t.charAt(E[C]);return N}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let h=0,f=0,m=0;for(;l[h]===n;)f++,h++;const g=(l.length-h)*i+1>>>0,w=new Uint8Array(g);for(;h<l.length;){const D=l.charCodeAt(h);if(D>255)return;let F=e[D];if(F===255)return;let V=0;for(let q=g-1;(F!==0||V<m)&&q!==-1;q--,V++)F+=r*w[q]>>>0,w[q]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");m=V,h++}let E=g-m;for(;E!==g&&w[E]===0;)E++;const C=new Uint8Array(f+(g-E));let N=f;for(;E!==g;)C[N++]=w[E++];return C}function u(l){const h=a(l);if(h)return h;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:u}}var kY="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const x9=OY(kY);function N9(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function JE(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=N9(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function DY(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,u=t.charAt(0),l=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function f(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var E=0,C=0,N=0,D=w.length;N!==D&&w[N]===0;)N++,E++;for(var F=(D-N)*h+1>>>0,V=new Uint8Array(F);N!==D;){for(var q=w[N],j=0,U=F-1;(q!==0||j<C)&&U!==-1;U--,j++)q+=256*V[U]>>>0,V[U]=q%a>>>0,q=q/a>>>0;if(q!==0)throw new Error("Non-zero carry");C=j,N++}for(var $=F-C;$!==F&&V[$]===0;)$++;for(var k=u.repeat(E);$<F;++$)k+=t.charAt(V[$]);return k}function m(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var E=0;if(w[E]!==" "){for(var C=0,N=0;w[E]===u;)C++,E++;for(var D=(w.length-E)*l+1>>>0,F=new Uint8Array(D);w[E];){var V=r[w.charCodeAt(E)];if(V===255)return;for(var q=0,j=D-1;(V!==0||q<N)&&j!==-1;j--,q++)V+=a*F[j]>>>0,F[j]=V%256>>>0,V=V/256>>>0;if(V!==0)throw new Error("Non-zero carry");N=q,E++}if(w[E]!==" "){for(var U=D-N;U!==D&&F[U]===0;)U++;for(var $=new Uint8Array(C+(D-U)),k=C;U!==D;)$[k++]=F[U++];return $}}}function g(w){var E=m(w);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:m,decode:g}}var MY=DY,LY=MY;const UY=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},FY=t=>new TextEncoder().encode(t),$Y=t=>new TextDecoder().decode(t);class BY{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class jY{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return P9(this,e)}}class VY{constructor(e){this.decoders=e}or(e){return P9(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const P9=(t,e)=>new VY({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class qY{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new BY(e,r,n),this.decoder=new jY(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Xw=({name:t,prefix:e,encode:r,decode:n})=>new qY(t,e,r,n),Gg=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=LY(r,e);return Xw({prefix:t,name:e,encode:n,decode:s=>UY(i(s))})},zY=(t,e,r,n)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,u=0,l=0;for(let h=0;h<s;++h){const f=i[t[h]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},HY=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},ri=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Xw({prefix:e,name:t,encode(i){return HY(i,n,r)},decode(i){return zY(i,n,r,t)}}),WY=Xw({prefix:"\0",name:"identity",encode:t=>$Y(t),decode:t=>FY(t)}),KY=Object.freeze(Object.defineProperty({__proto__:null,identity:WY},Symbol.toStringTag,{value:"Module"})),GY=ri({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),QY=Object.freeze(Object.defineProperty({__proto__:null,base2:GY},Symbol.toStringTag,{value:"Module"})),YY=ri({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),JY=Object.freeze(Object.defineProperty({__proto__:null,base8:YY},Symbol.toStringTag,{value:"Module"})),ZY=Gg({prefix:"9",name:"base10",alphabet:"0123456789"}),XY=Object.freeze(Object.defineProperty({__proto__:null,base10:ZY},Symbol.toStringTag,{value:"Module"})),eJ=ri({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),tJ=ri({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),rJ=Object.freeze(Object.defineProperty({__proto__:null,base16:eJ,base16upper:tJ},Symbol.toStringTag,{value:"Module"})),nJ=ri({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),iJ=ri({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),sJ=ri({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),oJ=ri({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),aJ=ri({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),cJ=ri({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),lJ=ri({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),uJ=ri({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),dJ=ri({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),hJ=Object.freeze(Object.defineProperty({__proto__:null,base32:nJ,base32hex:aJ,base32hexpad:lJ,base32hexpadupper:uJ,base32hexupper:cJ,base32pad:sJ,base32padupper:oJ,base32upper:iJ,base32z:dJ},Symbol.toStringTag,{value:"Module"})),fJ=Gg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),pJ=Gg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),mJ=Object.freeze(Object.defineProperty({__proto__:null,base36:fJ,base36upper:pJ},Symbol.toStringTag,{value:"Module"})),gJ=Gg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),yJ=Gg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),vJ=Object.freeze(Object.defineProperty({__proto__:null,base58btc:gJ,base58flickr:yJ},Symbol.toStringTag,{value:"Module"})),wJ=ri({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),bJ=ri({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),EJ=ri({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),_J=ri({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),AJ=Object.freeze(Object.defineProperty({__proto__:null,base64:wJ,base64pad:bJ,base64url:EJ,base64urlpad:_J},Symbol.toStringTag,{value:"Module"})),R9=Array.from(""),CJ=R9.reduce((t,e,r)=>(t[r]=e,t),[]),SJ=R9.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function IJ(t){return t.reduce((e,r)=>(e+=CJ[r],e),"")}function TJ(t){const e=[];for(const r of t){const n=SJ[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const xJ=Xw({prefix:"",name:"base256emoji",encode:IJ,decode:TJ}),NJ=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:xJ},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const GN={...KY,...QY,...JY,...XY,...rJ,...hJ,...mJ,...vJ,...AJ,...NJ};function O9(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const QN=O9("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ZE=O9("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=N9(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),k9={utf8:QN,"utf-8":QN,hex:GN.base16,latin1:ZE,ascii:ZE,binary:ZE,...GN};function $s(t,e="utf8"){const r=k9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function Oi(t,e="utf8"){const r=k9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var XE={};const PJ="6.6.1",RJ={version:PJ};var e_={},pv={exports:{}};const OJ={},kJ=Object.freeze(Object.defineProperty({__proto__:null,default:OJ},Symbol.toStringTag,{value:"Module"})),D9=kw(kJ);var DJ=pv.exports,YN;function pc(){return YN||(YN=1,function(t){(function(e,r){function n(x,v){if(!x)throw new Error(v||"Assertion failed")}function i(x,v){x.super_=v;var _=function(){};_.prototype=v.prototype,x.prototype=new _,x.prototype.constructor=x}function s(x,v,_){if(s.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((v==="le"||v==="be")&&(_=v,v=10),this._init(x||0,v||10,_||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=D9.Buffer}catch{}s.isBN=function(v){return v instanceof s?!0:v!==null&&typeof v=="object"&&v.constructor.wordSize===s.wordSize&&Array.isArray(v.words)},s.max=function(v,_){return v.cmp(_)>0?v:_},s.min=function(v,_){return v.cmp(_)<0?v:_},s.prototype._init=function(v,_,T){if(typeof v=="number")return this._initNumber(v,_,T);if(typeof v=="object")return this._initArray(v,_,T);_==="hex"&&(_=16),n(_===(_|0)&&_>=2&&_<=36),v=v.toString().replace(/\s+/g,"");var I=0;v[0]==="-"&&(I++,this.negative=1),I<v.length&&(_===16?this._parseHex(v,I,T):(this._parseBase(v,_,I),T==="le"&&this._initArray(this.toArray(),_,T)))},s.prototype._initNumber=function(v,_,T){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[v&67108863],this.length=1):v<4503599627370496?(this.words=[v&67108863,v/67108864&67108863],this.length=2):(n(v<9007199254740992),this.words=[v&67108863,v/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),_,T)},s.prototype._initArray=function(v,_,T){if(n(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var P,M,z=0;if(T==="be")for(I=v.length-1,P=0;I>=0;I-=3)M=v[I]|v[I-1]<<8|v[I-2]<<16,this.words[P]|=M<<z&67108863,this.words[P+1]=M>>>26-z&67108863,z+=24,z>=26&&(z-=26,P++);else if(T==="le")for(I=0,P=0;I<v.length;I+=3)M=v[I]|v[I+1]<<8|v[I+2]<<16,this.words[P]|=M<<z&67108863,this.words[P+1]=M>>>26-z&67108863,z+=24,z>=26&&(z-=26,P++);return this.strip()};function a(x,v){var _=x.charCodeAt(v);return _>=65&&_<=70?_-55:_>=97&&_<=102?_-87:_-48&15}function u(x,v,_){var T=a(x,_);return _-1>=v&&(T|=a(x,_-1)<<4),T}s.prototype._parseHex=function(v,_,T){this.length=Math.ceil((v.length-_)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var P=0,M=0,z;if(T==="be")for(I=v.length-1;I>=_;I-=2)z=u(v,_,I)<<P,this.words[M]|=z&67108863,P>=18?(P-=18,M+=1,this.words[M]|=z>>>26):P+=8;else{var B=v.length-_;for(I=B%2===0?_+1:_;I<v.length;I+=2)z=u(v,_,I)<<P,this.words[M]|=z&67108863,P>=18?(P-=18,M+=1,this.words[M]|=z>>>26):P+=8}this.strip()};function l(x,v,_,T){for(var I=0,P=Math.min(x.length,_),M=v;M<P;M++){var z=x.charCodeAt(M)-48;I*=T,z>=49?I+=z-49+10:z>=17?I+=z-17+10:I+=z}return I}s.prototype._parseBase=function(v,_,T){this.words=[0],this.length=1;for(var I=0,P=1;P<=67108863;P*=_)I++;I--,P=P/_|0;for(var M=v.length-T,z=M%I,B=Math.min(M,M-z)+T,A=0,L=T;L<B;L+=I)A=l(v,L,L+I,_),this.imuln(P),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A);if(z!==0){var J=1;for(A=l(v,L,v.length,_),L=0;L<z;L++)J*=_;this.imuln(J),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A)}this.strip()},s.prototype.copy=function(v){v.words=new Array(this.length);for(var _=0;_<this.length;_++)v.words[_]=this.words[_];v.length=this.length,v.negative=this.negative,v.red=this.red},s.prototype.clone=function(){var v=new s(null);return this.copy(v),v},s.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(v,_){v=v||10,_=_|0||1;var T;if(v===16||v==="hex"){T="";for(var I=0,P=0,M=0;M<this.length;M++){var z=this.words[M],B=((z<<I|P)&16777215).toString(16);P=z>>>24-I&16777215,I+=2,I>=26&&(I-=26,M--),P!==0||M!==this.length-1?T=h[6-B.length]+B+T:T=B+T}for(P!==0&&(T=P.toString(16)+T);T.length%_!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(v===(v|0)&&v>=2&&v<=36){var A=f[v],L=m[v];T="";var J=this.clone();for(J.negative=0;!J.isZero();){var re=J.modn(L).toString(v);J=J.idivn(L),J.isZero()?T=re+T:T=h[A-re.length]+re+T}for(this.isZero()&&(T="0"+T);T.length%_!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=this.words[1]*67108864:this.length===3&&this.words[2]===1?v+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(v,_){return n(typeof o<"u"),this.toArrayLike(o,v,_)},s.prototype.toArray=function(v,_){return this.toArrayLike(Array,v,_)},s.prototype.toArrayLike=function(v,_,T){var I=this.byteLength(),P=T||Math.max(1,I);n(I<=P,"byte array longer than desired length"),n(P>0,"Requested array length <= 0"),this.strip();var M=_==="le",z=new v(P),B,A,L=this.clone();if(M){for(A=0;!L.isZero();A++)B=L.andln(255),L.iushrn(8),z[A]=B;for(;A<P;A++)z[A]=0}else{for(A=0;A<P-I;A++)z[A]=0;for(A=0;!L.isZero();A++)B=L.andln(255),L.iushrn(8),z[P-A-1]=B}return z},Math.clz32?s.prototype._countBits=function(v){return 32-Math.clz32(v)}:s.prototype._countBits=function(v){var _=v,T=0;return _>=4096&&(T+=13,_>>>=13),_>=64&&(T+=7,_>>>=7),_>=8&&(T+=4,_>>>=4),_>=2&&(T+=2,_>>>=2),T+_},s.prototype._zeroBits=function(v){if(v===0)return 26;var _=v,T=0;return(_&8191)===0&&(T+=13,_>>>=13),(_&127)===0&&(T+=7,_>>>=7),(_&15)===0&&(T+=4,_>>>=4),(_&3)===0&&(T+=2,_>>>=2),(_&1)===0&&T++,T},s.prototype.bitLength=function(){var v=this.words[this.length-1],_=this._countBits(v);return(this.length-1)*26+_};function g(x){for(var v=new Array(x.bitLength()),_=0;_<v.length;_++){var T=_/26|0,I=_%26;v[_]=(x.words[T]&1<<I)>>>I}return v}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,_=0;_<this.length;_++){var T=this._zeroBits(this.words[_]);if(v+=T,T!==26)break}return v},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},s.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var _=0;_<v.length;_++)this.words[_]=this.words[_]|v.words[_];return this.strip()},s.prototype.ior=function(v){return n((this.negative|v.negative)===0),this.iuor(v)},s.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},s.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},s.prototype.iuand=function(v){var _;this.length>v.length?_=v:_=this;for(var T=0;T<_.length;T++)this.words[T]=this.words[T]&v.words[T];return this.length=_.length,this.strip()},s.prototype.iand=function(v){return n((this.negative|v.negative)===0),this.iuand(v)},s.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},s.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},s.prototype.iuxor=function(v){var _,T;this.length>v.length?(_=this,T=v):(_=v,T=this);for(var I=0;I<T.length;I++)this.words[I]=_.words[I]^T.words[I];if(this!==_)for(;I<_.length;I++)this.words[I]=_.words[I];return this.length=_.length,this.strip()},s.prototype.ixor=function(v){return n((this.negative|v.negative)===0),this.iuxor(v)},s.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},s.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},s.prototype.inotn=function(v){n(typeof v=="number"&&v>=0);var _=Math.ceil(v/26)|0,T=v%26;this._expand(_),T>0&&_--;for(var I=0;I<_;I++)this.words[I]=~this.words[I]&67108863;return T>0&&(this.words[I]=~this.words[I]&67108863>>26-T),this.strip()},s.prototype.notn=function(v){return this.clone().inotn(v)},s.prototype.setn=function(v,_){n(typeof v=="number"&&v>=0);var T=v/26|0,I=v%26;return this._expand(T+1),_?this.words[T]=this.words[T]|1<<I:this.words[T]=this.words[T]&~(1<<I),this.strip()},s.prototype.iadd=function(v){var _;if(this.negative!==0&&v.negative===0)return this.negative=0,_=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,_=this.isub(v),v.negative=1,_._normSign();var T,I;this.length>v.length?(T=this,I=v):(T=v,I=this);for(var P=0,M=0;M<I.length;M++)_=(T.words[M]|0)+(I.words[M]|0)+P,this.words[M]=_&67108863,P=_>>>26;for(;P!==0&&M<T.length;M++)_=(T.words[M]|0)+P,this.words[M]=_&67108863,P=_>>>26;if(this.length=T.length,P!==0)this.words[this.length]=P,this.length++;else if(T!==this)for(;M<T.length;M++)this.words[M]=T.words[M];return this},s.prototype.add=function(v){var _;return v.negative!==0&&this.negative===0?(v.negative=0,_=this.sub(v),v.negative^=1,_):v.negative===0&&this.negative!==0?(this.negative=0,_=v.sub(this),this.negative=1,_):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},s.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var _=this.iadd(v);return v.negative=1,_._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var T=this.cmp(v);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,P;T>0?(I=this,P=v):(I=v,P=this);for(var M=0,z=0;z<P.length;z++)_=(I.words[z]|0)-(P.words[z]|0)+M,M=_>>26,this.words[z]=_&67108863;for(;M!==0&&z<I.length;z++)_=(I.words[z]|0)+M,M=_>>26,this.words[z]=_&67108863;if(M===0&&z<I.length&&I!==this)for(;z<I.length;z++)this.words[z]=I.words[z];return this.length=Math.max(this.length,z),I!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(v){return this.clone().isub(v)};function w(x,v,_){_.negative=v.negative^x.negative;var T=x.length+v.length|0;_.length=T,T=T-1|0;var I=x.words[0]|0,P=v.words[0]|0,M=I*P,z=M&67108863,B=M/67108864|0;_.words[0]=z;for(var A=1;A<T;A++){for(var L=B>>>26,J=B&67108863,re=Math.min(A,v.length-1),ie=Math.max(0,A-x.length+1);ie<=re;ie++){var de=A-ie|0;I=x.words[de]|0,P=v.words[ie]|0,M=I*P+J,L+=M/67108864|0,J=M&67108863}_.words[A]=J|0,B=L|0}return B!==0?_.words[A]=B|0:_.length--,_.strip()}var E=function(v,_,T){var I=v.words,P=_.words,M=T.words,z=0,B,A,L,J=I[0]|0,re=J&8191,ie=J>>>13,de=I[1]|0,pe=de&8191,Ae=de>>>13,De=I[2]|0,Ie=De&8191,ze=De>>>13,ar=I[3]|0,yt=ar&8191,dt=ar>>>13,Gr=I[4]|0,_t=Gr&8191,Pt=Gr>>>13,ii=I[5]|0,Qt=ii&8191,Lt=ii>>>13,Tn=I[6]|0,At=Tn&8191,Ft=Tn>>>13,_i=I[7]|0,St=_i&8191,Rt=_i>>>13,cr=I[8]|0,st=cr&8191,$t=cr>>>13,Co=I[9]|0,Kt=Co&8191,lr=Co>>>13,So=P[0]|0,Tr=So&8191,xr=So>>>13,mc=P[1]|0,Nr=mc&8191,Pr=mc>>>13,Io=P[2]|0,gr=Io&8191,yr=Io>>>13,Ai=P[3]|0,Gt=Ai&8191,vr=Ai>>>13,ss=P[4]|0,Rr=ss&8191,ur=ss>>>13,gc=P[5]|0,Yt=gc&8191,Or=gc>>>13,qr=P[6]|0,wr=qr&8191,Bt=qr>>>13,To=P[7]|0,dr=To&8191,br=To>>>13,Di=P[8]|0,kr=Di&8191,zr=Di>>>13,ba=P[9]|0,Fr=ba&8191,jt=ba>>>13;T.negative=v.negative^_.negative,T.length=19,B=Math.imul(re,Tr),A=Math.imul(re,xr),A=A+Math.imul(ie,Tr)|0,L=Math.imul(ie,xr);var Ws=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(Ws>>>26)|0,Ws&=67108863,B=Math.imul(pe,Tr),A=Math.imul(pe,xr),A=A+Math.imul(Ae,Tr)|0,L=Math.imul(Ae,xr),B=B+Math.imul(re,Nr)|0,A=A+Math.imul(re,Pr)|0,A=A+Math.imul(ie,Nr)|0,L=L+Math.imul(ie,Pr)|0;var Ci=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,B=Math.imul(Ie,Tr),A=Math.imul(Ie,xr),A=A+Math.imul(ze,Tr)|0,L=Math.imul(ze,xr),B=B+Math.imul(pe,Nr)|0,A=A+Math.imul(pe,Pr)|0,A=A+Math.imul(Ae,Nr)|0,L=L+Math.imul(Ae,Pr)|0,B=B+Math.imul(re,gr)|0,A=A+Math.imul(re,yr)|0,A=A+Math.imul(ie,gr)|0,L=L+Math.imul(ie,yr)|0;var yc=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(yc>>>26)|0,yc&=67108863,B=Math.imul(yt,Tr),A=Math.imul(yt,xr),A=A+Math.imul(dt,Tr)|0,L=Math.imul(dt,xr),B=B+Math.imul(Ie,Nr)|0,A=A+Math.imul(Ie,Pr)|0,A=A+Math.imul(ze,Nr)|0,L=L+Math.imul(ze,Pr)|0,B=B+Math.imul(pe,gr)|0,A=A+Math.imul(pe,yr)|0,A=A+Math.imul(Ae,gr)|0,L=L+Math.imul(Ae,yr)|0,B=B+Math.imul(re,Gt)|0,A=A+Math.imul(re,vr)|0,A=A+Math.imul(ie,Gt)|0,L=L+Math.imul(ie,vr)|0;var Ea=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(Ea>>>26)|0,Ea&=67108863,B=Math.imul(_t,Tr),A=Math.imul(_t,xr),A=A+Math.imul(Pt,Tr)|0,L=Math.imul(Pt,xr),B=B+Math.imul(yt,Nr)|0,A=A+Math.imul(yt,Pr)|0,A=A+Math.imul(dt,Nr)|0,L=L+Math.imul(dt,Pr)|0,B=B+Math.imul(Ie,gr)|0,A=A+Math.imul(Ie,yr)|0,A=A+Math.imul(ze,gr)|0,L=L+Math.imul(ze,yr)|0,B=B+Math.imul(pe,Gt)|0,A=A+Math.imul(pe,vr)|0,A=A+Math.imul(Ae,Gt)|0,L=L+Math.imul(Ae,vr)|0,B=B+Math.imul(re,Rr)|0,A=A+Math.imul(re,ur)|0,A=A+Math.imul(ie,Rr)|0,L=L+Math.imul(ie,ur)|0;var xo=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(xo>>>26)|0,xo&=67108863,B=Math.imul(Qt,Tr),A=Math.imul(Qt,xr),A=A+Math.imul(Lt,Tr)|0,L=Math.imul(Lt,xr),B=B+Math.imul(_t,Nr)|0,A=A+Math.imul(_t,Pr)|0,A=A+Math.imul(Pt,Nr)|0,L=L+Math.imul(Pt,Pr)|0,B=B+Math.imul(yt,gr)|0,A=A+Math.imul(yt,yr)|0,A=A+Math.imul(dt,gr)|0,L=L+Math.imul(dt,yr)|0,B=B+Math.imul(Ie,Gt)|0,A=A+Math.imul(Ie,vr)|0,A=A+Math.imul(ze,Gt)|0,L=L+Math.imul(ze,vr)|0,B=B+Math.imul(pe,Rr)|0,A=A+Math.imul(pe,ur)|0,A=A+Math.imul(Ae,Rr)|0,L=L+Math.imul(Ae,ur)|0,B=B+Math.imul(re,Yt)|0,A=A+Math.imul(re,Or)|0,A=A+Math.imul(ie,Yt)|0,L=L+Math.imul(ie,Or)|0;var No=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(No>>>26)|0,No&=67108863,B=Math.imul(At,Tr),A=Math.imul(At,xr),A=A+Math.imul(Ft,Tr)|0,L=Math.imul(Ft,xr),B=B+Math.imul(Qt,Nr)|0,A=A+Math.imul(Qt,Pr)|0,A=A+Math.imul(Lt,Nr)|0,L=L+Math.imul(Lt,Pr)|0,B=B+Math.imul(_t,gr)|0,A=A+Math.imul(_t,yr)|0,A=A+Math.imul(Pt,gr)|0,L=L+Math.imul(Pt,yr)|0,B=B+Math.imul(yt,Gt)|0,A=A+Math.imul(yt,vr)|0,A=A+Math.imul(dt,Gt)|0,L=L+Math.imul(dt,vr)|0,B=B+Math.imul(Ie,Rr)|0,A=A+Math.imul(Ie,ur)|0,A=A+Math.imul(ze,Rr)|0,L=L+Math.imul(ze,ur)|0,B=B+Math.imul(pe,Yt)|0,A=A+Math.imul(pe,Or)|0,A=A+Math.imul(Ae,Yt)|0,L=L+Math.imul(Ae,Or)|0,B=B+Math.imul(re,wr)|0,A=A+Math.imul(re,Bt)|0,A=A+Math.imul(ie,wr)|0,L=L+Math.imul(ie,Bt)|0;var _a=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(_a>>>26)|0,_a&=67108863,B=Math.imul(St,Tr),A=Math.imul(St,xr),A=A+Math.imul(Rt,Tr)|0,L=Math.imul(Rt,xr),B=B+Math.imul(At,Nr)|0,A=A+Math.imul(At,Pr)|0,A=A+Math.imul(Ft,Nr)|0,L=L+Math.imul(Ft,Pr)|0,B=B+Math.imul(Qt,gr)|0,A=A+Math.imul(Qt,yr)|0,A=A+Math.imul(Lt,gr)|0,L=L+Math.imul(Lt,yr)|0,B=B+Math.imul(_t,Gt)|0,A=A+Math.imul(_t,vr)|0,A=A+Math.imul(Pt,Gt)|0,L=L+Math.imul(Pt,vr)|0,B=B+Math.imul(yt,Rr)|0,A=A+Math.imul(yt,ur)|0,A=A+Math.imul(dt,Rr)|0,L=L+Math.imul(dt,ur)|0,B=B+Math.imul(Ie,Yt)|0,A=A+Math.imul(Ie,Or)|0,A=A+Math.imul(ze,Yt)|0,L=L+Math.imul(ze,Or)|0,B=B+Math.imul(pe,wr)|0,A=A+Math.imul(pe,Bt)|0,A=A+Math.imul(Ae,wr)|0,L=L+Math.imul(Ae,Bt)|0,B=B+Math.imul(re,dr)|0,A=A+Math.imul(re,br)|0,A=A+Math.imul(ie,dr)|0,L=L+Math.imul(ie,br)|0;var vc=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(vc>>>26)|0,vc&=67108863,B=Math.imul(st,Tr),A=Math.imul(st,xr),A=A+Math.imul($t,Tr)|0,L=Math.imul($t,xr),B=B+Math.imul(St,Nr)|0,A=A+Math.imul(St,Pr)|0,A=A+Math.imul(Rt,Nr)|0,L=L+Math.imul(Rt,Pr)|0,B=B+Math.imul(At,gr)|0,A=A+Math.imul(At,yr)|0,A=A+Math.imul(Ft,gr)|0,L=L+Math.imul(Ft,yr)|0,B=B+Math.imul(Qt,Gt)|0,A=A+Math.imul(Qt,vr)|0,A=A+Math.imul(Lt,Gt)|0,L=L+Math.imul(Lt,vr)|0,B=B+Math.imul(_t,Rr)|0,A=A+Math.imul(_t,ur)|0,A=A+Math.imul(Pt,Rr)|0,L=L+Math.imul(Pt,ur)|0,B=B+Math.imul(yt,Yt)|0,A=A+Math.imul(yt,Or)|0,A=A+Math.imul(dt,Yt)|0,L=L+Math.imul(dt,Or)|0,B=B+Math.imul(Ie,wr)|0,A=A+Math.imul(Ie,Bt)|0,A=A+Math.imul(ze,wr)|0,L=L+Math.imul(ze,Bt)|0,B=B+Math.imul(pe,dr)|0,A=A+Math.imul(pe,br)|0,A=A+Math.imul(Ae,dr)|0,L=L+Math.imul(Ae,br)|0,B=B+Math.imul(re,kr)|0,A=A+Math.imul(re,zr)|0,A=A+Math.imul(ie,kr)|0,L=L+Math.imul(ie,zr)|0;var Gl=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(Gl>>>26)|0,Gl&=67108863,B=Math.imul(Kt,Tr),A=Math.imul(Kt,xr),A=A+Math.imul(lr,Tr)|0,L=Math.imul(lr,xr),B=B+Math.imul(st,Nr)|0,A=A+Math.imul(st,Pr)|0,A=A+Math.imul($t,Nr)|0,L=L+Math.imul($t,Pr)|0,B=B+Math.imul(St,gr)|0,A=A+Math.imul(St,yr)|0,A=A+Math.imul(Rt,gr)|0,L=L+Math.imul(Rt,yr)|0,B=B+Math.imul(At,Gt)|0,A=A+Math.imul(At,vr)|0,A=A+Math.imul(Ft,Gt)|0,L=L+Math.imul(Ft,vr)|0,B=B+Math.imul(Qt,Rr)|0,A=A+Math.imul(Qt,ur)|0,A=A+Math.imul(Lt,Rr)|0,L=L+Math.imul(Lt,ur)|0,B=B+Math.imul(_t,Yt)|0,A=A+Math.imul(_t,Or)|0,A=A+Math.imul(Pt,Yt)|0,L=L+Math.imul(Pt,Or)|0,B=B+Math.imul(yt,wr)|0,A=A+Math.imul(yt,Bt)|0,A=A+Math.imul(dt,wr)|0,L=L+Math.imul(dt,Bt)|0,B=B+Math.imul(Ie,dr)|0,A=A+Math.imul(Ie,br)|0,A=A+Math.imul(ze,dr)|0,L=L+Math.imul(ze,br)|0,B=B+Math.imul(pe,kr)|0,A=A+Math.imul(pe,zr)|0,A=A+Math.imul(Ae,kr)|0,L=L+Math.imul(Ae,zr)|0,B=B+Math.imul(re,Fr)|0,A=A+Math.imul(re,jt)|0,A=A+Math.imul(ie,Fr)|0,L=L+Math.imul(ie,jt)|0;var Jt=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,B=Math.imul(Kt,Nr),A=Math.imul(Kt,Pr),A=A+Math.imul(lr,Nr)|0,L=Math.imul(lr,Pr),B=B+Math.imul(st,gr)|0,A=A+Math.imul(st,yr)|0,A=A+Math.imul($t,gr)|0,L=L+Math.imul($t,yr)|0,B=B+Math.imul(St,Gt)|0,A=A+Math.imul(St,vr)|0,A=A+Math.imul(Rt,Gt)|0,L=L+Math.imul(Rt,vr)|0,B=B+Math.imul(At,Rr)|0,A=A+Math.imul(At,ur)|0,A=A+Math.imul(Ft,Rr)|0,L=L+Math.imul(Ft,ur)|0,B=B+Math.imul(Qt,Yt)|0,A=A+Math.imul(Qt,Or)|0,A=A+Math.imul(Lt,Yt)|0,L=L+Math.imul(Lt,Or)|0,B=B+Math.imul(_t,wr)|0,A=A+Math.imul(_t,Bt)|0,A=A+Math.imul(Pt,wr)|0,L=L+Math.imul(Pt,Bt)|0,B=B+Math.imul(yt,dr)|0,A=A+Math.imul(yt,br)|0,A=A+Math.imul(dt,dr)|0,L=L+Math.imul(dt,br)|0,B=B+Math.imul(Ie,kr)|0,A=A+Math.imul(Ie,zr)|0,A=A+Math.imul(ze,kr)|0,L=L+Math.imul(ze,zr)|0,B=B+Math.imul(pe,Fr)|0,A=A+Math.imul(pe,jt)|0,A=A+Math.imul(Ae,Fr)|0,L=L+Math.imul(Ae,jt)|0;var wc=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(wc>>>26)|0,wc&=67108863,B=Math.imul(Kt,gr),A=Math.imul(Kt,yr),A=A+Math.imul(lr,gr)|0,L=Math.imul(lr,yr),B=B+Math.imul(st,Gt)|0,A=A+Math.imul(st,vr)|0,A=A+Math.imul($t,Gt)|0,L=L+Math.imul($t,vr)|0,B=B+Math.imul(St,Rr)|0,A=A+Math.imul(St,ur)|0,A=A+Math.imul(Rt,Rr)|0,L=L+Math.imul(Rt,ur)|0,B=B+Math.imul(At,Yt)|0,A=A+Math.imul(At,Or)|0,A=A+Math.imul(Ft,Yt)|0,L=L+Math.imul(Ft,Or)|0,B=B+Math.imul(Qt,wr)|0,A=A+Math.imul(Qt,Bt)|0,A=A+Math.imul(Lt,wr)|0,L=L+Math.imul(Lt,Bt)|0,B=B+Math.imul(_t,dr)|0,A=A+Math.imul(_t,br)|0,A=A+Math.imul(Pt,dr)|0,L=L+Math.imul(Pt,br)|0,B=B+Math.imul(yt,kr)|0,A=A+Math.imul(yt,zr)|0,A=A+Math.imul(dt,kr)|0,L=L+Math.imul(dt,zr)|0,B=B+Math.imul(Ie,Fr)|0,A=A+Math.imul(Ie,jt)|0,A=A+Math.imul(ze,Fr)|0,L=L+Math.imul(ze,jt)|0;var Ks=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(Ks>>>26)|0,Ks&=67108863,B=Math.imul(Kt,Gt),A=Math.imul(Kt,vr),A=A+Math.imul(lr,Gt)|0,L=Math.imul(lr,vr),B=B+Math.imul(st,Rr)|0,A=A+Math.imul(st,ur)|0,A=A+Math.imul($t,Rr)|0,L=L+Math.imul($t,ur)|0,B=B+Math.imul(St,Yt)|0,A=A+Math.imul(St,Or)|0,A=A+Math.imul(Rt,Yt)|0,L=L+Math.imul(Rt,Or)|0,B=B+Math.imul(At,wr)|0,A=A+Math.imul(At,Bt)|0,A=A+Math.imul(Ft,wr)|0,L=L+Math.imul(Ft,Bt)|0,B=B+Math.imul(Qt,dr)|0,A=A+Math.imul(Qt,br)|0,A=A+Math.imul(Lt,dr)|0,L=L+Math.imul(Lt,br)|0,B=B+Math.imul(_t,kr)|0,A=A+Math.imul(_t,zr)|0,A=A+Math.imul(Pt,kr)|0,L=L+Math.imul(Pt,zr)|0,B=B+Math.imul(yt,Fr)|0,A=A+Math.imul(yt,jt)|0,A=A+Math.imul(dt,Fr)|0,L=L+Math.imul(dt,jt)|0;var Es=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(Es>>>26)|0,Es&=67108863,B=Math.imul(Kt,Rr),A=Math.imul(Kt,ur),A=A+Math.imul(lr,Rr)|0,L=Math.imul(lr,ur),B=B+Math.imul(st,Yt)|0,A=A+Math.imul(st,Or)|0,A=A+Math.imul($t,Yt)|0,L=L+Math.imul($t,Or)|0,B=B+Math.imul(St,wr)|0,A=A+Math.imul(St,Bt)|0,A=A+Math.imul(Rt,wr)|0,L=L+Math.imul(Rt,Bt)|0,B=B+Math.imul(At,dr)|0,A=A+Math.imul(At,br)|0,A=A+Math.imul(Ft,dr)|0,L=L+Math.imul(Ft,br)|0,B=B+Math.imul(Qt,kr)|0,A=A+Math.imul(Qt,zr)|0,A=A+Math.imul(Lt,kr)|0,L=L+Math.imul(Lt,zr)|0,B=B+Math.imul(_t,Fr)|0,A=A+Math.imul(_t,jt)|0,A=A+Math.imul(Pt,Fr)|0,L=L+Math.imul(Pt,jt)|0;var si=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(si>>>26)|0,si&=67108863,B=Math.imul(Kt,Yt),A=Math.imul(Kt,Or),A=A+Math.imul(lr,Yt)|0,L=Math.imul(lr,Or),B=B+Math.imul(st,wr)|0,A=A+Math.imul(st,Bt)|0,A=A+Math.imul($t,wr)|0,L=L+Math.imul($t,Bt)|0,B=B+Math.imul(St,dr)|0,A=A+Math.imul(St,br)|0,A=A+Math.imul(Rt,dr)|0,L=L+Math.imul(Rt,br)|0,B=B+Math.imul(At,kr)|0,A=A+Math.imul(At,zr)|0,A=A+Math.imul(Ft,kr)|0,L=L+Math.imul(Ft,zr)|0,B=B+Math.imul(Qt,Fr)|0,A=A+Math.imul(Qt,jt)|0,A=A+Math.imul(Lt,Fr)|0,L=L+Math.imul(Lt,jt)|0;var Aa=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(Aa>>>26)|0,Aa&=67108863,B=Math.imul(Kt,wr),A=Math.imul(Kt,Bt),A=A+Math.imul(lr,wr)|0,L=Math.imul(lr,Bt),B=B+Math.imul(st,dr)|0,A=A+Math.imul(st,br)|0,A=A+Math.imul($t,dr)|0,L=L+Math.imul($t,br)|0,B=B+Math.imul(St,kr)|0,A=A+Math.imul(St,zr)|0,A=A+Math.imul(Rt,kr)|0,L=L+Math.imul(Rt,zr)|0,B=B+Math.imul(At,Fr)|0,A=A+Math.imul(At,jt)|0,A=A+Math.imul(Ft,Fr)|0,L=L+Math.imul(Ft,jt)|0;var bc=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(bc>>>26)|0,bc&=67108863,B=Math.imul(Kt,dr),A=Math.imul(Kt,br),A=A+Math.imul(lr,dr)|0,L=Math.imul(lr,br),B=B+Math.imul(st,kr)|0,A=A+Math.imul(st,zr)|0,A=A+Math.imul($t,kr)|0,L=L+Math.imul($t,zr)|0,B=B+Math.imul(St,Fr)|0,A=A+Math.imul(St,jt)|0,A=A+Math.imul(Rt,Fr)|0,L=L+Math.imul(Rt,jt)|0;var Gs=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(Gs>>>26)|0,Gs&=67108863,B=Math.imul(Kt,kr),A=Math.imul(Kt,zr),A=A+Math.imul(lr,kr)|0,L=Math.imul(lr,zr),B=B+Math.imul(st,Fr)|0,A=A+Math.imul(st,jt)|0,A=A+Math.imul($t,Fr)|0,L=L+Math.imul($t,jt)|0;var Bn=(z+B|0)+((A&8191)<<13)|0;z=(L+(A>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,B=Math.imul(Kt,Fr),A=Math.imul(Kt,jt),A=A+Math.imul(lr,Fr)|0,L=Math.imul(lr,jt);var Ec=(z+B|0)+((A&8191)<<13)|0;return z=(L+(A>>>13)|0)+(Ec>>>26)|0,Ec&=67108863,M[0]=Ws,M[1]=Ci,M[2]=yc,M[3]=Ea,M[4]=xo,M[5]=No,M[6]=_a,M[7]=vc,M[8]=Gl,M[9]=Jt,M[10]=wc,M[11]=Ks,M[12]=Es,M[13]=si,M[14]=Aa,M[15]=bc,M[16]=Gs,M[17]=Bn,M[18]=Ec,z!==0&&(M[19]=z,T.length++),T};Math.imul||(E=w);function C(x,v,_){_.negative=v.negative^x.negative,_.length=x.length+v.length;for(var T=0,I=0,P=0;P<_.length-1;P++){var M=I;I=0;for(var z=T&67108863,B=Math.min(P,v.length-1),A=Math.max(0,P-x.length+1);A<=B;A++){var L=P-A,J=x.words[L]|0,re=v.words[A]|0,ie=J*re,de=ie&67108863;M=M+(ie/67108864|0)|0,de=de+z|0,z=de&67108863,M=M+(de>>>26)|0,I+=M>>>26,M&=67108863}_.words[P]=z,T=M,M=I}return T!==0?_.words[P]=T:_.length--,_.strip()}function N(x,v,_){var T=new D;return T.mulp(x,v,_)}s.prototype.mulTo=function(v,_){var T,I=this.length+v.length;return this.length===10&&v.length===10?T=E(this,v,_):I<63?T=w(this,v,_):I<1024?T=C(this,v,_):T=N(this,v,_),T};function D(x,v){this.x=x,this.y=v}D.prototype.makeRBT=function(v){for(var _=new Array(v),T=s.prototype._countBits(v)-1,I=0;I<v;I++)_[I]=this.revBin(I,T,v);return _},D.prototype.revBin=function(v,_,T){if(v===0||v===T-1)return v;for(var I=0,P=0;P<_;P++)I|=(v&1)<<_-P-1,v>>=1;return I},D.prototype.permute=function(v,_,T,I,P,M){for(var z=0;z<M;z++)I[z]=_[v[z]],P[z]=T[v[z]]},D.prototype.transform=function(v,_,T,I,P,M){this.permute(M,v,_,T,I,P);for(var z=1;z<P;z<<=1)for(var B=z<<1,A=Math.cos(2*Math.PI/B),L=Math.sin(2*Math.PI/B),J=0;J<P;J+=B)for(var re=A,ie=L,de=0;de<z;de++){var pe=T[J+de],Ae=I[J+de],De=T[J+de+z],Ie=I[J+de+z],ze=re*De-ie*Ie;Ie=re*Ie+ie*De,De=ze,T[J+de]=pe+De,I[J+de]=Ae+Ie,T[J+de+z]=pe-De,I[J+de+z]=Ae-Ie,de!==B&&(ze=A*re-L*ie,ie=A*ie+L*re,re=ze)}},D.prototype.guessLen13b=function(v,_){var T=Math.max(_,v)|1,I=T&1,P=0;for(T=T/2|0;T;T=T>>>1)P++;return 1<<P+1+I},D.prototype.conjugate=function(v,_,T){if(!(T<=1))for(var I=0;I<T/2;I++){var P=v[I];v[I]=v[T-I-1],v[T-I-1]=P,P=_[I],_[I]=-_[T-I-1],_[T-I-1]=-P}},D.prototype.normalize13b=function(v,_){for(var T=0,I=0;I<_/2;I++){var P=Math.round(v[2*I+1]/_)*8192+Math.round(v[2*I]/_)+T;v[I]=P&67108863,P<67108864?T=0:T=P/67108864|0}return v},D.prototype.convert13b=function(v,_,T,I){for(var P=0,M=0;M<_;M++)P=P+(v[M]|0),T[2*M]=P&8191,P=P>>>13,T[2*M+1]=P&8191,P=P>>>13;for(M=2*_;M<I;++M)T[M]=0;n(P===0),n((P&-8192)===0)},D.prototype.stub=function(v){for(var _=new Array(v),T=0;T<v;T++)_[T]=0;return _},D.prototype.mulp=function(v,_,T){var I=2*this.guessLen13b(v.length,_.length),P=this.makeRBT(I),M=this.stub(I),z=new Array(I),B=new Array(I),A=new Array(I),L=new Array(I),J=new Array(I),re=new Array(I),ie=T.words;ie.length=I,this.convert13b(v.words,v.length,z,I),this.convert13b(_.words,_.length,L,I),this.transform(z,M,B,A,I,P),this.transform(L,M,J,re,I,P);for(var de=0;de<I;de++){var pe=B[de]*J[de]-A[de]*re[de];A[de]=B[de]*re[de]+A[de]*J[de],B[de]=pe}return this.conjugate(B,A,I),this.transform(B,A,ie,M,I,P),this.conjugate(ie,M,I),this.normalize13b(ie,I),T.negative=v.negative^_.negative,T.length=v.length+_.length,T.strip()},s.prototype.mul=function(v){var _=new s(null);return _.words=new Array(this.length+v.length),this.mulTo(v,_)},s.prototype.mulf=function(v){var _=new s(null);return _.words=new Array(this.length+v.length),N(this,v,_)},s.prototype.imul=function(v){return this.clone().mulTo(v,this)},s.prototype.imuln=function(v){n(typeof v=="number"),n(v<67108864);for(var _=0,T=0;T<this.length;T++){var I=(this.words[T]|0)*v,P=(I&67108863)+(_&67108863);_>>=26,_+=I/67108864|0,_+=P>>>26,this.words[T]=P&67108863}return _!==0&&(this.words[T]=_,this.length++),this},s.prototype.muln=function(v){return this.clone().imuln(v)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(v){var _=g(v);if(_.length===0)return new s(1);for(var T=this,I=0;I<_.length&&_[I]===0;I++,T=T.sqr());if(++I<_.length)for(var P=T.sqr();I<_.length;I++,P=P.sqr())_[I]!==0&&(T=T.mul(P));return T},s.prototype.iushln=function(v){n(typeof v=="number"&&v>=0);var _=v%26,T=(v-_)/26,I=67108863>>>26-_<<26-_,P;if(_!==0){var M=0;for(P=0;P<this.length;P++){var z=this.words[P]&I,B=(this.words[P]|0)-z<<_;this.words[P]=B|M,M=z>>>26-_}M&&(this.words[P]=M,this.length++)}if(T!==0){for(P=this.length-1;P>=0;P--)this.words[P+T]=this.words[P];for(P=0;P<T;P++)this.words[P]=0;this.length+=T}return this.strip()},s.prototype.ishln=function(v){return n(this.negative===0),this.iushln(v)},s.prototype.iushrn=function(v,_,T){n(typeof v=="number"&&v>=0);var I;_?I=(_-_%26)/26:I=0;var P=v%26,M=Math.min((v-P)/26,this.length),z=67108863^67108863>>>P<<P,B=T;if(I-=M,I=Math.max(0,I),B){for(var A=0;A<M;A++)B.words[A]=this.words[A];B.length=M}if(M!==0)if(this.length>M)for(this.length-=M,A=0;A<this.length;A++)this.words[A]=this.words[A+M];else this.words[0]=0,this.length=1;var L=0;for(A=this.length-1;A>=0&&(L!==0||A>=I);A--){var J=this.words[A]|0;this.words[A]=L<<26-P|J>>>P,L=J&z}return B&&L!==0&&(B.words[B.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(v,_,T){return n(this.negative===0),this.iushrn(v,_,T)},s.prototype.shln=function(v){return this.clone().ishln(v)},s.prototype.ushln=function(v){return this.clone().iushln(v)},s.prototype.shrn=function(v){return this.clone().ishrn(v)},s.prototype.ushrn=function(v){return this.clone().iushrn(v)},s.prototype.testn=function(v){n(typeof v=="number"&&v>=0);var _=v%26,T=(v-_)/26,I=1<<_;if(this.length<=T)return!1;var P=this.words[T];return!!(P&I)},s.prototype.imaskn=function(v){n(typeof v=="number"&&v>=0);var _=v%26,T=(v-_)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(_!==0&&T++,this.length=Math.min(T,this.length),_!==0){var I=67108863^67108863>>>_<<_;this.words[this.length-1]&=I}return this.strip()},s.prototype.maskn=function(v){return this.clone().imaskn(v)},s.prototype.iaddn=function(v){return n(typeof v=="number"),n(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(this.words[0]|0)<v?(this.words[0]=v-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},s.prototype._iaddn=function(v){this.words[0]+=v;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},s.prototype.isubn=function(v){if(n(typeof v=="number"),n(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this.strip()},s.prototype.addn=function(v){return this.clone().iaddn(v)},s.prototype.subn=function(v){return this.clone().isubn(v)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(v,_,T){var I=v.length+T,P;this._expand(I);var M,z=0;for(P=0;P<v.length;P++){M=(this.words[P+T]|0)+z;var B=(v.words[P]|0)*_;M-=B&67108863,z=(M>>26)-(B/67108864|0),this.words[P+T]=M&67108863}for(;P<this.length-T;P++)M=(this.words[P+T]|0)+z,z=M>>26,this.words[P+T]=M&67108863;if(z===0)return this.strip();for(n(z===-1),z=0,P=0;P<this.length;P++)M=-(this.words[P]|0)+z,z=M>>26,this.words[P]=M&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(v,_){var T=this.length-v.length,I=this.clone(),P=v,M=P.words[P.length-1]|0,z=this._countBits(M);T=26-z,T!==0&&(P=P.ushln(T),I.iushln(T),M=P.words[P.length-1]|0);var B=I.length-P.length,A;if(_!=="mod"){A=new s(null),A.length=B+1,A.words=new Array(A.length);for(var L=0;L<A.length;L++)A.words[L]=0}var J=I.clone()._ishlnsubmul(P,1,B);J.negative===0&&(I=J,A&&(A.words[B]=1));for(var re=B-1;re>=0;re--){var ie=(I.words[P.length+re]|0)*67108864+(I.words[P.length+re-1]|0);for(ie=Math.min(ie/M|0,67108863),I._ishlnsubmul(P,ie,re);I.negative!==0;)ie--,I.negative=0,I._ishlnsubmul(P,1,re),I.isZero()||(I.negative^=1);A&&(A.words[re]=ie)}return A&&A.strip(),I.strip(),_!=="div"&&T!==0&&I.iushrn(T),{div:A||null,mod:I}},s.prototype.divmod=function(v,_,T){if(n(!v.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var I,P,M;return this.negative!==0&&v.negative===0?(M=this.neg().divmod(v,_),_!=="mod"&&(I=M.div.neg()),_!=="div"&&(P=M.mod.neg(),T&&P.negative!==0&&P.iadd(v)),{div:I,mod:P}):this.negative===0&&v.negative!==0?(M=this.divmod(v.neg(),_),_!=="mod"&&(I=M.div.neg()),{div:I,mod:M.mod}):(this.negative&v.negative)!==0?(M=this.neg().divmod(v.neg(),_),_!=="div"&&(P=M.mod.neg(),T&&P.negative!==0&&P.isub(v)),{div:M.div,mod:P}):v.length>this.length||this.cmp(v)<0?{div:new s(0),mod:this}:v.length===1?_==="div"?{div:this.divn(v.words[0]),mod:null}:_==="mod"?{div:null,mod:new s(this.modn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new s(this.modn(v.words[0]))}:this._wordDiv(v,_)},s.prototype.div=function(v){return this.divmod(v,"div",!1).div},s.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},s.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},s.prototype.divRound=function(v){var _=this.divmod(v);if(_.mod.isZero())return _.div;var T=_.div.negative!==0?_.mod.isub(v):_.mod,I=v.ushrn(1),P=v.andln(1),M=T.cmp(I);return M<0||P===1&&M===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},s.prototype.modn=function(v){n(v<=67108863);for(var _=(1<<26)%v,T=0,I=this.length-1;I>=0;I--)T=(_*T+(this.words[I]|0))%v;return T},s.prototype.idivn=function(v){n(v<=67108863);for(var _=0,T=this.length-1;T>=0;T--){var I=(this.words[T]|0)+_*67108864;this.words[T]=I/v|0,_=I%v}return this.strip()},s.prototype.divn=function(v){return this.clone().idivn(v)},s.prototype.egcd=function(v){n(v.negative===0),n(!v.isZero());var _=this,T=v.clone();_.negative!==0?_=_.umod(v):_=_.clone();for(var I=new s(1),P=new s(0),M=new s(0),z=new s(1),B=0;_.isEven()&&T.isEven();)_.iushrn(1),T.iushrn(1),++B;for(var A=T.clone(),L=_.clone();!_.isZero();){for(var J=0,re=1;(_.words[0]&re)===0&&J<26;++J,re<<=1);if(J>0)for(_.iushrn(J);J-- >0;)(I.isOdd()||P.isOdd())&&(I.iadd(A),P.isub(L)),I.iushrn(1),P.iushrn(1);for(var ie=0,de=1;(T.words[0]&de)===0&&ie<26;++ie,de<<=1);if(ie>0)for(T.iushrn(ie);ie-- >0;)(M.isOdd()||z.isOdd())&&(M.iadd(A),z.isub(L)),M.iushrn(1),z.iushrn(1);_.cmp(T)>=0?(_.isub(T),I.isub(M),P.isub(z)):(T.isub(_),M.isub(I),z.isub(P))}return{a:M,b:z,gcd:T.iushln(B)}},s.prototype._invmp=function(v){n(v.negative===0),n(!v.isZero());var _=this,T=v.clone();_.negative!==0?_=_.umod(v):_=_.clone();for(var I=new s(1),P=new s(0),M=T.clone();_.cmpn(1)>0&&T.cmpn(1)>0;){for(var z=0,B=1;(_.words[0]&B)===0&&z<26;++z,B<<=1);if(z>0)for(_.iushrn(z);z-- >0;)I.isOdd()&&I.iadd(M),I.iushrn(1);for(var A=0,L=1;(T.words[0]&L)===0&&A<26;++A,L<<=1);if(A>0)for(T.iushrn(A);A-- >0;)P.isOdd()&&P.iadd(M),P.iushrn(1);_.cmp(T)>=0?(_.isub(T),I.isub(P)):(T.isub(_),P.isub(I))}var J;return _.cmpn(1)===0?J=I:J=P,J.cmpn(0)<0&&J.iadd(v),J},s.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var _=this.clone(),T=v.clone();_.negative=0,T.negative=0;for(var I=0;_.isEven()&&T.isEven();I++)_.iushrn(1),T.iushrn(1);do{for(;_.isEven();)_.iushrn(1);for(;T.isEven();)T.iushrn(1);var P=_.cmp(T);if(P<0){var M=_;_=T,T=M}else if(P===0||T.cmpn(1)===0)break;_.isub(T)}while(!0);return T.iushln(I)},s.prototype.invm=function(v){return this.egcd(v).a.umod(v)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(v){return this.words[0]&v},s.prototype.bincn=function(v){n(typeof v=="number");var _=v%26,T=(v-_)/26,I=1<<_;if(this.length<=T)return this._expand(T+1),this.words[T]|=I,this;for(var P=I,M=T;P!==0&&M<this.length;M++){var z=this.words[M]|0;z+=P,P=z>>>26,z&=67108863,this.words[M]=z}return P!==0&&(this.words[M]=P,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(v){var _=v<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;this.strip();var T;if(this.length>1)T=1;else{_&&(v=-v),n(v<=67108863,"Number is too big");var I=this.words[0]|0;T=I===v?0:I<v?-1:1}return this.negative!==0?-T|0:T},s.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var _=this.ucmp(v);return this.negative!==0?-_|0:_},s.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var _=0,T=this.length-1;T>=0;T--){var I=this.words[T]|0,P=v.words[T]|0;if(I!==P){I<P?_=-1:I>P&&(_=1);break}}return _},s.prototype.gtn=function(v){return this.cmpn(v)===1},s.prototype.gt=function(v){return this.cmp(v)===1},s.prototype.gten=function(v){return this.cmpn(v)>=0},s.prototype.gte=function(v){return this.cmp(v)>=0},s.prototype.ltn=function(v){return this.cmpn(v)===-1},s.prototype.lt=function(v){return this.cmp(v)===-1},s.prototype.lten=function(v){return this.cmpn(v)<=0},s.prototype.lte=function(v){return this.cmp(v)<=0},s.prototype.eqn=function(v){return this.cmpn(v)===0},s.prototype.eq=function(v){return this.cmp(v)===0},s.red=function(v){return new k(v)},s.prototype.toRed=function(v){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(v){return this.red=v,this},s.prototype.forceRed=function(v){return n(!this.red,"Already a number in reduction context"),this._forceRed(v)},s.prototype.redAdd=function(v){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},s.prototype.redIAdd=function(v){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},s.prototype.redSub=function(v){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},s.prototype.redISub=function(v){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},s.prototype.redShl=function(v){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},s.prototype.redMul=function(v){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},s.prototype.redIMul=function(v){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(v){return n(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var F={k256:null,p224:null,p192:null,p25519:null};function V(x,v){this.name=x,this.p=new s(v,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var v=new s(null);return v.words=new Array(Math.ceil(this.n/13)),v},V.prototype.ireduce=function(v){var _=v,T;do this.split(_,this.tmp),_=this.imulK(_),_=_.iadd(this.tmp),T=_.bitLength();while(T>this.n);var I=T<this.n?-1:_.ucmp(this.p);return I===0?(_.words[0]=0,_.length=1):I>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},V.prototype.split=function(v,_){v.iushrn(this.n,0,_)},V.prototype.imulK=function(v){return v.imul(this.k)};function q(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(q,V),q.prototype.split=function(v,_){for(var T=4194303,I=Math.min(v.length,9),P=0;P<I;P++)_.words[P]=v.words[P];if(_.length=I,v.length<=9){v.words[0]=0,v.length=1;return}var M=v.words[9];for(_.words[_.length++]=M&T,P=10;P<v.length;P++){var z=v.words[P]|0;v.words[P-10]=(z&T)<<4|M>>>22,M=z}M>>>=22,v.words[P-10]=M,M===0&&v.length>10?v.length-=10:v.length-=9},q.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var _=0,T=0;T<v.length;T++){var I=v.words[T]|0;_+=I*977,v.words[T]=_&67108863,_=I*64+(_/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v};function j(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(j,V);function U(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(U,V);function $(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i($,V),$.prototype.imulK=function(v){for(var _=0,T=0;T<v.length;T++){var I=(v.words[T]|0)*19+_,P=I&67108863;I>>>=26,v.words[T]=P,_=I}return _!==0&&(v.words[v.length++]=_),v},s._prime=function(v){if(F[v])return F[v];var _;if(v==="k256")_=new q;else if(v==="p224")_=new j;else if(v==="p192")_=new U;else if(v==="p25519")_=new $;else throw new Error("Unknown prime "+v);return F[v]=_,_};function k(x){if(typeof x=="string"){var v=s._prime(x);this.m=v.p,this.prime=v}else n(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}k.prototype._verify1=function(v){n(v.negative===0,"red works only with positives"),n(v.red,"red works only with red numbers")},k.prototype._verify2=function(v,_){n((v.negative|_.negative)===0,"red works only with positives"),n(v.red&&v.red===_.red,"red works only with red numbers")},k.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):v.umod(this.m)._forceRed(this)},k.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},k.prototype.add=function(v,_){this._verify2(v,_);var T=v.add(_);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},k.prototype.iadd=function(v,_){this._verify2(v,_);var T=v.iadd(_);return T.cmp(this.m)>=0&&T.isub(this.m),T},k.prototype.sub=function(v,_){this._verify2(v,_);var T=v.sub(_);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},k.prototype.isub=function(v,_){this._verify2(v,_);var T=v.isub(_);return T.cmpn(0)<0&&T.iadd(this.m),T},k.prototype.shl=function(v,_){return this._verify1(v),this.imod(v.ushln(_))},k.prototype.imul=function(v,_){return this._verify2(v,_),this.imod(v.imul(_))},k.prototype.mul=function(v,_){return this._verify2(v,_),this.imod(v.mul(_))},k.prototype.isqr=function(v){return this.imul(v,v.clone())},k.prototype.sqr=function(v){return this.mul(v,v)},k.prototype.sqrt=function(v){if(v.isZero())return v.clone();var _=this.m.andln(3);if(n(_%2===1),_===3){var T=this.m.add(new s(1)).iushrn(2);return this.pow(v,T)}for(var I=this.m.subn(1),P=0;!I.isZero()&&I.andln(1)===0;)P++,I.iushrn(1);n(!I.isZero());var M=new s(1).toRed(this),z=M.redNeg(),B=this.m.subn(1).iushrn(1),A=this.m.bitLength();for(A=new s(2*A*A).toRed(this);this.pow(A,B).cmp(z)!==0;)A.redIAdd(z);for(var L=this.pow(A,I),J=this.pow(v,I.addn(1).iushrn(1)),re=this.pow(v,I),ie=P;re.cmp(M)!==0;){for(var de=re,pe=0;de.cmp(M)!==0;pe++)de=de.redSqr();n(pe<ie);var Ae=this.pow(L,new s(1).iushln(ie-pe-1));J=J.redMul(Ae),L=Ae.redSqr(),re=re.redMul(L),ie=pe}return J},k.prototype.invm=function(v){var _=v._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},k.prototype.pow=function(v,_){if(_.isZero())return new s(1).toRed(this);if(_.cmpn(1)===0)return v.clone();var T=4,I=new Array(1<<T);I[0]=new s(1).toRed(this),I[1]=v;for(var P=2;P<I.length;P++)I[P]=this.mul(I[P-1],v);var M=I[0],z=0,B=0,A=_.bitLength()%26;for(A===0&&(A=26),P=_.length-1;P>=0;P--){for(var L=_.words[P],J=A-1;J>=0;J--){var re=L>>J&1;if(M!==I[0]&&(M=this.sqr(M)),re===0&&z===0){B=0;continue}z<<=1,z|=re,B++,!(B!==T&&(P!==0||J!==0))&&(M=this.mul(M,I[z]),B=0,z=0)}A=26}return M},k.prototype.convertTo=function(v){var _=v.umod(this.m);return _===v?_.clone():_},k.prototype.convertFrom=function(v){var _=v.clone();return _.red=null,_},s.mont=function(v){return new W(v)};function W(x){k.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(W,k),W.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},W.prototype.convertFrom=function(v){var _=this.imod(v.mul(this.rinv));return _.red=null,_},W.prototype.imul=function(v,_){if(v.isZero()||_.isZero())return v.words[0]=0,v.length=1,v;var T=v.imul(_),I=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=T.isub(I).iushrn(this.shift),M=P;return P.cmp(this.m)>=0?M=P.isub(this.m):P.cmpn(0)<0&&(M=P.iadd(this.m)),M._forceRed(this)},W.prototype.mul=function(v,_){if(v.isZero()||_.isZero())return new s(0)._forceRed(this);var T=v.mul(_),I=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=T.isub(I).iushrn(this.shift),M=P;return P.cmp(this.m)>=0?M=P.isub(this.m):P.cmpn(0)<0&&(M=P.iadd(this.m)),M._forceRed(this)},W.prototype.invm=function(v){var _=this.imod(v._invmp(this.m).mul(this.r2));return _._forceRed(this)}})(t,DJ)}(pv)),pv.exports}var t_,JN;function Ed(){if(JN)return t_;JN=1,t_=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},t_}var r_={},ZN;function M9(){return ZN||(ZN=1,function(t){var e=t;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var a=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)a[u]=s[u]|0;return a}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)a.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var l=s.charCodeAt(u),h=l>>8,f=l&255;h?a.push(h,f):a.push(f)}return a}e.toArray=r;function n(s){return s.length===1?"0"+s:s}e.zero2=n;function i(s){for(var o="",a=0;a<s.length;a++)o+=n(s[a].toString(16));return o}e.toHex=i,e.encode=function(o,a){return a==="hex"?i(o):o}}(r_)),r_}var XN;function qs(){return XN||(XN=1,function(t){var e=t,r=pc(),n=Ed(),i=M9();e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function s(h,f,m){var g=new Array(Math.max(h.bitLength(),m)+1),w;for(w=0;w<g.length;w+=1)g[w]=0;var E=1<<f+1,C=h.clone();for(w=0;w<g.length;w++){var N,D=C.andln(E-1);C.isOdd()?(D>(E>>1)-1?N=(E>>1)-D:N=D,C.isubn(N)):N=0,g[w]=N,C.iushrn(1)}return g}e.getNAF=s;function o(h,f){var m=[[],[]];h=h.clone(),f=f.clone();for(var g=0,w=0,E;h.cmpn(-g)>0||f.cmpn(-w)>0;){var C=h.andln(3)+g&3,N=f.andln(3)+w&3;C===3&&(C=-1),N===3&&(N=-1);var D;(C&1)===0?D=0:(E=h.andln(7)+g&7,(E===3||E===5)&&N===2?D=-C:D=C),m[0].push(D);var F;(N&1)===0?F=0:(E=f.andln(7)+w&7,(E===3||E===5)&&C===2?F=-N:F=N),m[1].push(F),2*g===D+1&&(g=1-g),2*w===F+1&&(w=1-w),h.iushrn(1),f.iushrn(1)}return m}e.getJSF=o;function a(h,f,m){var g="_"+f;h.prototype[f]=function(){return this[g]!==void 0?this[g]:this[g]=m.call(this)}}e.cachedProperty=a;function u(h){return typeof h=="string"?e.toArray(h,"hex"):h}e.parseBytes=u;function l(h){return new r(h,"hex","le")}e.intFromLE=l}(e_)),e_}var Ly={exports:{}},eP;function L9(){if(eP)return Ly.exports;eP=1;var t;Ly.exports=function(i){return t||(t=new e(null)),t.generate(i)};function e(n){this.rand=n}if(Ly.exports.Rand=e,e.prototype.generate=function(i){return this._rand(i)},e.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var s=new Uint8Array(i),o=0;o<s.length;o++)s[o]=this.rand.getByte();return s},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(i){var s=new Uint8Array(i);return self.crypto.getRandomValues(s),s}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(i){var s=new Uint8Array(i);return self.msCrypto.getRandomValues(s),s}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=D9;if(typeof r.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(i){return r.randomBytes(i)}}catch{}return Ly.exports}var n_={},i_,tP;function eb(){if(tP)return i_;tP=1;var t=pc(),e=qs(),r=e.getNAF,n=e.getJSF,i=e.assert;function s(a,u){this.type=a,this.p=new t(u.p,16),this.red=u.prime?t.red(u.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=u.n&&new t(u.n,16),this.g=u.g&&this.pointFromJSON(u.g,u.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var l=this.n&&this.p.div(this.n);!l||l.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}i_=s,s.prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(u,l){i(u.precomputed);var h=u._getDoubles(),f=r(l,1,this._bitLength),m=(1<<h.step+1)-(h.step%2===0?2:1);m/=3;var g=[],w,E;for(w=0;w<f.length;w+=h.step){E=0;for(var C=w+h.step-1;C>=w;C--)E=(E<<1)+f[C];g.push(E)}for(var N=this.jpoint(null,null,null),D=this.jpoint(null,null,null),F=m;F>0;F--){for(w=0;w<g.length;w++)E=g[w],E===F?D=D.mixedAdd(h.points[w]):E===-F&&(D=D.mixedAdd(h.points[w].neg()));N=N.add(D)}return N.toP()},s.prototype._wnafMul=function(u,l){var h=4,f=u._getNAFPoints(h);h=f.wnd;for(var m=f.points,g=r(l,h,this._bitLength),w=this.jpoint(null,null,null),E=g.length-1;E>=0;E--){for(var C=0;E>=0&&g[E]===0;E--)C++;if(E>=0&&C++,w=w.dblp(C),E<0)break;var N=g[E];i(N!==0),u.type==="affine"?N>0?w=w.mixedAdd(m[N-1>>1]):w=w.mixedAdd(m[-N-1>>1].neg()):N>0?w=w.add(m[N-1>>1]):w=w.add(m[-N-1>>1].neg())}return u.type==="affine"?w.toP():w},s.prototype._wnafMulAdd=function(u,l,h,f,m){var g=this._wnafT1,w=this._wnafT2,E=this._wnafT3,C=0,N,D,F;for(N=0;N<f;N++){F=l[N];var V=F._getNAFPoints(u);g[N]=V.wnd,w[N]=V.points}for(N=f-1;N>=1;N-=2){var q=N-1,j=N;if(g[q]!==1||g[j]!==1){E[q]=r(h[q],g[q],this._bitLength),E[j]=r(h[j],g[j],this._bitLength),C=Math.max(E[q].length,C),C=Math.max(E[j].length,C);continue}var U=[l[q],null,null,l[j]];l[q].y.cmp(l[j].y)===0?(U[1]=l[q].add(l[j]),U[2]=l[q].toJ().mixedAdd(l[j].neg())):l[q].y.cmp(l[j].y.redNeg())===0?(U[1]=l[q].toJ().mixedAdd(l[j]),U[2]=l[q].add(l[j].neg())):(U[1]=l[q].toJ().mixedAdd(l[j]),U[2]=l[q].toJ().mixedAdd(l[j].neg()));var $=[-3,-1,-5,-7,0,7,5,1,3],k=n(h[q],h[j]);for(C=Math.max(k[0].length,C),E[q]=new Array(C),E[j]=new Array(C),D=0;D<C;D++){var W=k[0][D]|0,x=k[1][D]|0;E[q][D]=$[(W+1)*3+(x+1)],E[j][D]=0,w[q]=U}}var v=this.jpoint(null,null,null),_=this._wnafT4;for(N=C;N>=0;N--){for(var T=0;N>=0;){var I=!0;for(D=0;D<f;D++)_[D]=E[D][N]|0,_[D]!==0&&(I=!1);if(!I)break;T++,N--}if(N>=0&&T++,v=v.dblp(T),N<0)break;for(D=0;D<f;D++){var P=_[D];P!==0&&(P>0?F=w[D][P-1>>1]:P<0&&(F=w[D][-P-1>>1].neg()),F.type==="affine"?v=v.mixedAdd(F):v=v.add(F))}}for(N=0;N<f;N++)w[N]=null;return m?v:v.toP()};function o(a,u){this.curve=a,this.type=u,this.precomputed=null}return s.BasePoint=o,o.prototype.eq=function(){throw new Error("Not implemented")},o.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(u,l){u=e.toArray(u,l);var h=this.p.byteLength();if((u[0]===4||u[0]===6||u[0]===7)&&u.length-1===2*h){u[0]===6?i(u[u.length-1]%2===0):u[0]===7&&i(u[u.length-1]%2===1);var f=this.point(u.slice(1,1+h),u.slice(1+h,1+2*h));return f}else if((u[0]===2||u[0]===3)&&u.length-1===h)return this.pointFromX(u.slice(1,1+h),u[0]===3);throw new Error("Unknown point format")},o.prototype.encodeCompressed=function(u){return this.encode(u,!0)},o.prototype._encode=function(u){var l=this.curve.p.byteLength(),h=this.getX().toArray("be",l);return u?[this.getY().isEven()?2:3].concat(h):[4].concat(h,this.getY().toArray("be",l))},o.prototype.encode=function(u,l){return e.encode(this._encode(l),u)},o.prototype.precompute=function(u){if(this.precomputed)return this;var l={doubles:null,naf:null,beta:null};return l.naf=this._getNAFPoints(8),l.doubles=this._getDoubles(4,u),l.beta=this._getBeta(),this.precomputed=l,this},o.prototype._hasDoubles=function(u){if(!this.precomputed)return!1;var l=this.precomputed.doubles;return l?l.points.length>=Math.ceil((u.bitLength()+1)/l.step):!1},o.prototype._getDoubles=function(u,l){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var h=[this],f=this,m=0;m<l;m+=u){for(var g=0;g<u;g++)f=f.dbl();h.push(f)}return{step:u,points:h}},o.prototype._getNAFPoints=function(u){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var l=[this],h=(1<<u)-1,f=h===1?null:this.dbl(),m=1;m<h;m++)l[m]=l[m-1].add(f);return{wnd:u,points:l}},o.prototype._getBeta=function(){return null},o.prototype.dblp=function(u){for(var l=this,h=0;h<u;h++)l=l.dbl();return l},i_}var Uy={exports:{}},rP;function tb(){return rP||(rP=1,typeof Object.create=="function"?Uy.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Uy.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Uy.exports}var s_,nP;function MJ(){if(nP)return s_;nP=1;var t=qs(),e=pc(),r=tb(),n=eb(),i=t.assert;function s(u){n.call(this,"short",u),this.a=new e(u.a,16).toRed(this.red),this.b=new e(u.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(u),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}r(s,n),s_=s,s.prototype._getEndomorphism=function(l){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var h,f;if(l.beta)h=new e(l.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);h=m[0].cmp(m[1])<0?m[0]:m[1],h=h.toRed(this.red)}if(l.lambda)f=new e(l.lambda,16);else{var g=this._getEndoRoots(this.n);this.g.mul(g[0]).x.cmp(this.g.x.redMul(h))===0?f=g[0]:(f=g[1],i(this.g.mul(f).x.cmp(this.g.x.redMul(h))===0))}var w;return l.basis?w=l.basis.map(function(E){return{a:new e(E.a,16),b:new e(E.b,16)}}):w=this._getEndoBasis(f),{beta:h,lambda:f,basis:w}}},s.prototype._getEndoRoots=function(l){var h=l===this.p?this.red:e.mont(l),f=new e(2).toRed(h).redInvm(),m=f.redNeg(),g=new e(3).toRed(h).redNeg().redSqrt().redMul(f),w=m.redAdd(g).fromRed(),E=m.redSub(g).fromRed();return[w,E]},s.prototype._getEndoBasis=function(l){for(var h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=l,m=this.n.clone(),g=new e(1),w=new e(0),E=new e(0),C=new e(1),N,D,F,V,q,j,U,$=0,k,W;f.cmpn(0)!==0;){var x=m.div(f);k=m.sub(x.mul(f)),W=E.sub(x.mul(g));var v=C.sub(x.mul(w));if(!F&&k.cmp(h)<0)N=U.neg(),D=g,F=k.neg(),V=W;else if(F&&++$===2)break;U=k,m=f,f=k,E=g,g=W,C=w,w=v}q=k.neg(),j=W;var _=F.sqr().add(V.sqr()),T=q.sqr().add(j.sqr());return T.cmp(_)>=0&&(q=N,j=D),F.negative&&(F=F.neg(),V=V.neg()),q.negative&&(q=q.neg(),j=j.neg()),[{a:F,b:V},{a:q,b:j}]},s.prototype._endoSplit=function(l){var h=this.endo.basis,f=h[0],m=h[1],g=m.b.mul(l).divRound(this.n),w=f.b.neg().mul(l).divRound(this.n),E=g.mul(f.a),C=w.mul(m.a),N=g.mul(f.b),D=w.mul(m.b),F=l.sub(E).sub(C),V=N.add(D).neg();return{k1:F,k2:V}},s.prototype.pointFromX=function(l,h){l=new e(l,16),l.red||(l=l.toRed(this.red));var f=l.redSqr().redMul(l).redIAdd(l.redMul(this.a)).redIAdd(this.b),m=f.redSqrt();if(m.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var g=m.fromRed().isOdd();return(h&&!g||!h&&g)&&(m=m.redNeg()),this.point(l,m)},s.prototype.validate=function(l){if(l.inf)return!0;var h=l.x,f=l.y,m=this.a.redMul(h),g=h.redSqr().redMul(h).redIAdd(m).redIAdd(this.b);return f.redSqr().redISub(g).cmpn(0)===0},s.prototype._endoWnafMulAdd=function(l,h,f){for(var m=this._endoWnafT1,g=this._endoWnafT2,w=0;w<l.length;w++){var E=this._endoSplit(h[w]),C=l[w],N=C._getBeta();E.k1.negative&&(E.k1.ineg(),C=C.neg(!0)),E.k2.negative&&(E.k2.ineg(),N=N.neg(!0)),m[w*2]=C,m[w*2+1]=N,g[w*2]=E.k1,g[w*2+1]=E.k2}for(var D=this._wnafMulAdd(1,m,g,w*2,f),F=0;F<w*2;F++)m[F]=null,g[F]=null;return D};function o(u,l,h,f){n.BasePoint.call(this,u,"affine"),l===null&&h===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(l,16),this.y=new e(h,16),f&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}r(o,n.BasePoint),s.prototype.point=function(l,h,f){return new o(this,l,h,f)},s.prototype.pointFromJSON=function(l,h){return o.fromJSON(this,l,h)},o.prototype._getBeta=function(){if(this.curve.endo){var l=this.precomputed;if(l&&l.beta)return l.beta;var h=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(l){var f=this.curve,m=function(g){return f.point(g.x.redMul(f.endo.beta),g.y)};l.beta=h,h.precomputed={beta:null,naf:l.naf&&{wnd:l.naf.wnd,points:l.naf.points.map(m)},doubles:l.doubles&&{step:l.doubles.step,points:l.doubles.points.map(m)}}}return h}},o.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},o.fromJSON=function(l,h,f){typeof h=="string"&&(h=JSON.parse(h));var m=l.point(h[0],h[1],f);if(!h[2])return m;function g(E){return l.point(E[0],E[1],f)}var w=h[2];return m.precomputed={beta:null,doubles:w.doubles&&{step:w.doubles.step,points:[m].concat(w.doubles.points.map(g))},naf:w.naf&&{wnd:w.naf.wnd,points:[m].concat(w.naf.points.map(g))}},m},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.inf},o.prototype.add=function(l){if(this.inf)return l;if(l.inf)return this;if(this.eq(l))return this.dbl();if(this.neg().eq(l))return this.curve.point(null,null);if(this.x.cmp(l.x)===0)return this.curve.point(null,null);var h=this.y.redSub(l.y);h.cmpn(0)!==0&&(h=h.redMul(this.x.redSub(l.x).redInvm()));var f=h.redSqr().redISub(this.x).redISub(l.x),m=h.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,m)},o.prototype.dbl=function(){if(this.inf)return this;var l=this.y.redAdd(this.y);if(l.cmpn(0)===0)return this.curve.point(null,null);var h=this.curve.a,f=this.x.redSqr(),m=l.redInvm(),g=f.redAdd(f).redIAdd(f).redIAdd(h).redMul(m),w=g.redSqr().redISub(this.x.redAdd(this.x)),E=g.redMul(this.x.redSub(w)).redISub(this.y);return this.curve.point(w,E)},o.prototype.getX=function(){return this.x.fromRed()},o.prototype.getY=function(){return this.y.fromRed()},o.prototype.mul=function(l){return l=new e(l,16),this.isInfinity()?this:this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve.endo?this.curve._endoWnafMulAdd([this],[l]):this.curve._wnafMul(this,l)},o.prototype.mulAdd=function(l,h,f){var m=[this,h],g=[l,f];return this.curve.endo?this.curve._endoWnafMulAdd(m,g):this.curve._wnafMulAdd(1,m,g,2)},o.prototype.jmulAdd=function(l,h,f){var m=[this,h],g=[l,f];return this.curve.endo?this.curve._endoWnafMulAdd(m,g,!0):this.curve._wnafMulAdd(1,m,g,2,!0)},o.prototype.eq=function(l){return this===l||this.inf===l.inf&&(this.inf||this.x.cmp(l.x)===0&&this.y.cmp(l.y)===0)},o.prototype.neg=function(l){if(this.inf)return this;var h=this.curve.point(this.x,this.y.redNeg());if(l&&this.precomputed){var f=this.precomputed,m=function(g){return g.neg()};h.precomputed={naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(m)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(m)}}}return h},o.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var l=this.curve.jpoint(this.x,this.y,this.curve.one);return l};function a(u,l,h,f){n.BasePoint.call(this,u,"jacobian"),l===null&&h===null&&f===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(l,16),this.y=new e(h,16),this.z=new e(f,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return r(a,n.BasePoint),s.prototype.jpoint=function(l,h,f){return new a(this,l,h,f)},a.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var l=this.z.redInvm(),h=l.redSqr(),f=this.x.redMul(h),m=this.y.redMul(h).redMul(l);return this.curve.point(f,m)},a.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},a.prototype.add=function(l){if(this.isInfinity())return l;if(l.isInfinity())return this;var h=l.z.redSqr(),f=this.z.redSqr(),m=this.x.redMul(h),g=l.x.redMul(f),w=this.y.redMul(h.redMul(l.z)),E=l.y.redMul(f.redMul(this.z)),C=m.redSub(g),N=w.redSub(E);if(C.cmpn(0)===0)return N.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=C.redSqr(),F=D.redMul(C),V=m.redMul(D),q=N.redSqr().redIAdd(F).redISub(V).redISub(V),j=N.redMul(V.redISub(q)).redISub(w.redMul(F)),U=this.z.redMul(l.z).redMul(C);return this.curve.jpoint(q,j,U)},a.prototype.mixedAdd=function(l){if(this.isInfinity())return l.toJ();if(l.isInfinity())return this;var h=this.z.redSqr(),f=this.x,m=l.x.redMul(h),g=this.y,w=l.y.redMul(h).redMul(this.z),E=f.redSub(m),C=g.redSub(w);if(E.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var N=E.redSqr(),D=N.redMul(E),F=f.redMul(N),V=C.redSqr().redIAdd(D).redISub(F).redISub(F),q=C.redMul(F.redISub(V)).redISub(g.redMul(D)),j=this.z.redMul(E);return this.curve.jpoint(V,q,j)},a.prototype.dblp=function(l){if(l===0)return this;if(this.isInfinity())return this;if(!l)return this.dbl();var h;if(this.curve.zeroA||this.curve.threeA){var f=this;for(h=0;h<l;h++)f=f.dbl();return f}var m=this.curve.a,g=this.curve.tinv,w=this.x,E=this.y,C=this.z,N=C.redSqr().redSqr(),D=E.redAdd(E);for(h=0;h<l;h++){var F=w.redSqr(),V=D.redSqr(),q=V.redSqr(),j=F.redAdd(F).redIAdd(F).redIAdd(m.redMul(N)),U=w.redMul(V),$=j.redSqr().redISub(U.redAdd(U)),k=U.redISub($),W=j.redMul(k);W=W.redIAdd(W).redISub(q);var x=D.redMul(C);h+1<l&&(N=N.redMul(q)),w=$,C=x,D=W}return this.curve.jpoint(w,D.redMul(g),C)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},a.prototype._zeroDbl=function(){var l,h,f;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),w=g.redSqr(),E=this.x.redAdd(g).redSqr().redISub(m).redISub(w);E=E.redIAdd(E);var C=m.redAdd(m).redIAdd(m),N=C.redSqr().redISub(E).redISub(E),D=w.redIAdd(w);D=D.redIAdd(D),D=D.redIAdd(D),l=N,h=C.redMul(E.redISub(N)).redISub(D),f=this.y.redAdd(this.y)}else{var F=this.x.redSqr(),V=this.y.redSqr(),q=V.redSqr(),j=this.x.redAdd(V).redSqr().redISub(F).redISub(q);j=j.redIAdd(j);var U=F.redAdd(F).redIAdd(F),$=U.redSqr(),k=q.redIAdd(q);k=k.redIAdd(k),k=k.redIAdd(k),l=$.redISub(j).redISub(j),h=U.redMul(j.redISub(l)).redISub(k),f=this.y.redMul(this.z),f=f.redIAdd(f)}return this.curve.jpoint(l,h,f)},a.prototype._threeDbl=function(){var l,h,f;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),w=g.redSqr(),E=this.x.redAdd(g).redSqr().redISub(m).redISub(w);E=E.redIAdd(E);var C=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),N=C.redSqr().redISub(E).redISub(E);l=N;var D=w.redIAdd(w);D=D.redIAdd(D),D=D.redIAdd(D),h=C.redMul(E.redISub(N)).redISub(D),f=this.y.redAdd(this.y)}else{var F=this.z.redSqr(),V=this.y.redSqr(),q=this.x.redMul(V),j=this.x.redSub(F).redMul(this.x.redAdd(F));j=j.redAdd(j).redIAdd(j);var U=q.redIAdd(q);U=U.redIAdd(U);var $=U.redAdd(U);l=j.redSqr().redISub($),f=this.y.redAdd(this.z).redSqr().redISub(V).redISub(F);var k=V.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),h=j.redMul(U.redISub(l)).redISub(k)}return this.curve.jpoint(l,h,f)},a.prototype._dbl=function(){var l=this.curve.a,h=this.x,f=this.y,m=this.z,g=m.redSqr().redSqr(),w=h.redSqr(),E=f.redSqr(),C=w.redAdd(w).redIAdd(w).redIAdd(l.redMul(g)),N=h.redAdd(h);N=N.redIAdd(N);var D=N.redMul(E),F=C.redSqr().redISub(D.redAdd(D)),V=D.redISub(F),q=E.redSqr();q=q.redIAdd(q),q=q.redIAdd(q),q=q.redIAdd(q);var j=C.redMul(V).redISub(q),U=f.redAdd(f).redMul(m);return this.curve.jpoint(F,j,U)},a.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var l=this.x.redSqr(),h=this.y.redSqr(),f=this.z.redSqr(),m=h.redSqr(),g=l.redAdd(l).redIAdd(l),w=g.redSqr(),E=this.x.redAdd(h).redSqr().redISub(l).redISub(m);E=E.redIAdd(E),E=E.redAdd(E).redIAdd(E),E=E.redISub(w);var C=E.redSqr(),N=m.redIAdd(m);N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N);var D=g.redIAdd(E).redSqr().redISub(w).redISub(C).redISub(N),F=h.redMul(D);F=F.redIAdd(F),F=F.redIAdd(F);var V=this.x.redMul(C).redISub(F);V=V.redIAdd(V),V=V.redIAdd(V);var q=this.y.redMul(D.redMul(N.redISub(D)).redISub(E.redMul(C)));q=q.redIAdd(q),q=q.redIAdd(q),q=q.redIAdd(q);var j=this.z.redAdd(E).redSqr().redISub(f).redISub(C);return this.curve.jpoint(V,q,j)},a.prototype.mul=function(l,h){return l=new e(l,h),this.curve._wnafMul(this,l)},a.prototype.eq=function(l){if(l.type==="affine")return this.eq(l.toJ());if(this===l)return!0;var h=this.z.redSqr(),f=l.z.redSqr();if(this.x.redMul(f).redISub(l.x.redMul(h)).cmpn(0)!==0)return!1;var m=h.redMul(this.z),g=f.redMul(l.z);return this.y.redMul(g).redISub(l.y.redMul(m)).cmpn(0)===0},a.prototype.eqXToP=function(l){var h=this.z.redSqr(),f=l.toRed(this.curve.red).redMul(h);if(this.x.cmp(f)===0)return!0;for(var m=l.clone(),g=this.curve.redN.redMul(h);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(g),this.x.cmp(f)===0)return!0}},a.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},a.prototype.isInfinity=function(){return this.z.cmpn(0)===0},s_}var o_,iP;function LJ(){if(iP)return o_;iP=1;var t=pc(),e=tb(),r=eb(),n=qs();function i(o){r.call(this,"mont",o),this.a=new t(o.a,16).toRed(this.red),this.b=new t(o.b,16).toRed(this.red),this.i4=new t(4).toRed(this.red).redInvm(),this.two=new t(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(i,r),o_=i,i.prototype.validate=function(a){var u=a.normalize().x,l=u.redSqr(),h=l.redMul(u).redAdd(l.redMul(this.a)).redAdd(u),f=h.redSqrt();return f.redSqr().cmp(h)===0};function s(o,a,u){r.BasePoint.call(this,o,"projective"),a===null&&u===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new t(a,16),this.z=new t(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(s,r.BasePoint),i.prototype.decodePoint=function(a,u){return this.point(n.toArray(a,u),1)},i.prototype.point=function(a,u){return new s(this,a,u)},i.prototype.pointFromJSON=function(a){return s.fromJSON(this,a)},s.prototype.precompute=function(){},s.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},s.fromJSON=function(a,u){return new s(a,u[0],u[1]||a.one)},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.z.cmpn(0)===0},s.prototype.dbl=function(){var a=this.x.redAdd(this.z),u=a.redSqr(),l=this.x.redSub(this.z),h=l.redSqr(),f=u.redSub(h),m=u.redMul(h),g=f.redMul(h.redAdd(this.curve.a24.redMul(f)));return this.curve.point(m,g)},s.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.diffAdd=function(a,u){var l=this.x.redAdd(this.z),h=this.x.redSub(this.z),f=a.x.redAdd(a.z),m=a.x.redSub(a.z),g=m.redMul(l),w=f.redMul(h),E=u.z.redMul(g.redAdd(w).redSqr()),C=u.x.redMul(g.redISub(w).redSqr());return this.curve.point(E,C)},s.prototype.mul=function(a){for(var u=a.clone(),l=this,h=this.curve.point(null,null),f=this,m=[];u.cmpn(0)!==0;u.iushrn(1))m.push(u.andln(1));for(var g=m.length-1;g>=0;g--)m[g]===0?(l=l.diffAdd(h,f),h=h.dbl()):(h=l.diffAdd(h,f),l=l.dbl());return h},s.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.eq=function(a){return this.getX().cmp(a.getX())===0},s.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()},o_}var a_,sP;function UJ(){if(sP)return a_;sP=1;var t=qs(),e=pc(),r=tb(),n=eb(),i=t.assert;function s(a){this.twisted=(a.a|0)!==1,this.mOneA=this.twisted&&(a.a|0)===-1,this.extended=this.mOneA,n.call(this,"edwards",a),this.a=new e(a.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(a.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(a.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),i(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(a.c|0)===1}r(s,n),a_=s,s.prototype._mulA=function(u){return this.mOneA?u.redNeg():this.a.redMul(u)},s.prototype._mulC=function(u){return this.oneC?u:this.c.redMul(u)},s.prototype.jpoint=function(u,l,h,f){return this.point(u,l,h,f)},s.prototype.pointFromX=function(u,l){u=new e(u,16),u.red||(u=u.toRed(this.red));var h=u.redSqr(),f=this.c2.redSub(this.a.redMul(h)),m=this.one.redSub(this.c2.redMul(this.d).redMul(h)),g=f.redMul(m.redInvm()),w=g.redSqrt();if(w.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var E=w.fromRed().isOdd();return(l&&!E||!l&&E)&&(w=w.redNeg()),this.point(u,w)},s.prototype.pointFromY=function(u,l){u=new e(u,16),u.red||(u=u.toRed(this.red));var h=u.redSqr(),f=h.redSub(this.c2),m=h.redMul(this.d).redMul(this.c2).redSub(this.a),g=f.redMul(m.redInvm());if(g.cmp(this.zero)===0){if(l)throw new Error("invalid point");return this.point(this.zero,u)}var w=g.redSqrt();if(w.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");return w.fromRed().isOdd()!==l&&(w=w.redNeg()),this.point(w,u)},s.prototype.validate=function(u){if(u.isInfinity())return!0;u.normalize();var l=u.x.redSqr(),h=u.y.redSqr(),f=l.redMul(this.a).redAdd(h),m=this.c2.redMul(this.one.redAdd(this.d.redMul(l).redMul(h)));return f.cmp(m)===0};function o(a,u,l,h,f){n.BasePoint.call(this,a,"projective"),u===null&&l===null&&h===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(u,16),this.y=new e(l,16),this.z=h?new e(h,16):this.curve.one,this.t=f&&new e(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return r(o,n.BasePoint),s.prototype.pointFromJSON=function(u){return o.fromJSON(this,u)},s.prototype.point=function(u,l,h,f){return new o(this,u,l,h,f)},o.fromJSON=function(u,l){return new o(u,l[0],l[1],l[2])},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},o.prototype._extDbl=function(){var u=this.x.redSqr(),l=this.y.redSqr(),h=this.z.redSqr();h=h.redIAdd(h);var f=this.curve._mulA(u),m=this.x.redAdd(this.y).redSqr().redISub(u).redISub(l),g=f.redAdd(l),w=g.redSub(h),E=f.redSub(l),C=m.redMul(w),N=g.redMul(E),D=m.redMul(E),F=w.redMul(g);return this.curve.point(C,N,F,D)},o.prototype._projDbl=function(){var u=this.x.redAdd(this.y).redSqr(),l=this.x.redSqr(),h=this.y.redSqr(),f,m,g,w,E,C;if(this.curve.twisted){w=this.curve._mulA(l);var N=w.redAdd(h);this.zOne?(f=u.redSub(l).redSub(h).redMul(N.redSub(this.curve.two)),m=N.redMul(w.redSub(h)),g=N.redSqr().redSub(N).redSub(N)):(E=this.z.redSqr(),C=N.redSub(E).redISub(E),f=u.redSub(l).redISub(h).redMul(C),m=N.redMul(w.redSub(h)),g=N.redMul(C))}else w=l.redAdd(h),E=this.curve._mulC(this.z).redSqr(),C=w.redSub(E).redSub(E),f=this.curve._mulC(u.redISub(w)).redMul(C),m=this.curve._mulC(w).redMul(l.redISub(h)),g=w.redMul(C);return this.curve.point(f,m,g)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},o.prototype._extAdd=function(u){var l=this.y.redSub(this.x).redMul(u.y.redSub(u.x)),h=this.y.redAdd(this.x).redMul(u.y.redAdd(u.x)),f=this.t.redMul(this.curve.dd).redMul(u.t),m=this.z.redMul(u.z.redAdd(u.z)),g=h.redSub(l),w=m.redSub(f),E=m.redAdd(f),C=h.redAdd(l),N=g.redMul(w),D=E.redMul(C),F=g.redMul(C),V=w.redMul(E);return this.curve.point(N,D,V,F)},o.prototype._projAdd=function(u){var l=this.z.redMul(u.z),h=l.redSqr(),f=this.x.redMul(u.x),m=this.y.redMul(u.y),g=this.curve.d.redMul(f).redMul(m),w=h.redSub(g),E=h.redAdd(g),C=this.x.redAdd(this.y).redMul(u.x.redAdd(u.y)).redISub(f).redISub(m),N=l.redMul(w).redMul(C),D,F;return this.curve.twisted?(D=l.redMul(E).redMul(m.redSub(this.curve._mulA(f))),F=w.redMul(E)):(D=l.redMul(E).redMul(m.redSub(f)),F=this.curve._mulC(w).redMul(E)),this.curve.point(N,D,F)},o.prototype.add=function(u){return this.isInfinity()?u:u.isInfinity()?this:this.curve.extended?this._extAdd(u):this._projAdd(u)},o.prototype.mul=function(u){return this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve._wnafMul(this,u)},o.prototype.mulAdd=function(u,l,h){return this.curve._wnafMulAdd(1,[this,l],[u,h],2,!1)},o.prototype.jmulAdd=function(u,l,h){return this.curve._wnafMulAdd(1,[this,l],[u,h],2,!0)},o.prototype.normalize=function(){if(this.zOne)return this;var u=this.z.redInvm();return this.x=this.x.redMul(u),this.y=this.y.redMul(u),this.t&&(this.t=this.t.redMul(u)),this.z=this.curve.one,this.zOne=!0,this},o.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},o.prototype.getY=function(){return this.normalize(),this.y.fromRed()},o.prototype.eq=function(u){return this===u||this.getX().cmp(u.getX())===0&&this.getY().cmp(u.getY())===0},o.prototype.eqXToP=function(u){var l=u.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(l)===0)return!0;for(var h=u.clone(),f=this.curve.redN.redMul(this.z);;){if(h.iadd(this.curve.n),h.cmp(this.curve.p)>=0)return!1;if(l.redIAdd(f),this.x.cmp(l)===0)return!0}},o.prototype.toP=o.prototype.normalize,o.prototype.mixedAdd=o.prototype.add,a_}var oP;function U9(){return oP||(oP=1,function(t){var e=t;e.base=eb(),e.short=MJ(),e.mont=LJ(),e.edwards=UJ()}(n_)),n_}var c_={},l_={},hr={},aP;function wa(){if(aP)return hr;aP=1;var t=Ed(),e=tb();hr.inherits=e;function r(v,_){return(v.charCodeAt(_)&64512)!==55296||_<0||_+1>=v.length?!1:(v.charCodeAt(_+1)&64512)===56320}function n(v,_){if(Array.isArray(v))return v.slice();if(!v)return[];var T=[];if(typeof v=="string")if(_){if(_==="hex")for(v=v.replace(/[^a-z0-9]+/ig,""),v.length%2!==0&&(v="0"+v),P=0;P<v.length;P+=2)T.push(parseInt(v[P]+v[P+1],16))}else for(var I=0,P=0;P<v.length;P++){var M=v.charCodeAt(P);M<128?T[I++]=M:M<2048?(T[I++]=M>>6|192,T[I++]=M&63|128):r(v,P)?(M=65536+((M&1023)<<10)+(v.charCodeAt(++P)&1023),T[I++]=M>>18|240,T[I++]=M>>12&63|128,T[I++]=M>>6&63|128,T[I++]=M&63|128):(T[I++]=M>>12|224,T[I++]=M>>6&63|128,T[I++]=M&63|128)}else for(P=0;P<v.length;P++)T[P]=v[P]|0;return T}hr.toArray=n;function i(v){for(var _="",T=0;T<v.length;T++)_+=a(v[T].toString(16));return _}hr.toHex=i;function s(v){var _=v>>>24|v>>>8&65280|v<<8&16711680|(v&255)<<24;return _>>>0}hr.htonl=s;function o(v,_){for(var T="",I=0;I<v.length;I++){var P=v[I];_==="little"&&(P=s(P)),T+=u(P.toString(16))}return T}hr.toHex32=o;function a(v){return v.length===1?"0"+v:v}hr.zero2=a;function u(v){return v.length===7?"0"+v:v.length===6?"00"+v:v.length===5?"000"+v:v.length===4?"0000"+v:v.length===3?"00000"+v:v.length===2?"000000"+v:v.length===1?"0000000"+v:v}hr.zero8=u;function l(v,_,T,I){var P=T-_;t(P%4===0);for(var M=new Array(P/4),z=0,B=_;z<M.length;z++,B+=4){var A;I==="big"?A=v[B]<<24|v[B+1]<<16|v[B+2]<<8|v[B+3]:A=v[B+3]<<24|v[B+2]<<16|v[B+1]<<8|v[B],M[z]=A>>>0}return M}hr.join32=l;function h(v,_){for(var T=new Array(v.length*4),I=0,P=0;I<v.length;I++,P+=4){var M=v[I];_==="big"?(T[P]=M>>>24,T[P+1]=M>>>16&255,T[P+2]=M>>>8&255,T[P+3]=M&255):(T[P+3]=M>>>24,T[P+2]=M>>>16&255,T[P+1]=M>>>8&255,T[P]=M&255)}return T}hr.split32=h;function f(v,_){return v>>>_|v<<32-_}hr.rotr32=f;function m(v,_){return v<<_|v>>>32-_}hr.rotl32=m;function g(v,_){return v+_>>>0}hr.sum32=g;function w(v,_,T){return v+_+T>>>0}hr.sum32_3=w;function E(v,_,T,I){return v+_+T+I>>>0}hr.sum32_4=E;function C(v,_,T,I,P){return v+_+T+I+P>>>0}hr.sum32_5=C;function N(v,_,T,I){var P=v[_],M=v[_+1],z=I+M>>>0,B=(z<I?1:0)+T+P;v[_]=B>>>0,v[_+1]=z}hr.sum64=N;function D(v,_,T,I){var P=_+I>>>0,M=(P<_?1:0)+v+T;return M>>>0}hr.sum64_hi=D;function F(v,_,T,I){var P=_+I;return P>>>0}hr.sum64_lo=F;function V(v,_,T,I,P,M,z,B){var A=0,L=_;L=L+I>>>0,A+=L<_?1:0,L=L+M>>>0,A+=L<M?1:0,L=L+B>>>0,A+=L<B?1:0;var J=v+T+P+z+A;return J>>>0}hr.sum64_4_hi=V;function q(v,_,T,I,P,M,z,B){var A=_+I+M+B;return A>>>0}hr.sum64_4_lo=q;function j(v,_,T,I,P,M,z,B,A,L){var J=0,re=_;re=re+I>>>0,J+=re<_?1:0,re=re+M>>>0,J+=re<M?1:0,re=re+B>>>0,J+=re<B?1:0,re=re+L>>>0,J+=re<L?1:0;var ie=v+T+P+z+A+J;return ie>>>0}hr.sum64_5_hi=j;function U(v,_,T,I,P,M,z,B,A,L){var J=_+I+M+B+L;return J>>>0}hr.sum64_5_lo=U;function $(v,_,T){var I=_<<32-T|v>>>T;return I>>>0}hr.rotr64_hi=$;function k(v,_,T){var I=v<<32-T|_>>>T;return I>>>0}hr.rotr64_lo=k;function W(v,_,T){return v>>>T}hr.shr64_hi=W;function x(v,_,T){var I=v<<32-T|_>>>T;return I>>>0}return hr.shr64_lo=x,hr}var u_={},cP;function Qg(){if(cP)return u_;cP=1;var t=wa(),e=Ed();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return u_.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var u=1;u<o;u++)a[u]=0;if(i<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)a[u++]=0;a[u++]=0,a[u++]=0,a[u++]=0,a[u++]=0,a[u++]=i>>>24&255,a[u++]=i>>>16&255,a[u++]=i>>>8&255,a[u++]=i&255}else for(a[u++]=i&255,a[u++]=i>>>8&255,a[u++]=i>>>16&255,a[u++]=i>>>24&255,a[u++]=0,a[u++]=0,a[u++]=0,a[u++]=0,l=8;l<this.padLength;l++)a[u++]=0;return a},u_}var mu={},jo={},lP;function F9(){if(lP)return jo;lP=1;var t=wa(),e=t.rotr32;function r(h,f,m,g){if(h===0)return n(f,m,g);if(h===1||h===3)return s(f,m,g);if(h===2)return i(f,m,g)}jo.ft_1=r;function n(h,f,m){return h&f^~h&m}jo.ch32=n;function i(h,f,m){return h&f^h&m^f&m}jo.maj32=i;function s(h,f,m){return h^f^m}jo.p32=s;function o(h){return e(h,2)^e(h,13)^e(h,22)}jo.s0_256=o;function a(h){return e(h,6)^e(h,11)^e(h,25)}jo.s1_256=a;function u(h){return e(h,7)^e(h,18)^h>>>3}jo.g0_256=u;function l(h){return e(h,17)^e(h,19)^h>>>10}return jo.g1_256=l,jo}var d_,uP;function FJ(){if(uP)return d_;uP=1;var t=wa(),e=Qg(),r=F9(),n=t.rotl32,i=t.sum32,s=t.sum32_5,o=r.ft_1,a=e.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(l,a),d_=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(f,m){for(var g=this.W,w=0;w<16;w++)g[w]=f[m+w];for(;w<g.length;w++)g[w]=n(g[w-3]^g[w-8]^g[w-14]^g[w-16],1);var E=this.h[0],C=this.h[1],N=this.h[2],D=this.h[3],F=this.h[4];for(w=0;w<g.length;w++){var V=~~(w/20),q=s(n(E,5),o(V,C,N,D),F,g[w],u[V]);F=D,D=N,N=n(C,30),C=E,E=q}this.h[0]=i(this.h[0],E),this.h[1]=i(this.h[1],C),this.h[2]=i(this.h[2],N),this.h[3]=i(this.h[3],D),this.h[4]=i(this.h[4],F)},l.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},d_}var h_,dP;function $9(){if(dP)return h_;dP=1;var t=wa(),e=Qg(),r=F9(),n=Ed(),i=t.sum32,s=t.sum32_4,o=t.sum32_5,a=r.ch32,u=r.maj32,l=r.s0_256,h=r.s1_256,f=r.g0_256,m=r.g1_256,g=e.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function E(){if(!(this instanceof E))return new E;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}return t.inherits(E,g),h_=E,E.blockSize=512,E.outSize=256,E.hmacStrength=192,E.padLength=64,E.prototype._update=function(N,D){for(var F=this.W,V=0;V<16;V++)F[V]=N[D+V];for(;V<F.length;V++)F[V]=s(m(F[V-2]),F[V-7],f(F[V-15]),F[V-16]);var q=this.h[0],j=this.h[1],U=this.h[2],$=this.h[3],k=this.h[4],W=this.h[5],x=this.h[6],v=this.h[7];for(n(this.k.length===F.length),V=0;V<F.length;V++){var _=o(v,h(k),a(k,W,x),this.k[V],F[V]),T=i(l(q),u(q,j,U));v=x,x=W,W=k,k=i($,_),$=U,U=j,j=q,q=i(_,T)}this.h[0]=i(this.h[0],q),this.h[1]=i(this.h[1],j),this.h[2]=i(this.h[2],U),this.h[3]=i(this.h[3],$),this.h[4]=i(this.h[4],k),this.h[5]=i(this.h[5],W),this.h[6]=i(this.h[6],x),this.h[7]=i(this.h[7],v)},E.prototype._digest=function(N){return N==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},h_}var f_,hP;function $J(){if(hP)return f_;hP=1;var t=wa(),e=$9();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),f_=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},f_}var p_,fP;function B9(){if(fP)return p_;fP=1;var t=wa(),e=Qg(),r=Ed(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,a=t.sum64,u=t.sum64_hi,l=t.sum64_lo,h=t.sum64_4_hi,f=t.sum64_4_lo,m=t.sum64_5_hi,g=t.sum64_5_lo,w=e.BlockHash,E=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function C(){if(!(this instanceof C))return new C;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=E,this.W=new Array(160)}t.inherits(C,w),p_=C,C.blockSize=1024,C.outSize=512,C.hmacStrength=192,C.padLength=128,C.prototype._prepareBlock=function(T,I){for(var P=this.W,M=0;M<32;M++)P[M]=T[I+M];for(;M<P.length;M+=2){var z=x(P[M-4],P[M-3]),B=v(P[M-4],P[M-3]),A=P[M-14],L=P[M-13],J=k(P[M-30],P[M-29]),re=W(P[M-30],P[M-29]),ie=P[M-32],de=P[M-31];P[M]=h(z,B,A,L,J,re,ie,de),P[M+1]=f(z,B,A,L,J,re,ie,de)}},C.prototype._update=function(T,I){this._prepareBlock(T,I);var P=this.W,M=this.h[0],z=this.h[1],B=this.h[2],A=this.h[3],L=this.h[4],J=this.h[5],re=this.h[6],ie=this.h[7],de=this.h[8],pe=this.h[9],Ae=this.h[10],De=this.h[11],Ie=this.h[12],ze=this.h[13],ar=this.h[14],yt=this.h[15];r(this.k.length===P.length);for(var dt=0;dt<P.length;dt+=2){var Gr=ar,_t=yt,Pt=U(de,pe),ii=$(de,pe),Qt=N(de,pe,Ae,De,Ie),Lt=D(de,pe,Ae,De,Ie,ze),Tn=this.k[dt],At=this.k[dt+1],Ft=P[dt],_i=P[dt+1],St=m(Gr,_t,Pt,ii,Qt,Lt,Tn,At,Ft,_i),Rt=g(Gr,_t,Pt,ii,Qt,Lt,Tn,At,Ft,_i);Gr=q(M,z),_t=j(M,z),Pt=F(M,z,B,A,L),ii=V(M,z,B,A,L,J);var cr=u(Gr,_t,Pt,ii),st=l(Gr,_t,Pt,ii);ar=Ie,yt=ze,Ie=Ae,ze=De,Ae=de,De=pe,de=u(re,ie,St,Rt),pe=l(ie,ie,St,Rt),re=L,ie=J,L=B,J=A,B=M,A=z,M=u(St,Rt,cr,st),z=l(St,Rt,cr,st)}a(this.h,0,M,z),a(this.h,2,B,A),a(this.h,4,L,J),a(this.h,6,re,ie),a(this.h,8,de,pe),a(this.h,10,Ae,De),a(this.h,12,Ie,ze),a(this.h,14,ar,yt)},C.prototype._digest=function(T){return T==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function N(_,T,I,P,M){var z=_&I^~_&M;return z<0&&(z+=4294967296),z}function D(_,T,I,P,M,z){var B=T&P^~T&z;return B<0&&(B+=4294967296),B}function F(_,T,I,P,M){var z=_&I^_&M^I&M;return z<0&&(z+=4294967296),z}function V(_,T,I,P,M,z){var B=T&P^T&z^P&z;return B<0&&(B+=4294967296),B}function q(_,T){var I=n(_,T,28),P=n(T,_,2),M=n(T,_,7),z=I^P^M;return z<0&&(z+=4294967296),z}function j(_,T){var I=i(_,T,28),P=i(T,_,2),M=i(T,_,7),z=I^P^M;return z<0&&(z+=4294967296),z}function U(_,T){var I=n(_,T,14),P=n(_,T,18),M=n(T,_,9),z=I^P^M;return z<0&&(z+=4294967296),z}function $(_,T){var I=i(_,T,14),P=i(_,T,18),M=i(T,_,9),z=I^P^M;return z<0&&(z+=4294967296),z}function k(_,T){var I=n(_,T,1),P=n(_,T,8),M=s(_,T,7),z=I^P^M;return z<0&&(z+=4294967296),z}function W(_,T){var I=i(_,T,1),P=i(_,T,8),M=o(_,T,7),z=I^P^M;return z<0&&(z+=4294967296),z}function x(_,T){var I=n(_,T,19),P=n(T,_,29),M=s(_,T,6),z=I^P^M;return z<0&&(z+=4294967296),z}function v(_,T){var I=i(_,T,19),P=i(T,_,29),M=o(_,T,6),z=I^P^M;return z<0&&(z+=4294967296),z}return p_}var m_,pP;function BJ(){if(pP)return m_;pP=1;var t=wa(),e=B9();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),m_=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},m_}var mP;function jJ(){return mP||(mP=1,mu.sha1=FJ(),mu.sha224=$J(),mu.sha256=$9(),mu.sha384=BJ(),mu.sha512=B9()),mu}var g_={},gP;function VJ(){if(gP)return g_;gP=1;var t=wa(),e=Qg(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),g_.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(C,N){for(var D=this.h[0],F=this.h[1],V=this.h[2],q=this.h[3],j=this.h[4],U=D,$=F,k=V,W=q,x=j,v=0;v<80;v++){var _=n(r(s(D,u(v,F,V,q),C[f[v]+N],l(v)),g[v]),j);D=j,j=q,q=r(V,10),V=F,F=_,_=n(r(s(U,u(79-v,$,k,W),C[m[v]+N],h(v)),w[v]),x),U=x,x=W,W=r(k,10),k=$,$=_}_=i(this.h[1],V,W),this.h[1]=i(this.h[2],q,x),this.h[2]=i(this.h[3],j,U),this.h[3]=i(this.h[4],D,$),this.h[4]=i(this.h[0],F,k),this.h[0]=_},a.prototype._digest=function(C){return C==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function u(E,C,N,D){return E<=15?C^N^D:E<=31?C&N|~C&D:E<=47?(C|~N)^D:E<=63?C&D|N&~D:C^(N|~D)}function l(E){return E<=15?0:E<=31?1518500249:E<=47?1859775393:E<=63?2400959708:2840853838}function h(E){return E<=15?1352829926:E<=31?1548603684:E<=47?1836072691:E<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return g_}var y_,yP;function qJ(){if(yP)return y_;yP=1;var t=wa(),e=Ed();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return y_=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},y_}var vP;function SS(){return vP||(vP=1,function(t){var e=t;e.utils=wa(),e.common=Qg(),e.sha=jJ(),e.ripemd=VJ(),e.hmac=qJ(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(l_)),l_}var v_,wP;function zJ(){return wP||(wP=1,v_={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),v_}var bP;function IS(){return bP||(bP=1,function(t){var e=t,r=SS(),n=U9(),i=qs(),s=i.assert;function o(l){l.type==="short"?this.curve=new n.short(l):l.type==="edwards"?this.curve=new n.edwards(l):this.curve=new n.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function a(l,h){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var f=new o(h);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:f}),f}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=zJ()}catch{u=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})}(c_)),c_}var w_,EP;function HJ(){if(EP)return w_;EP=1;var t=SS(),e=M9(),r=Ed();function n(i){if(!(this instanceof n))return new n(i);this.hash=i.hash,this.predResist=!!i.predResist,this.outLen=this.hash.outSize,this.minEntropy=i.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var s=e.toArray(i.entropy,i.entropyEnc||"hex"),o=e.toArray(i.nonce,i.nonceEnc||"hex"),a=e.toArray(i.pers,i.persEnc||"hex");r(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(s,o,a)}return w_=n,n.prototype._init=function(s,o,a){var u=s.concat(o).concat(a);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var l=0;l<this.V.length;l++)this.K[l]=0,this.V[l]=1;this._update(u),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new t.hmac(this.hash,this.K)},n.prototype._update=function(s){var o=this._hmac().update(this.V).update([0]);s&&(o=o.update(s)),this.K=o.digest(),this.V=this._hmac().update(this.V).digest(),s&&(this.K=this._hmac().update(this.V).update([1]).update(s).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(s,o,a,u){typeof o!="string"&&(u=a,a=o,o=null),s=e.toArray(s,o),a=e.toArray(a,u),r(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(s.concat(a||[])),this._reseed=1},n.prototype.generate=function(s,o,a,u){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof o!="string"&&(u=a,a=o,o=null),a&&(a=e.toArray(a,u||"hex"),this._update(a));for(var l=[];l.length<s;)this.V=this._hmac().update(this.V).digest(),l=l.concat(this.V);var h=l.slice(0,s);return this._update(a),this._reseed++,e.encode(h,o)},w_}var b_,_P;function WJ(){if(_P)return b_;_P=1;var t=pc(),e=qs(),r=e.assert;function n(i,s){this.ec=i,this.priv=null,this.pub=null,s.priv&&this._importPrivate(s.priv,s.privEnc),s.pub&&this._importPublic(s.pub,s.pubEnc)}return b_=n,n.fromPublic=function(s,o,a){return o instanceof n?o:new n(s,{pub:o,pubEnc:a})},n.fromPrivate=function(s,o,a){return o instanceof n?o:new n(s,{priv:o,privEnc:a})},n.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},n.prototype.getPublic=function(s,o){return typeof s=="string"&&(o=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,s):this.pub},n.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},n.prototype._importPrivate=function(s,o){this.priv=new t(s,o||16),this.priv=this.priv.umod(this.ec.curve.n)},n.prototype._importPublic=function(s,o){if(s.x||s.y){this.ec.curve.type==="mont"?r(s.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&r(s.x&&s.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(s.x,s.y);return}this.pub=this.ec.curve.decodePoint(s,o)},n.prototype.derive=function(s){return s.validate()||r(s.validate(),"public point not validated"),s.mul(this.priv).getX()},n.prototype.sign=function(s,o,a){return this.ec.sign(s,this,o,a)},n.prototype.verify=function(s,o,a){return this.ec.verify(s,o,this,void 0,a)},n.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},b_}var E_,AP;function KJ(){if(AP)return E_;AP=1;var t=pc(),e=qs(),r=e.assert;function n(u,l){if(u instanceof n)return u;this._importDER(u,l)||(r(u.r&&u.s,"Signature without r or s"),this.r=new t(u.r,16),this.s=new t(u.s,16),u.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=u.recoveryParam)}E_=n;function i(){this.place=0}function s(u,l){var h=u[l.place++];if(!(h&128))return h;var f=h&15;if(f===0||f>4||u[l.place]===0)return!1;for(var m=0,g=0,w=l.place;g<f;g++,w++)m<<=8,m|=u[w],m>>>=0;return m<=127?!1:(l.place=w,m)}function o(u){for(var l=0,h=u.length-1;!u[l]&&!(u[l+1]&128)&&l<h;)l++;return l===0?u:u.slice(l)}n.prototype._importDER=function(l,h){l=e.toArray(l,h);var f=new i;if(l[f.place++]!==48)return!1;var m=s(l,f);if(m===!1||m+f.place!==l.length||l[f.place++]!==2)return!1;var g=s(l,f);if(g===!1||(l[f.place]&128)!==0)return!1;var w=l.slice(f.place,g+f.place);if(f.place+=g,l[f.place++]!==2)return!1;var E=s(l,f);if(E===!1||l.length!==E+f.place||(l[f.place]&128)!==0)return!1;var C=l.slice(f.place,E+f.place);if(w[0]===0)if(w[1]&128)w=w.slice(1);else return!1;if(C[0]===0)if(C[1]&128)C=C.slice(1);else return!1;return this.r=new t(w),this.s=new t(C),this.recoveryParam=null,!0};function a(u,l){if(l<128){u.push(l);return}var h=1+(Math.log(l)/Math.LN2>>>3);for(u.push(h|128);--h;)u.push(l>>>(h<<3)&255);u.push(l)}return n.prototype.toDER=function(l){var h=this.r.toArray(),f=this.s.toArray();for(h[0]&128&&(h=[0].concat(h)),f[0]&128&&(f=[0].concat(f)),h=o(h),f=o(f);!f[0]&&!(f[1]&128);)f=f.slice(1);var m=[2];a(m,h.length),m=m.concat(h),m.push(2),a(m,f.length);var g=m.concat(f),w=[48];return a(w,g.length),w=w.concat(g),e.encode(w,l)},E_}var __,CP;function GJ(){if(CP)return __;CP=1;var t=pc(),e=HJ(),r=qs(),n=IS(),i=L9(),s=r.assert,o=WJ(),a=KJ();function u(l){if(!(this instanceof u))return new u(l);typeof l=="string"&&(s(Object.prototype.hasOwnProperty.call(n,l),"Unknown curve "+l),l=n[l]),l instanceof n.PresetCurve&&(l={curve:l}),this.curve=l.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=l.curve.g,this.g.precompute(l.curve.n.bitLength()+1),this.hash=l.hash||l.curve.hash}return __=u,u.prototype.keyPair=function(h){return new o(this,h)},u.prototype.keyFromPrivate=function(h,f){return o.fromPrivate(this,h,f)},u.prototype.keyFromPublic=function(h,f){return o.fromPublic(this,h,f)},u.prototype.genKeyPair=function(h){h||(h={});for(var f=new e({hash:this.hash,pers:h.pers,persEnc:h.persEnc||"utf8",entropy:h.entropy||i(this.hash.hmacStrength),entropyEnc:h.entropy&&h.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),g=this.n.sub(new t(2));;){var w=new t(f.generate(m));if(!(w.cmp(g)>0))return w.iaddn(1),this.keyFromPrivate(w)}},u.prototype._truncateToN=function(h,f,m){var g;if(t.isBN(h)||typeof h=="number")h=new t(h,16),g=h.byteLength();else if(typeof h=="object")g=h.length,h=new t(h,16);else{var w=h.toString();g=w.length+1>>>1,h=new t(w,16)}typeof m!="number"&&(m=g*8);var E=m-this.n.bitLength();return E>0&&(h=h.ushrn(E)),!f&&h.cmp(this.n)>=0?h.sub(this.n):h},u.prototype.sign=function(h,f,m,g){if(typeof m=="object"&&(g=m,m=null),g||(g={}),typeof h!="string"&&typeof h!="number"&&!t.isBN(h)){s(typeof h=="object"&&h&&typeof h.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),s(h.length>>>0===h.length);for(var w=0;w<h.length;w++)s((h[w]&255)===h[w])}f=this.keyFromPrivate(f,m),h=this._truncateToN(h,!1,g.msgBitLength),s(!h.isNeg(),"Can not sign a negative message");var E=this.n.byteLength(),C=f.getPrivate().toArray("be",E),N=h.toArray("be",E);s(new t(N).eq(h),"Can not sign message");for(var D=new e({hash:this.hash,entropy:C,nonce:N,pers:g.pers,persEnc:g.persEnc||"utf8"}),F=this.n.sub(new t(1)),V=0;;V++){var q=g.k?g.k(V):new t(D.generate(this.n.byteLength()));if(q=this._truncateToN(q,!0),!(q.cmpn(1)<=0||q.cmp(F)>=0)){var j=this.g.mul(q);if(!j.isInfinity()){var U=j.getX(),$=U.umod(this.n);if($.cmpn(0)!==0){var k=q.invm(this.n).mul($.mul(f.getPrivate()).iadd(h));if(k=k.umod(this.n),k.cmpn(0)!==0){var W=(j.getY().isOdd()?1:0)|(U.cmp($)!==0?2:0);return g.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),W^=1),new a({r:$,s:k,recoveryParam:W})}}}}}},u.prototype.verify=function(h,f,m,g,w){w||(w={}),h=this._truncateToN(h,!1,w.msgBitLength),m=this.keyFromPublic(m,g),f=new a(f,"hex");var E=f.r,C=f.s;if(E.cmpn(1)<0||E.cmp(this.n)>=0||C.cmpn(1)<0||C.cmp(this.n)>=0)return!1;var N=C.invm(this.n),D=N.mul(h).umod(this.n),F=N.mul(E).umod(this.n),V;return this.curve._maxwellTrick?(V=this.g.jmulAdd(D,m.getPublic(),F),V.isInfinity()?!1:V.eqXToP(E)):(V=this.g.mulAdd(D,m.getPublic(),F),V.isInfinity()?!1:V.getX().umod(this.n).cmp(E)===0)},u.prototype.recoverPubKey=function(l,h,f,m){s((3&f)===f,"The recovery param is more than two bits"),h=new a(h,m);var g=this.n,w=new t(l),E=h.r,C=h.s,N=f&1,D=f>>1;if(E.cmp(this.curve.p.umod(this.curve.n))>=0&&D)throw new Error("Unable to find sencond key candinate");D?E=this.curve.pointFromX(E.add(this.curve.n),N):E=this.curve.pointFromX(E,N);var F=h.r.invm(g),V=g.sub(w).mul(F).umod(g),q=C.mul(F).umod(g);return this.g.mulAdd(V,E,q)},u.prototype.getKeyRecoveryParam=function(l,h,f,m){if(h=new a(h,m),h.recoveryParam!==null)return h.recoveryParam;for(var g=0;g<4;g++){var w;try{w=this.recoverPubKey(l,h,g)}catch{continue}if(w.eq(f))return g}throw new Error("Unable to find valid recovery factor")},__}var A_,SP;function QJ(){if(SP)return A_;SP=1;var t=qs(),e=t.assert,r=t.parseBytes,n=t.cachedProperty;function i(s,o){this.eddsa=s,this._secret=r(o.secret),s.isPoint(o.pub)?this._pub=o.pub:this._pubBytes=r(o.pub)}return i.fromPublic=function(o,a){return a instanceof i?a:new i(o,{pub:a})},i.fromSecret=function(o,a){return a instanceof i?a:new i(o,{secret:a})},i.prototype.secret=function(){return this._secret},n(i,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(i,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(i,"privBytes",function(){var o=this.eddsa,a=this.hash(),u=o.encodingLength-1,l=a.slice(0,o.encodingLength);return l[0]&=248,l[u]&=127,l[u]|=64,l}),n(i,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(i,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(i,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),i.prototype.sign=function(o){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(o,this)},i.prototype.verify=function(o,a){return this.eddsa.verify(o,a,this)},i.prototype.getSecret=function(o){return e(this._secret,"KeyPair is public only"),t.encode(this.secret(),o)},i.prototype.getPublic=function(o){return t.encode(this.pubBytes(),o)},A_=i,A_}var C_,IP;function YJ(){if(IP)return C_;IP=1;var t=pc(),e=qs(),r=e.assert,n=e.cachedProperty,i=e.parseBytes;function s(o,a){this.eddsa=o,typeof a!="object"&&(a=i(a)),Array.isArray(a)&&(r(a.length===o.encodingLength*2,"Signature has invalid size"),a={R:a.slice(0,o.encodingLength),S:a.slice(o.encodingLength)}),r(a.R&&a.S,"Signature without R or S"),o.isPoint(a.R)&&(this._R=a.R),a.S instanceof t&&(this._S=a.S),this._Rencoded=Array.isArray(a.R)?a.R:a.Rencoded,this._Sencoded=Array.isArray(a.S)?a.S:a.Sencoded}return n(s,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(s,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(s,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(s,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),s.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},s.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},C_=s,C_}var S_,TP;function JJ(){if(TP)return S_;TP=1;var t=SS(),e=IS(),r=qs(),n=r.assert,i=r.parseBytes,s=QJ(),o=YJ();function a(u){if(n(u==="ed25519","only tested with ed25519 so far"),!(this instanceof a))return new a(u);u=e[u].curve,this.curve=u,this.g=u.g,this.g.precompute(u.n.bitLength()+1),this.pointClass=u.point().constructor,this.encodingLength=Math.ceil(u.n.bitLength()/8),this.hash=t.sha512}return S_=a,a.prototype.sign=function(l,h){l=i(l);var f=this.keyFromSecret(h),m=this.hashInt(f.messagePrefix(),l),g=this.g.mul(m),w=this.encodePoint(g),E=this.hashInt(w,f.pubBytes(),l).mul(f.priv()),C=m.add(E).umod(this.curve.n);return this.makeSignature({R:g,S:C,Rencoded:w})},a.prototype.verify=function(l,h,f){if(l=i(l),h=this.makeSignature(h),h.S().gte(h.eddsa.curve.n)||h.S().isNeg())return!1;var m=this.keyFromPublic(f),g=this.hashInt(h.Rencoded(),m.pubBytes(),l),w=this.g.mul(h.S()),E=h.R().add(m.pub().mul(g));return E.eq(w)},a.prototype.hashInt=function(){for(var l=this.hash(),h=0;h<arguments.length;h++)l.update(arguments[h]);return r.intFromLE(l.digest()).umod(this.curve.n)},a.prototype.keyFromPublic=function(l){return s.fromPublic(this,l)},a.prototype.keyFromSecret=function(l){return s.fromSecret(this,l)},a.prototype.makeSignature=function(l){return l instanceof o?l:new o(this,l)},a.prototype.encodePoint=function(l){var h=l.getY().toArray("le",this.encodingLength);return h[this.encodingLength-1]|=l.getX().isOdd()?128:0,h},a.prototype.decodePoint=function(l){l=r.parseBytes(l);var h=l.length-1,f=l.slice(0,h).concat(l[h]&-129),m=(l[h]&128)!==0,g=r.intFromLE(f);return this.curve.pointFromY(g,m)},a.prototype.encodeInt=function(l){return l.toArray("le",this.encodingLength)},a.prototype.decodeInt=function(l){return r.intFromLE(l)},a.prototype.isPoint=function(l){return l instanceof this.pointClass},S_}var xP;function ZJ(){return xP||(xP=1,function(t){var e=t;e.version=RJ.version,e.utils=qs(),e.rand=L9(),e.curve=U9(),e.curves=IS(),e.ec=GJ(),e.eddsa=JJ()}(XE)),XE}var XJ=ZJ();const eZ={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var tZ={};const rZ=":";function jh(t){const[e,r]=t.split(rZ);return{namespace:e,reference:r}}function j9(t,e){return t.includes(":")?[t]:e.chains||[]}const nZ="ReactNative",vs={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},iZ="js";function Jv(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Hl(){return!nd.getDocument()&&!!nd.getNavigator()&&navigator.product===nZ}function sZ(){return Hl()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function oZ(){return Hl()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Yg(){return!Jv()&&!!nd.getNavigator()&&!!nd.getDocument()}function Jg(){return Hl()?vs.reactNative:Jv()?vs.node:Yg()?vs.browser:vs.unknown}function NP(){var t;try{return Hl()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function aZ(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function V9(){return fY.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function cZ(){if(Jg()===vs.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=oY();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function lZ(){var t;const e=Jg();return e===vs.browser?[e,((t=nd.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function q9(t,e,r){const n=cZ(),i=lZ();return[[t,e].join("-"),[iZ,r].join("-"),n,i].join("/")}function uZ({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:u}){const l=r.split("?"),h=q9(t,e,n),f={auth:i,ua:h,projectId:s,useOnCloseEvent:o,packageName:u||void 0,bundleId:a||void 0},m=aZ(l[1]||"",f);return l[0]+"?"+m}function Pu(t,e){return t.filter(r=>e.includes(r)).length===t.length}function y2(t){return Object.fromEntries(t.entries())}function v2(t){return new Map(Object.entries(t))}function bu(t=xe.FIVE_MINUTES,e){const r=xe.toMiliseconds(t||xe.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,u)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),u(l)},r),n=a,i=u})}}function ml(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function z9(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function dZ(t){return z9("topic",t)}function hZ(t){return z9("id",t)}function H9(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function wn(t,e){return xe.fromMiliseconds(Date.now()+xe.toMiliseconds(t))}function rl(t){return Date.now()>=xe.toMiliseconds(t)}function Xt(t,e){return`${t}${e?`:${e}`:""}`}function mv(t=[],e=[]){return[...new Set([...t,...e])]}async function fZ({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=pZ(s,t,e),a=Jg();if(a===vs.browser){if(!((n=nd.getDocument())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}mZ(o)}else a===vs.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function pZ(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${wZ(n,!0)}`}else i=`${i}/wc?${n}`;return i}function mZ(t){let e="_self";vZ()?e="_top":(yZ()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function gZ(t,e){let r="";try{if(Yg()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function PP(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function RP(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function TS(){return typeof process<"u"&&tZ.IS_VITEST==="true"}function yZ(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function vZ(){try{return window.self!==window.top}catch{return!1}}function wZ(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function W9(t){return Buffer.from(t,"base64").toString("utf-8")}function bZ(t){return new Promise(e=>setTimeout(e,t))}function Jm(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function EZ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function rb(t,...e){if(!EZ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function xS(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Jm(t.outputLen),Jm(t.blockLen)}function ff(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function K9(t,e){rb(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Fy=BigInt(2**32-1),OP=BigInt(32);function _Z(t,e=!1){return e?{h:Number(t&Fy),l:Number(t>>OP&Fy)}:{h:Number(t>>OP&Fy)|0,l:Number(t&Fy)|0}}function AZ(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=_Z(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const CZ=(t,e,r)=>t<<r|e>>>32-r,SZ=(t,e,r)=>e<<r|t>>>32-r,IZ=(t,e,r)=>e<<r-32|t>>>64-r,TZ=(t,e,r)=>t<<r-32|e>>>64-r,lh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function xZ(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function I_(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Vo(t,e){return t<<32-e|t>>>e}const kP=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function NZ(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function DP(t){for(let e=0;e<t.length;e++)t[e]=NZ(t[e])}function PZ(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function pf(t){return typeof t=="string"&&(t=PZ(t)),rb(t),t}let NS=class{clone(){return this._cloneInto()}};function G9(t){const e=n=>t().update(pf(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Zg(t=32){if(lh&&typeof lh.getRandomValues=="function")return lh.getRandomValues(new Uint8Array(t));if(lh&&typeof lh.randomBytes=="function")return lh.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const Q9=[],Y9=[],J9=[],RZ=BigInt(0),Hp=BigInt(1),OZ=BigInt(2),kZ=BigInt(7),DZ=BigInt(256),MZ=BigInt(113);for(let t=0,e=Hp,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Q9.push(2*(5*n+r)),Y9.push((t+1)*(t+2)/2%64);let i=RZ;for(let s=0;s<7;s++)e=(e<<Hp^(e>>kZ)*MZ)%DZ,e&OZ&&(i^=Hp<<(Hp<<BigInt(s))-Hp);J9.push(i)}const[LZ,UZ]=AZ(J9,!0),MP=(t,e,r)=>r>32?IZ(t,e,r):CZ(t,e,r),LP=(t,e,r)=>r>32?TZ(t,e,r):SZ(t,e,r);function FZ(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,l=r[u],h=r[u+1],f=MP(l,h,1)^r[a],m=LP(l,h,1)^r[a+1];for(let g=0;g<50;g+=10)t[o+g]^=f,t[o+g+1]^=m}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Y9[o],u=MP(i,s,a),l=LP(i,s,a),h=Q9[o];i=t[h],s=t[h+1],t[h]=u,t[h+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=LZ[n],t[1]^=UZ[n]}r.fill(0)}let $Z=class Z9 extends NS{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Jm(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=xZ(this.state)}keccak(){kP||DP(this.state32),FZ(this.state32,this.rounds),kP||DP(this.state32),this.posOut=0,this.pos=0}update(e){ff(this);const{blockLen:r,state:n}=this;e=pf(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ff(this,!1),rb(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Jm(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(K9(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Z9(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const BZ=(t,e,r)=>G9(()=>new $Z(e,t,r)),jZ=BZ(1,136,256/8),VZ="https://rpc.walletconnect.org/v1";function X9(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(jZ(r)).toString("hex")}async function qZ(t,e,r,n,i,s){switch(r.t){case"eip191":return await zZ(t,e,r.s);case"eip1271":return await HZ(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function zZ(t,e,r){return(await RY({hash:X9(e),signature:r})).toLowerCase()===t.toLowerCase()}async function HZ(t,e,r,n,i,s){const o=jh(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",u="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",h=r.substring(2),f=X9(e).substring(2),m=a+f+u+l+h,g=await fetch(`${s||VZ}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:WZ(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:m},"latest"]})}),{result:w}=await g.json();return w?w.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function WZ(){return Date.now()+Math.floor(Math.random()*1e3)}function KZ(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return x9.encode(s)}var GZ=Object.defineProperty,QZ=Object.defineProperties,YZ=Object.getOwnPropertyDescriptors,UP=Object.getOwnPropertySymbols,JZ=Object.prototype.hasOwnProperty,ZZ=Object.prototype.propertyIsEnumerable,FP=(t,e,r)=>e in t?GZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,XZ=(t,e)=>{for(var r in e||(e={}))JZ.call(e,r)&&FP(t,r,e[r]);if(UP)for(var r of UP(e))ZZ.call(e,r)&&FP(t,r,e[r]);return t},eX=(t,e)=>QZ(t,YZ(e));const tX="did:pkh:",PS=t=>t==null?void 0:t.split(":"),rX=t=>{const e=t&&PS(t);if(e)return t.includes(tX)?e[3]:e[1]},w2=t=>{const e=t&&PS(t);if(e)return e[2]+":"+e[3]},Zv=t=>{const e=t&&PS(t);if(e)return e.pop()};async function $P(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=ek(i,i.iss),o=Zv(i.iss);return await qZ(o,s,n,w2(i.iss),r)}const ek=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=Zv(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${rX(e)}`,u=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,h=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,m=t.requestId?`Request ID: ${t.requestId}`:void 0,g=t.resources?`Resources:${t.resources.map(E=>`
- ${E}`).join("")}`:void 0,w=gv(t.resources);if(w){const E=Zm(w);i=dX(i,E)}return[r,n,"",i,"",s,o,a,u,l,h,f,m,g].filter(E=>E!=null).join(`
`)};function nX(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function iX(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function sd(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function sX(t,e,r,n={}){return r==null||r.sort((i,s)=>i.localeCompare(s)),{att:{[t]:oX(e,r,n)}}}function oX(t,e,r={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function tk(t){return sd(t),`urn:recap:${nX(t).replace(/=/g,"")}`}function Zm(t){const e=iX(t.replace("urn:recap:",""));return sd(e),e}function aX(t,e,r){const n=sX(t,e,r);return tk(n)}function cX(t){return t&&t.includes("urn:recap:")}function lX(t,e){const r=Zm(t),n=Zm(e),i=uX(r,n);return tk(i)}function uX(t,e){sd(t),sd(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,u)=>a.localeCompare(u)).forEach(a=>{var u,l;n.att[i]=eX(XZ({},n.att[i]),{[a]:((u=t.att[i])==null?void 0:u[a])||((l=e.att[i])==null?void 0:l[a])})})}),n}function dX(t="",e){sd(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const u=Object.keys(e.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));u.sort((f,m)=>f.action.localeCompare(m.action));const l={};u.forEach(f=>{l[f.ability]||(l[f.ability]=[]),l[f.ability].push(f.action)});const h=Object.keys(l).map(f=>(i++,`(${i}) '${f}': '${l[f].join("', '")}' for '${a}'.`));n.push(h.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function BP(t){var e;const r=Zm(t);sd(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function jP(t){const e=Zm(t);sd(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function gv(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return cX(e)?e:void 0}function T_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function rk(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function gs(t,...e){if(!rk(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function VP(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hX(t,e){gs(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function qP(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const _l=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),fX=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),pX=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!pX)throw new Error("Non little-endian hardware is not supported");function mX(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function b2(t){if(typeof t=="string")t=mX(t);else if(rk(t))t=E2(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function gX(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function yX(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const vX=(t,e)=>{function r(n,...i){if(gs(n),t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?gs(l):gs(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&gs(i[1]);const o=e(n,...i),a=(l,h)=>{if(h!==void 0){if(l!==2)throw new Error("cipher output not supported");gs(h)}};let u=!1;return{encrypt(l,h){if(u)throw new Error("cannot encrypt() twice with same key + nonce");return u=!0,gs(l),a(o.encrypt.length,h),o.encrypt(l,h)},decrypt(l,h){if(gs(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,h),o.decrypt(l,h)}}}return Object.assign(r,t),r};function zP(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!wX(e))throw new Error("invalid output, must be aligned");return e}function HP(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function wX(t){return t.byteOffset%4===0}function E2(t){return Uint8Array.from(t)}function mf(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const nk=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),bX=nk("expand 16-byte k"),EX=nk("expand 32-byte k"),_X=_l(bX),AX=_l(EX);function qt(t,e){return t<<e|t>>>32-e}function _2(t){return t.byteOffset%4===0}const $y=64,CX=16,ik=2**32-1,WP=new Uint32Array;function SX(t,e,r,n,i,s,o,a){const u=i.length,l=new Uint8Array($y),h=_l(l),f=_2(i)&&_2(s),m=f?_l(i):WP,g=f?_l(s):WP;for(let w=0;w<u;o++){if(t(e,r,n,h,o,a),o>=ik)throw new Error("arx: counter overflow");const E=Math.min($y,u-w);if(f&&E===$y){const C=w/4;if(w%4!==0)throw new Error("arx: invalid block position");for(let N=0,D;N<CX;N++)D=C+N,g[D]=m[D]^h[N];w+=$y;continue}for(let C=0,N;C<E;C++)N=w+C,s[N]=i[N]^l[C];w+=E}}function IX(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=gX({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return T_(i),T_(o),qP(s),qP(r),(a,u,l,h,f=0)=>{gs(a),gs(u),gs(l);const m=l.length;if(h===void 0&&(h=new Uint8Array(m)),gs(h),T_(f),f<0||f>=ik)throw new Error("arx: counter overflow");if(h.length<m)throw new Error(`arx: output (${h.length}) is shorter than data (${m})`);const g=[];let w=a.length,E,C;if(w===32)g.push(E=E2(a)),C=AX;else if(w===16&&r)E=new Uint8Array(32),E.set(a),E.set(a,16),C=_X,g.push(E);else throw new Error(`arx: invalid 32-byte key, got length=${w}`);_2(u)||g.push(u=E2(u));const N=_l(E);if(n){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(C,N,_l(u.subarray(0,16)),N),u=u.subarray(16)}const D=16-i;if(D!==u.length)throw new Error(`arx: nonce must be ${D} or 16 bytes`);if(D!==12){const V=new Uint8Array(12);V.set(u,s?0:12-u.length),u=V,g.push(u)}const F=_l(u);return SX(t,C,N,F,l,h,f,o),mf(...g),h}}const Hn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let TX=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=b2(e),gs(e,32);const r=Hn(e,0),n=Hn(e,2),i=Hn(e,4),s=Hn(e,6),o=Hn(e,8),a=Hn(e,10),u=Hn(e,12),l=Hn(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|u<<5)&8065,this.r[8]=(u>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let h=0;h<8;h++)this.pad[h]=Hn(e,16+2*h)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],u=o[1],l=o[2],h=o[3],f=o[4],m=o[5],g=o[6],w=o[7],E=o[8],C=o[9],N=Hn(e,r+0),D=Hn(e,r+2),F=Hn(e,r+4),V=Hn(e,r+6),q=Hn(e,r+8),j=Hn(e,r+10),U=Hn(e,r+12),$=Hn(e,r+14);let k=s[0]+(N&8191),W=s[1]+((N>>>13|D<<3)&8191),x=s[2]+((D>>>10|F<<6)&8191),v=s[3]+((F>>>7|V<<9)&8191),_=s[4]+((V>>>4|q<<12)&8191),T=s[5]+(q>>>1&8191),I=s[6]+((q>>>14|j<<2)&8191),P=s[7]+((j>>>11|U<<5)&8191),M=s[8]+((U>>>8|$<<8)&8191),z=s[9]+($>>>5|i),B=0,A=B+k*a+W*(5*C)+x*(5*E)+v*(5*w)+_*(5*g);B=A>>>13,A&=8191,A+=T*(5*m)+I*(5*f)+P*(5*h)+M*(5*l)+z*(5*u),B+=A>>>13,A&=8191;let L=B+k*u+W*a+x*(5*C)+v*(5*E)+_*(5*w);B=L>>>13,L&=8191,L+=T*(5*g)+I*(5*m)+P*(5*f)+M*(5*h)+z*(5*l),B+=L>>>13,L&=8191;let J=B+k*l+W*u+x*a+v*(5*C)+_*(5*E);B=J>>>13,J&=8191,J+=T*(5*w)+I*(5*g)+P*(5*m)+M*(5*f)+z*(5*h),B+=J>>>13,J&=8191;let re=B+k*h+W*l+x*u+v*a+_*(5*C);B=re>>>13,re&=8191,re+=T*(5*E)+I*(5*w)+P*(5*g)+M*(5*m)+z*(5*f),B+=re>>>13,re&=8191;let ie=B+k*f+W*h+x*l+v*u+_*a;B=ie>>>13,ie&=8191,ie+=T*(5*C)+I*(5*E)+P*(5*w)+M*(5*g)+z*(5*m),B+=ie>>>13,ie&=8191;let de=B+k*m+W*f+x*h+v*l+_*u;B=de>>>13,de&=8191,de+=T*a+I*(5*C)+P*(5*E)+M*(5*w)+z*(5*g),B+=de>>>13,de&=8191;let pe=B+k*g+W*m+x*f+v*h+_*l;B=pe>>>13,pe&=8191,pe+=T*u+I*a+P*(5*C)+M*(5*E)+z*(5*w),B+=pe>>>13,pe&=8191;let Ae=B+k*w+W*g+x*m+v*f+_*h;B=Ae>>>13,Ae&=8191,Ae+=T*l+I*u+P*a+M*(5*C)+z*(5*E),B+=Ae>>>13,Ae&=8191;let De=B+k*E+W*w+x*g+v*m+_*f;B=De>>>13,De&=8191,De+=T*h+I*l+P*u+M*a+z*(5*C),B+=De>>>13,De&=8191;let Ie=B+k*C+W*E+x*w+v*g+_*m;B=Ie>>>13,Ie&=8191,Ie+=T*f+I*h+P*l+M*u+z*a,B+=Ie>>>13,Ie&=8191,B=(B<<2)+B|0,B=B+A|0,A=B&8191,B=B>>>13,L+=B,s[0]=A,s[1]=L,s[2]=J,s[3]=re,s[4]=ie,s[5]=de,s[6]=pe,s[7]=Ae,s[8]=De,s[9]=Ie}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;mf(n)}update(e){VP(this);const{buffer:r,blockLen:n}=this;e=b2(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){mf(this.h,this.r,this.buffer,this.pad)}digestInto(e){VP(this),hX(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}};function xX(t){const e=(n,i)=>t(i).update(b2(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const NX=xX(t=>new TX(t));function PX(t,e,r,n,i,s=20){let o=t[0],a=t[1],u=t[2],l=t[3],h=e[0],f=e[1],m=e[2],g=e[3],w=e[4],E=e[5],C=e[6],N=e[7],D=i,F=r[0],V=r[1],q=r[2],j=o,U=a,$=u,k=l,W=h,x=f,v=m,_=g,T=w,I=E,P=C,M=N,z=D,B=F,A=V,L=q;for(let re=0;re<s;re+=2)j=j+W|0,z=qt(z^j,16),T=T+z|0,W=qt(W^T,12),j=j+W|0,z=qt(z^j,8),T=T+z|0,W=qt(W^T,7),U=U+x|0,B=qt(B^U,16),I=I+B|0,x=qt(x^I,12),U=U+x|0,B=qt(B^U,8),I=I+B|0,x=qt(x^I,7),$=$+v|0,A=qt(A^$,16),P=P+A|0,v=qt(v^P,12),$=$+v|0,A=qt(A^$,8),P=P+A|0,v=qt(v^P,7),k=k+_|0,L=qt(L^k,16),M=M+L|0,_=qt(_^M,12),k=k+_|0,L=qt(L^k,8),M=M+L|0,_=qt(_^M,7),j=j+x|0,L=qt(L^j,16),P=P+L|0,x=qt(x^P,12),j=j+x|0,L=qt(L^j,8),P=P+L|0,x=qt(x^P,7),U=U+v|0,z=qt(z^U,16),M=M+z|0,v=qt(v^M,12),U=U+v|0,z=qt(z^U,8),M=M+z|0,v=qt(v^M,7),$=$+_|0,B=qt(B^$,16),T=T+B|0,_=qt(_^T,12),$=$+_|0,B=qt(B^$,8),T=T+B|0,_=qt(_^T,7),k=k+W|0,A=qt(A^k,16),I=I+A|0,W=qt(W^I,12),k=k+W|0,A=qt(A^k,8),I=I+A|0,W=qt(W^I,7);let J=0;n[J++]=o+j|0,n[J++]=a+U|0,n[J++]=u+$|0,n[J++]=l+k|0,n[J++]=h+W|0,n[J++]=f+x|0,n[J++]=m+v|0,n[J++]=g+_|0,n[J++]=w+T|0,n[J++]=E+I|0,n[J++]=C+P|0,n[J++]=N+M|0,n[J++]=D+z|0,n[J++]=F+B|0,n[J++]=V+A|0,n[J++]=q+L|0}const RX=IX(PX,{counterRight:!1,counterLength:4,allowShortKeys:!1}),OX=new Uint8Array(16),KP=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(OX.subarray(r))},kX=new Uint8Array(32);function GP(t,e,r,n,i){const s=t(e,r,kX),o=NX.create(s);i&&KP(o,i),KP(o,n);const a=new Uint8Array(16),u=fX(a);HP(u,0,BigInt(i?i.length:0),!0),HP(u,8,BigInt(n.length),!0),o.update(a);const l=o.digest();return mf(s,a),l}const DX=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=zP(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const u=GP(t,e,r,a,n);return s.set(u,o),mf(u),s},decrypt(i,s){s=zP(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),u=GP(t,e,r,o,n);if(!yX(a,u))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),mf(u),s}}),sk=vX({blockSize:64,nonceLength:12,tagLength:16},DX(RX));let ok=class extends NS{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,xS(e);const n=pf(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return ff(this),this.iHash.update(e),this}digestInto(e){ff(this),rb(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const RS=(t,e,r)=>new ok(t,e).update(r).digest();RS.create=(t,e)=>new ok(t,e);function MX(t,e,r){return xS(t),r===void 0&&(r=new Uint8Array(t.outputLen)),RS(t,pf(r),pf(e))}const x_=new Uint8Array([0]),QP=new Uint8Array;function LX(t,e,r,n=32){if(xS(t),Jm(n),n>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(n/t.outputLen);r===void 0&&(r=QP);const s=new Uint8Array(i*t.outputLen),o=RS.create(t,e),a=o._cloneInto(),u=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)x_[0]=l+1,a.update(l===0?QP:u).update(r).update(x_).digestInto(u),s.set(u,t.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),u.fill(0),x_.fill(0),s.slice(0,n)}const UX=(t,e,r,n,i)=>LX(t,MX(t,e,r),n,i);function FX(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,l=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+l,a,n)}function $X(t,e,r){return t&e^~t&r}function BX(t,e,r){return t&e^t&r^e&r}class jX extends NS{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=I_(this.buffer)}update(e){ff(this);const{view:r,buffer:n,blockLen:i}=this;e=pf(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=I_(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ff(this),K9(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;FX(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=I_(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,h=this.get();if(l>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,h[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const VX=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Yc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jc=new Uint32Array(64);let qX=class extends jX{constructor(){super(64,32,8,!1),this.A=Yc[0]|0,this.B=Yc[1]|0,this.C=Yc[2]|0,this.D=Yc[3]|0,this.E=Yc[4]|0,this.F=Yc[5]|0,this.G=Yc[6]|0,this.H=Yc[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Jc[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const m=Jc[f-15],g=Jc[f-2],w=Vo(m,7)^Vo(m,18)^m>>>3,E=Vo(g,17)^Vo(g,19)^g>>>10;Jc[f]=E+Jc[f-7]+w+Jc[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:l,H:h}=this;for(let f=0;f<64;f++){const m=Vo(a,6)^Vo(a,11)^Vo(a,25),g=h+m+$X(a,u,l)+VX[f]+Jc[f]|0,w=(Vo(n,2)^Vo(n,13)^Vo(n,22))+BX(n,i,s)|0;h=l,l=u,u=a,a=o+g|0,o=s,s=i,i=n,n=g+w|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,l=l+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,l,h)}roundClean(){Jc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const nb=G9(()=>new qX);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ak=BigInt(0);function OS(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ck(t){if(!OS(t))throw new Error("Uint8Array expected")}const zX=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function HX(t){ck(t);let e="";for(let r=0;r<t.length;r++)e+=zX[t[r]];return e}function WX(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?ak:BigInt("0x"+t)}const qa={_0:48,_9:57,A:65,F:70,a:97,f:102};function YP(t){if(t>=qa._0&&t<=qa._9)return t-qa._0;if(t>=qa.A&&t<=qa.F)return t-(qa.A-10);if(t>=qa.a&&t<=qa.f)return t-(qa.a-10)}function lk(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=YP(t.charCodeAt(s)),a=YP(t.charCodeAt(s+1));if(o===void 0||a===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=o*16+a}return n}function JP(t){return ck(t),WX(HX(Uint8Array.from(t).reverse()))}function KX(t,e){return lk(t.toString(16).padStart(e*2,"0"))}function GX(t,e){return KX(t,e).reverse()}function ZP(t,e,r){let n;if(typeof e=="string")try{n=lk(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(OS(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const N_=t=>typeof t=="bigint"&&ak<=t;function QX(t,e,r){return N_(t)&&N_(e)&&N_(r)&&e<=t&&t<r}function XP(t,e,r,n){if(!QX(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}const YX={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||OS(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function JX(t,e,r={}){const n=(i,s,o)=>{const a=YX[s];if(typeof a!="function")throw new Error("invalid validator function");const u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+u)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const Mh=BigInt(0),By=BigInt(1);function uk(t,e){const r=t%e;return r>=Mh?r:e+r}function ZX(t,e,r){if(e<Mh)throw new Error("invalid exponent, negatives unsupported");if(r<=Mh)throw new Error("invalid modulus");if(r===By)return Mh;let n=By;for(;e>Mh;)e&By&&(n=n*t%r),t=t*t%r,e>>=By;return n}function ho(t,e,r){let n=t;for(;e-- >Mh;)n*=n,n%=r;return n}BigInt(0),BigInt(1),BigInt(0),BigInt(1),BigInt(2),BigInt(8);const uh=BigInt(0),P_=BigInt(1);function XX(t){return JX(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function eee(t){const e=XX(t),{P:r}=e,n=D=>uk(D,r),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(D=>D),u=e.powPminus2||(D=>ZX(D,r-BigInt(2),r));function l(D,F,V){const q=n(D*(F-V));return F=n(F-q),V=n(V+q),[F,V]}const h=(e.a-BigInt(2))/BigInt(4);function f(D,F){XP("u",D,uh,r),XP("scalar",F,uh,r);const V=F,q=D;let j=P_,U=uh,$=D,k=P_,W=uh,x;for(let _=BigInt(i-1);_>=uh;_--){const T=V>>_&P_;W^=T,x=l(W,j,$),j=x[0],$=x[1],x=l(W,U,k),U=x[0],k=x[1],W=T;const I=j+U,P=n(I*I),M=j-U,z=n(M*M),B=P-z,A=$+k,L=$-k,J=n(L*I),re=n(A*M),ie=J+re,de=J-re;$=n(ie*ie),k=n(q*n(de*de)),j=n(P*z),U=n(B*(P+n(h*B)))}x=l(W,j,$),j=x[0],$=x[1],x=l(W,U,k),U=x[0],k=x[1];const v=u(U);return n(j*v)}function m(D){return GX(n(D),s)}function g(D){const F=ZP("u coordinate",D,s);return o===32&&(F[31]&=127),JP(F)}function w(D){const F=ZP("scalar",D),V=F.length;if(V!==s&&V!==o){let q=""+s+" or "+o;throw new Error("invalid scalar, expected "+q+" bytes, got "+V)}return JP(a(F))}function E(D,F){const V=g(F),q=w(D),j=f(V,q);if(j===uh)throw new Error("invalid private or public key received");return m(j)}const C=m(e.Gu);function N(D){return E(D,C)}return{scalarMult:E,scalarMultBase:N,getSharedSecret:(D,F)=>E(D,F),getPublicKey:D=>N(D),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:C}}const A2=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const tee=BigInt(1),e5=BigInt(2),ree=BigInt(3),nee=BigInt(5);BigInt(8);function iee(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=A2,o=t*t%s*t%s,a=ho(o,e5,s)*o%s,u=ho(a,tee,s)*t%s,l=ho(u,nee,s)*u%s,h=ho(l,e,s)*l%s,f=ho(h,r,s)*h%s,m=ho(f,n,s)*f%s,g=ho(m,i,s)*m%s,w=ho(g,i,s)*m%s,E=ho(w,e,s)*l%s;return{pow_p_5_8:ho(E,e5,s)*t%s,b2:o}}function see(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const C2=eee({P:A2,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=A2,{pow_p_5_8:r,b2:n}=iee(t);return uk(ho(r,ree,e)*n,e)},adjustScalarBytes:see,randomBytes:Zg}),dk="base10",vi="base16",gl="base64pad",Wp="base64url",Xg="utf8",hk=0,Xa=1,e0=2,oee=0,t5=1,gm=12,kS=32;function aee(){const t=C2.utils.randomPrivateKey(),e=C2.getPublicKey(t);return{privateKey:Oi(t,vi),publicKey:Oi(e,vi)}}function S2(){const t=Zg(kS);return Oi(t,vi)}function cee(t,e){const r=C2.getSharedSecret($s(t,vi),$s(e,vi)),n=UX(nb,r,void 0,void 0,kS);return Oi(n,vi)}function yv(t){const e=nb($s(t,vi));return Oi(e,vi)}function ta(t){const e=nb($s(t,Xg));return Oi(e,vi)}function fk(t){return $s(`${t}`,dk)}function od(t){return Number(Oi(t,dk))}function lee(t){const e=fk(typeof t.type<"u"?t.type:hk);if(od(e)===Xa&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?$s(t.senderPublicKey,vi):void 0,n=typeof t.iv<"u"?$s(t.iv,vi):Zg(gm),i=$s(t.symKey,vi),s=sk(i,n).encrypt($s(t.message,Xg));return pk({type:e,sealed:s,iv:n,senderPublicKey:r,encoding:t.encoding})}function uee(t){const e=$s(t.symKey,vi),{sealed:r,iv:n}=Xm(t),i=sk(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return Oi(i,Xg)}function dee(t,e){const r=fk(e0),n=Zg(gm),i=$s(t,Xg);return pk({type:r,sealed:i,iv:n,encoding:e})}function hee(t,e){const{sealed:r}=Xm({encoded:t,encoding:e});return Oi(r,Xg)}function pk(t){const{encoding:e=gl}=t;if(od(t.type)===e0)return Oi(JE([t.type,t.sealed]),e);if(od(t.type)===Xa){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Oi(JE([t.type,t.senderPublicKey,t.iv,t.sealed]),e)}return Oi(JE([t.type,t.iv,t.sealed]),e)}function Xm(t){const{encoded:e,encoding:r=gl}=t,n=$s(e,r),i=n.slice(oee,t5),s=t5;if(od(i)===Xa){const l=s+kS,h=l+gm,f=n.slice(s,l),m=n.slice(l,h),g=n.slice(h);return{type:i,sealed:g,iv:m,senderPublicKey:f}}if(od(i)===e0){const l=n.slice(s),h=Zg(gm);return{type:i,sealed:l,iv:h}}const o=s+gm,a=n.slice(s,o),u=n.slice(o);return{type:i,sealed:u,iv:a}}function fee(t,e){const r=Xm({encoded:t,encoding:e==null?void 0:e.encoding});return mk({type:od(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Oi(r.senderPublicKey,vi):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function mk(t){const e=(t==null?void 0:t.type)||hk;if(e===Xa){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function r5(t){return t.type===Xa&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function n5(t){return t.type===e0}function pee(t){return new XJ.ec("p256").keyFromPublic({x:Buffer.from(t.x,"base64").toString("hex"),y:Buffer.from(t.y,"base64").toString("hex")},"hex")}function mee(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");const r=e.length%4;return r>0&&(e+="=".repeat(4-r)),e}function gee(t){return Buffer.from(mee(t),"base64")}function yee(t,e){const[r,n,i]=t.split("."),s=gee(i);if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),u=`${r}.${n}`,l=nb(u),h=pee(e),f=Oi(l,vi);if(!h.verify(f,{r:o,s:a}))throw new Error("Invalid signature");return p2(t).payload}const vee="irn";function Xv(t){return(t==null?void 0:t.relay)||{protocol:vee}}function om(t){const e=eZ[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function wee(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function i5(t){if(!t.includes("wc:")){const l=W9(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((l,h)=>{a[h]=l});const u=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:bee(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:wee(a),methods:u,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function bee(t){return t.startsWith("//")?t.substring(2):t}function Eee(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function s5(t){const e=new URLSearchParams,r=Eee(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function jy(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}function Kf(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function _ee(t){const e=[];return Object.values(t).forEach(r=>{e.push(...Kf(r.accounts))}),e}function Aee(t,e){const r=[];return Object.values(t).forEach(n=>{Kf(n.accounts).includes(e)&&r.push(...n.methods)}),r}function Cee(t,e){const r=[];return Object.values(t).forEach(n=>{Kf(n.accounts).includes(e)&&r.push(...n.events)}),r}function DS(t){return t.includes(":")}function am(t){return DS(t)?t.split(":")[0]:t}function See(t){const e={};return t==null||t.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function o5(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=See(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=mv(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}const Iee={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Tee={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ne(t,e){const{message:r,code:n}=Tee[t];return{message:e?`${r} ${e}`:r,code:n}}function pr(t,e){const{message:r,code:n}=Iee[t];return{message:e?`${r} ${e}`:r,code:n}}function ad(t,e){return!!Array.isArray(t)}function eg(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Yn(t){return typeof t>"u"}function hn(t,e){return e&&Yn(t)?!0:typeof t=="string"&&!!t.trim().length}function MS(t,e){return e&&Yn(t)?!0:typeof t=="number"&&!isNaN(t)}function xee(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return Pu(i,n)?(n.forEach(o=>{const{accounts:a,methods:u,events:l}=t.namespaces[o],h=Kf(a),f=r[o];(!Pu(j9(o,f),h)||!Pu(f.methods,u)||!Pu(f.events,l))&&(s=!1)}),s):!1}function ew(t){return hn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Nee(t){if(hn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&ew(r)}}return!1}function Pee(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(hn(t,!1)){if(e(t))return!0;const r=W9(t);return e(r)}}catch{}return!1}function Ree(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Oee(t){return t==null?void 0:t.topic}function kee(t,e){let r=null;return hn(t==null?void 0:t.publicKey,!1)||(r=Ne("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function a5(t){let e=!0;return ad(t)?t.length&&(e=t.every(r=>hn(r,!1))):e=!1,e}function Dee(t,e,r){let n=null;return ad(e)&&e.length?e.forEach(i=>{n||ew(i)||(n=pr("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):ew(t)||(n=pr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Mee(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=Dee(i,j9(i,s),`${e} ${r}`);o&&(n=o)}),n}function Lee(t,e){let r=null;return ad(t)?t.forEach(n=>{r||Nee(n)||(r=pr("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=pr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Uee(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Lee(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function Fee(t,e){let r=null;return a5(t==null?void 0:t.methods)?a5(t==null?void 0:t.events)||(r=pr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=pr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function gk(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Fee(n,`${e}, namespace`);i&&(r=i)}),r}function $ee(t,e,r){let n=null;if(t&&eg(t)){const i=gk(t,e);i&&(n=i);const s=Mee(t,e,r);s&&(n=s)}else n=Ne("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function R_(t,e){let r=null;if(t&&eg(t)){const n=gk(t,e);n&&(r=n);const i=Uee(t,e);i&&(r=i)}else r=Ne("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function yk(t){return hn(t.protocol,!0)}function Bee(t,e){let r=!1;return t?t&&ad(t)&&t.length&&t.forEach(n=>{r=yk(n)}):r=!0,r}function jee(t){return typeof t=="number"}function Gi(t){return typeof t<"u"&&typeof t!==null}function Vee(t){return!(!t||typeof t!="object"||!t.code||!MS(t.code,!1)||!t.message||!hn(t.message,!1))}function qee(t){return!(Yn(t)||!hn(t.method,!1))}function zee(t){return!(Yn(t)||Yn(t.result)&&Yn(t.error)||!MS(t.id,!1)||!hn(t.jsonrpc,!1))}function Hee(t){return!(Yn(t)||!hn(t.name,!1))}function c5(t,e){return!(!ew(e)||!_ee(t).includes(e))}function Wee(t,e,r){return hn(r,!1)?Aee(t,e).includes(r):!1}function Kee(t,e,r){return hn(r,!1)?Cee(t,e).includes(r):!1}function l5(t,e,r){let n=null;const i=Gee(t),s=Qee(e),o=Object.keys(i),a=Object.keys(s),u=u5(Object.keys(t)),l=u5(Object.keys(e)),h=u.filter(f=>!l.includes(f));return h.length&&(n=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${h.toString()}
      Received: ${Object.keys(e).toString()}`)),Pu(o,a)||(n=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;const m=Kf(e[f].accounts);m.includes(f)||(n=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${m.toString()}`))}),o.forEach(f=>{n||(Pu(i[f].methods,s[f].methods)?Pu(i[f].events,s[f].events)||(n=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=Ne("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function Gee(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function u5(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Qee(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=Kf(t[r].accounts);n==null||n.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function Yee(t,e){return MS(t,!1)&&t<=e.max&&t>=e.min}function d5(){const t=Jg();return new Promise(e=>{switch(t){case vs.browser:e(Jee());break;case vs.reactNative:e(Zee());break;case vs.node:e(Xee());break;default:e(!0)}})}function Jee(){return Yg()&&(navigator==null?void 0:navigator.onLine)}async function Zee(){if(Hl()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function Xee(){return!0}function ete(t){switch(Jg()){case vs.browser:tte(t);break;case vs.reactNative:rte(t);break}}function tte(t){!Hl()&&Yg()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function rte(t){Hl()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const O_={};class Kp{static get(e){return O_[e]}static set(e,r){O_[e]=r}static delete(e){delete O_[e]}}const nte="PARSE_ERROR",ite="INVALID_REQUEST",ste="METHOD_NOT_FOUND",ote="INVALID_PARAMS",vk="INTERNAL_ERROR",LS="SERVER_ERROR",ate=[-32700,-32600,-32601,-32602,-32603],ym={[nte]:{code:-32700,message:"Parse error"},[ite]:{code:-32600,message:"Invalid Request"},[ste]:{code:-32601,message:"Method not found"},[ote]:{code:-32602,message:"Invalid params"},[vk]:{code:-32603,message:"Internal error"},[LS]:{code:-32e3,message:"Server error"}},wk=LS;function cte(t){return ate.includes(t)}function h5(t){return Object.keys(ym).includes(t)?ym[t]:ym[wk]}function lte(t){const e=Object.values(ym).find(r=>r.code===t);return e||ym[wk]}function bk(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var k_={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var I2=function(t,e){return I2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},I2(t,e)};function ute(t,e){I2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var T2=function(){return T2=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},T2.apply(this,arguments)};function dte(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function hte(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function fte(t,e){return function(r,n){e(r,n,t)}}function pte(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function mte(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(n.next(h))}catch(f){o(f)}}function u(h){try{l(n.throw(h))}catch(f){o(f)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((n=n.apply(t,e||[])).next())})}function gte(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(h){return u([l,h])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(h){l=[6,h],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function yte(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function vte(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function x2(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ek(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function wte(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ek(arguments[e]));return t}function bte(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function tg(t){return this instanceof tg?(this.v=t,this):new tg(t)}function Ete(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(m){n[m]&&(i[m]=function(g){return new Promise(function(w,E){s.push([m,g,w,E])>1||a(m,g)})})}function a(m,g){try{u(n[m](g))}catch(w){f(s[0][3],w)}}function u(m){m.value instanceof tg?Promise.resolve(m.value.v).then(l,h):f(s[0][2],m)}function l(m){a("next",m)}function h(m){a("throw",m)}function f(m,g){m(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _te(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:tg(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Ate(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof x2=="function"?x2(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}function Cte(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Ste(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Ite(t){return t&&t.__esModule?t:{default:t}}function Tte(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function xte(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const Nte=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return T2},__asyncDelegator:_te,__asyncGenerator:Ete,__asyncValues:Ate,__await:tg,__awaiter:mte,__classPrivateFieldGet:Tte,__classPrivateFieldSet:xte,__createBinding:yte,__decorate:hte,__exportStar:vte,__extends:ute,__generator:gte,__importDefault:Ite,__importStar:Ste,__makeTemplateObject:Cte,__metadata:pte,__param:fte,__read:Ek,__rest:dte,__spread:wte,__spreadArrays:bte,__values:x2},Symbol.toStringTag,{value:"Module"})),Pte=kw(Nte);var za={},f5;function Rte(){if(f5)return za;f5=1,Object.defineProperty(za,"__esModule",{value:!0}),za.isBrowserCryptoAvailable=za.getSubtleCrypto=za.getBrowerCrypto=void 0;function t(){return(ea==null?void 0:ea.crypto)||(ea==null?void 0:ea.msCrypto)||{}}za.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}za.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return za.isBrowserCryptoAvailable=r,za}var Ha={},p5;function Ote(){if(p5)return Ha;p5=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.isBrowser=Ha.isNode=Ha.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Ha.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Ha.isNode=e;function r(){return!t()&&!e()}return Ha.isBrowser=r,Ha}var m5;function kte(){return m5||(m5=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Pte;e.__exportStar(Rte(),t),e.__exportStar(Ote(),t)}(k_)),k_}var Dte=kte();function Go(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Ru(t=6){return BigInt(Go(t))}function yl(t,e,r){return{id:r||Go(),jsonrpc:"2.0",method:t,params:e}}function ib(t,e){return{id:t,jsonrpc:"2.0",result:e}}function sb(t,e,r){return{id:t,jsonrpc:"2.0",error:Mte(e)}}function Mte(t,e){return typeof t>"u"?h5(vk):(typeof t=="string"&&(t=Object.assign(Object.assign({},h5(LS)),{message:t})),cte(t.code)&&(t=lte(t.code)),t)}let Lte=class{},Ute=class extends Lte{constructor(){super()}},Fte=class extends Ute{constructor(e){super()}};const $te="^https?:",Bte="^wss?:";function jte(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function _k(t,e){const r=jte(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function g5(t){return _k(t,$te)}function y5(t){return _k(t,Bte)}function Vte(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Ak(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function US(t){return Ak(t)&&"method"in t}function ob(t){return Ak(t)&&(Qo(t)||Fs(t))}function Qo(t){return"result"in t}function Fs(t){return"error"in t}let zs=class extends Fte{constructor(e){super(e),this.events=new Vs.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(yl(e.method,e.params||[],e.id||Ru().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Fs(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),ob(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const qte=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),zte=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",v5=t=>t.split("?")[0],w5=10,Hte=qte();let Wte=class{constructor(e){if(this.url=e,this.events=new Vs.EventEmitter,this.registering=!1,!y5(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(oc(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!y5(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=Dte.isReactNative()?void 0:{rejectUnauthorized:!Vte(e)},s=new Hte(e,[],i);zte()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?rd(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=sb(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return bk(e,v5(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>w5&&this.events.setMaxListeners(w5)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${v5(this.url)}`));return this.events.emit("register_error",r),r}};const Ck="wc",Sk=2,N2="core",ha=`${Ck}@2:${N2}:`,Kte={logger:"error"},Gte={database:":memory:"},Qte="crypto",b5="client_ed25519_seed",Yte=xe.ONE_DAY,Jte="keychain",Zte="0.3",Xte="messages",ere="0.3",E5=xe.SIX_HOURS,tre="publisher",Ik="irn",rre="error",Tk="wss://relay.walletconnect.org",nre="relayer",Ln={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},ire="_subscription",Ps={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},sre=.1,P2="2.19.1",jr={link_mode:"link_mode",relay:"relay"},vv={inbound:"inbound",outbound:"outbound"},ore="0.3",are="WALLETCONNECT_CLIENT_ID",_5="WALLETCONNECT_LINK_MODE_APPS",ms={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},cre="subscription",lre="0.3",ure="pairing",dre="0.3",Gp={wc_pairingDelete:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:xe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:xe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:0},res:{ttl:xe.ONE_DAY,prompt:!1,tag:0}}},Su={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ao={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},hre="history",fre="0.3",pre="expirer",Ms={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},mre="0.3",gre="verify-api",yre="https://verify.walletconnect.com",xk="https://verify.walletconnect.org",vm=xk,vre=`${vm}/v3`,wre=[yre,xk],bre="echo",Ere="https://echo.walletconnect.com",Ko={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Ka={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},co={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},gu={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},yu={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Qp={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},_re=.1,Are="event-client",Cre=86400,Sre="https://pulse.walletconnect.org/batch";function Ire(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,u=t.charAt(0),l=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function f(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var E=0,C=0,N=0,D=w.length;N!==D&&w[N]===0;)N++,E++;for(var F=(D-N)*h+1>>>0,V=new Uint8Array(F);N!==D;){for(var q=w[N],j=0,U=F-1;(q!==0||j<C)&&U!==-1;U--,j++)q+=256*V[U]>>>0,V[U]=q%a>>>0,q=q/a>>>0;if(q!==0)throw new Error("Non-zero carry");C=j,N++}for(var $=F-C;$!==F&&V[$]===0;)$++;for(var k=u.repeat(E);$<F;++$)k+=t.charAt(V[$]);return k}function m(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var E=0;if(w[E]!==" "){for(var C=0,N=0;w[E]===u;)C++,E++;for(var D=(w.length-E)*l+1>>>0,F=new Uint8Array(D);w[E];){var V=r[w.charCodeAt(E)];if(V===255)return;for(var q=0,j=D-1;(V!==0||q<N)&&j!==-1;j--,q++)V+=a*F[j]>>>0,F[j]=V%256>>>0,V=V/256>>>0;if(V!==0)throw new Error("Non-zero carry");N=q,E++}if(w[E]!==" "){for(var U=D-N;U!==D&&F[U]===0;)U++;for(var $=new Uint8Array(C+(D-U)),k=C;U!==D;)$[k++]=F[U++];return $}}}function g(w){var E=m(w);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:m,decode:g}}var Tre=Ire,xre=Tre;const Nk=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Nre=t=>new TextEncoder().encode(t),Pre=t=>new TextDecoder().decode(t);class Rre{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Ore{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Pk(this,e)}}class kre{constructor(e){this.decoders=e}or(e){return Pk(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Pk=(t,e)=>new kre({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Dre{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Rre(e,r,n),this.decoder=new Ore(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ab=({name:t,prefix:e,encode:r,decode:n})=>new Dre(t,e,r,n),t0=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=xre(r,e);return ab({prefix:t,name:e,encode:n,decode:s=>Nk(i(s))})},Mre=(t,e,r,n)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,u=0,l=0;for(let h=0;h<s;++h){const f=i[t[h]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},Lre=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},ni=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>ab({prefix:e,name:t,encode(i){return Lre(i,n,r)},decode(i){return Mre(i,n,r,t)}}),Ure=ab({prefix:"\0",name:"identity",encode:t=>Pre(t),decode:t=>Nre(t)});var Fre=Object.freeze({__proto__:null,identity:Ure});const $re=ni({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Bre=Object.freeze({__proto__:null,base2:$re});const jre=ni({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Vre=Object.freeze({__proto__:null,base8:jre});const qre=t0({prefix:"9",name:"base10",alphabet:"0123456789"});var zre=Object.freeze({__proto__:null,base10:qre});const Hre=ni({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Wre=ni({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Kre=Object.freeze({__proto__:null,base16:Hre,base16upper:Wre});const Gre=ni({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Qre=ni({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Yre=ni({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Jre=ni({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Zre=ni({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Xre=ni({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ene=ni({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tne=ni({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rne=ni({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var nne=Object.freeze({__proto__:null,base32:Gre,base32upper:Qre,base32pad:Yre,base32padupper:Jre,base32hex:Zre,base32hexupper:Xre,base32hexpad:ene,base32hexpadupper:tne,base32z:rne});const ine=t0({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),sne=t0({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var one=Object.freeze({__proto__:null,base36:ine,base36upper:sne});const ane=t0({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),cne=t0({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var lne=Object.freeze({__proto__:null,base58btc:ane,base58flickr:cne});const une=ni({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),dne=ni({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),hne=ni({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),fne=ni({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var pne=Object.freeze({__proto__:null,base64:une,base64pad:dne,base64url:hne,base64urlpad:fne});const Rk=Array.from(""),mne=Rk.reduce((t,e,r)=>(t[r]=e,t),[]),gne=Rk.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function yne(t){return t.reduce((e,r)=>(e+=mne[r],e),"")}function vne(t){const e=[];for(const r of t){const n=gne[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const wne=ab({prefix:"",name:"base256emoji",encode:yne,decode:vne});var bne=Object.freeze({__proto__:null,base256emoji:wne}),Ene=Ok,A5=128,_ne=-128,Ane=Math.pow(2,31);function Ok(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Ane;)e[r++]=t&255|A5,t/=128;for(;t&_ne;)e[r++]=t&255|A5,t>>>=7;return e[r]=t|0,Ok.bytes=r-n+1,e}var Cne=R2,Sne=128,C5=127;function R2(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw R2.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&C5)<<i:(o&C5)*Math.pow(2,i),i+=7}while(o>=Sne);return R2.bytes=s-n,r}var Ine=Math.pow(2,7),Tne=Math.pow(2,14),xne=Math.pow(2,21),Nne=Math.pow(2,28),Pne=Math.pow(2,35),Rne=Math.pow(2,42),One=Math.pow(2,49),kne=Math.pow(2,56),Dne=Math.pow(2,63),Mne=function(t){return t<Ine?1:t<Tne?2:t<xne?3:t<Nne?4:t<Pne?5:t<Rne?6:t<One?7:t<kne?8:t<Dne?9:10},Lne={encode:Ene,decode:Cne,encodingLength:Mne},kk=Lne;const S5=(t,e,r=0)=>(kk.encode(t,e,r),e),I5=t=>kk.encodingLength(t),O2=(t,e)=>{const r=e.byteLength,n=I5(t),i=n+I5(r),s=new Uint8Array(i+r);return S5(t,s,0),S5(r,s,n),s.set(e,i),new Une(t,r,e,s)};class Une{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const Dk=({name:t,code:e,encode:r})=>new Fne(t,e,r);class Fne{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?O2(this.code,r):r.then(n=>O2(this.code,n))}else throw Error("Unknown type, must be binary type")}}const Mk=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),$ne=Dk({name:"sha2-256",code:18,encode:Mk("SHA-256")}),Bne=Dk({name:"sha2-512",code:19,encode:Mk("SHA-512")});var jne=Object.freeze({__proto__:null,sha256:$ne,sha512:Bne});const Lk=0,Vne="identity",Uk=Nk,qne=t=>O2(Lk,Uk(t)),zne={code:Lk,name:Vne,encode:Uk,digest:qne};var Hne=Object.freeze({__proto__:null,identity:zne});new TextEncoder,new TextDecoder;const T5={...Fre,...Bre,...Vre,...zre,...Kre,...nne,...one,...lne,...pne,...bne};({...jne,...Hne});function Wne(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Fk(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const x5=Fk("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),D_=Fk("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Wne(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Kne={utf8:x5,"utf-8":x5,hex:T5.base16,latin1:D_,ascii:D_,binary:D_,...T5};function Gne(t,e="utf8"){const r=Kne[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}var Qne=Object.defineProperty,Yne=(t,e,r)=>e in t?Qne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qo=(t,e,r)=>Yne(t,typeof e!="symbol"?e+"":e,r);class Jne{constructor(e,r){this.core=e,this.logger=r,qo(this,"keychain",new Map),qo(this,"name",Jte),qo(this,"version",Zte),qo(this,"initialized",!1),qo(this,"storagePrefix",ha),qo(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),qo(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),qo(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),qo(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=Ne("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),qo(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=Ei(r,this.name)}get context(){return is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,y2(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?v2(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Zne=Object.defineProperty,Xne=(t,e,r)=>e in t?Zne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Wn=(t,e,r)=>Xne(t,typeof e!="symbol"?e+"":e,r);class eie{constructor(e,r,n){this.core=e,this.logger=r,Wn(this,"name",Qte),Wn(this,"keychain"),Wn(this,"randomSessionIdentifier",S2()),Wn(this,"initialized",!1),Wn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Wn(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Wn(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=$N(i);return v9(s.publicKey)}),Wn(this,"generateKeyPair",()=>{this.isInitialized();const i=aee();return this.setPrivateKey(i.publicKey,i.privateKey)}),Wn(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=$N(s),a=this.randomSessionIdentifier;return await JQ(a,i,Yte,o)}),Wn(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),u=cee(a,s);return this.setSymKey(u,o)}),Wn(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||yv(i);return await this.keychain.set(o,i),o}),Wn(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Wn(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Wn(this,"encode",async(i,s,o)=>{this.isInitialized();const a=mk(o),u=oc(s);if(n5(a))return dee(u,o==null?void 0:o.encoding);if(r5(a)){const m=a.senderPublicKey,g=a.receiverPublicKey;i=await this.generateSharedKey(m,g)}const l=this.getSymKey(i),{type:h,senderPublicKey:f}=a;return lee({type:h,symKey:l,message:u,senderPublicKey:f,encoding:o==null?void 0:o.encoding})}),Wn(this,"decode",async(i,s,o)=>{this.isInitialized();const a=fee(s,o);if(n5(a)){const u=hee(s,o==null?void 0:o.encoding);return rd(u)}if(r5(a)){const u=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(u,l)}try{const u=this.getSymKey(i),l=uee({symKey:u,encoded:s,encoding:o==null?void 0:o.encoding});return rd(l)}catch(u){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(u)}}),Wn(this,"getPayloadType",(i,s=gl)=>{const o=Xm({encoded:i,encoding:s});return od(o.type)}),Wn(this,"getPayloadSenderPublicKey",(i,s=gl)=>{const o=Xm({encoded:i,encoding:s});return o.senderPublicKey?Oi(o.senderPublicKey,vi):void 0}),this.core=e,this.logger=Ei(r,this.name),this.keychain=n||new Jne(this.core,this.logger)}get context(){return is(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(b5)}catch{e=S2(),await this.keychain.set(b5,e)}return Gne(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}}var tie=Object.defineProperty,rie=Object.defineProperties,nie=Object.getOwnPropertyDescriptors,N5=Object.getOwnPropertySymbols,iie=Object.prototype.hasOwnProperty,sie=Object.prototype.propertyIsEnumerable,k2=(t,e,r)=>e in t?tie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oie=(t,e)=>{for(var r in e||(e={}))iie.call(e,r)&&k2(t,r,e[r]);if(N5)for(var r of N5(e))sie.call(e,r)&&k2(t,r,e[r]);return t},aie=(t,e)=>rie(t,nie(e)),fs=(t,e,r)=>k2(t,typeof e!="symbol"?e+"":e,r);class cie extends QW{constructor(e,r){super(e,r),this.logger=e,this.core=r,fs(this,"messages",new Map),fs(this,"messagesWithoutClientAck",new Map),fs(this,"name",Xte),fs(this,"version",ere),fs(this,"initialized",!1),fs(this,"storagePrefix",ha),fs(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),fs(this,"set",async(n,i,s)=>{this.isInitialized();const o=ta(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===vv.inbound){const u=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,aie(oie({},u),{[o]:i}))}return await this.persist(),o}),fs(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),fs(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),fs(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=ta(i);return typeof s[o]<"u"}),fs(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=ta(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),fs(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=Ei(e,this.name),this.core=r}get context(){return is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,y2(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,y2(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?v2(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?v2(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}}var lie=Object.defineProperty,uie=Object.defineProperties,die=Object.getOwnPropertyDescriptors,P5=Object.getOwnPropertySymbols,hie=Object.prototype.hasOwnProperty,fie=Object.prototype.propertyIsEnumerable,D2=(t,e,r)=>e in t?lie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Vy=(t,e)=>{for(var r in e||(e={}))hie.call(e,r)&&D2(t,r,e[r]);if(P5)for(var r of P5(e))fie.call(e,r)&&D2(t,r,e[r]);return t},M_=(t,e)=>uie(t,die(e)),lo=(t,e,r)=>D2(t,typeof e!="symbol"?e+"":e,r);class pie extends YW{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,lo(this,"events",new Vs.EventEmitter),lo(this,"name",tre),lo(this,"queue",new Map),lo(this,"publishTimeout",xe.toMiliseconds(xe.ONE_MINUTE)),lo(this,"initialPublishTimeout",xe.toMiliseconds(xe.ONE_SECOND*15)),lo(this,"needsTransportRestart",!1),lo(this,"publish",async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||E5,u=Xv(s),l=(s==null?void 0:s.prompt)||!1,h=(s==null?void 0:s.tag)||0,f=(s==null?void 0:s.id)||Ru().toString(),m={topic:n,message:i,opts:{ttl:a,relay:u,prompt:l,tag:h,id:f,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}},g=`Failed to publish payload, please try again. id:${f} tag:${h}`;try{const w=new Promise(async E=>{const C=({id:D})=>{m.opts.id===D&&(this.removeRequestFromQueue(D),this.relayer.events.removeListener(Ln.publish,C),E(m))};this.relayer.events.on(Ln.publish,C);const N=ml(new Promise((D,F)=>{this.rpcPublish({topic:n,message:i,ttl:a,prompt:l,tag:h,id:f,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}).then(D).catch(V=>{this.logger.warn(V,V==null?void 0:V.message),F(V)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${f} tag:${h}`);try{await N,this.events.removeListener(Ln.publish,C)}catch(D){this.queue.set(f,M_(Vy({},m),{attempt:1})),this.logger.warn(D,D==null?void 0:D.message)}});this.logger.trace({type:"method",method:"publish",params:{id:f,topic:n,message:i,opts:s}}),await ml(w,this.publishTimeout,g)}catch(w){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(w),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw w}finally{this.queue.delete(f)}}),lo(this,"on",(n,i)=>{this.events.on(n,i)}),lo(this,"once",(n,i)=>{this.events.once(n,i)}),lo(this,"off",(n,i)=>{this.events.off(n,i)}),lo(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=Ei(r,this.name),this.registerEventListeners()}get context(){return is(this.logger)}async rpcPublish(e){var r,n,i,s;const{topic:o,message:a,ttl:u=E5,prompt:l,tag:h,id:f,attestation:m,tvf:g}=e,w={method:om(Xv().protocol).publish,params:Vy({topic:o,message:a,ttl:u,prompt:l,tag:h,attestation:m},g),id:f};Yn((r=w.params)==null?void 0:r.prompt)&&((n=w.params)==null||delete n.prompt),Yn((i=w.params)==null?void 0:i.tag)&&((s=w.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:w});const E=await this.relayer.request(w);return this.relayer.events.emit(Ln.publish,e),this.logger.debug("Successfully Published Payload"),E}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{const n=e.attempt+1;this.queue.set(r,M_(Vy({},e),{attempt:n}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${n}`),await this.rpcPublish(M_(Vy({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Vf.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Ln.connection_stalled);return}this.checkQueue()}),this.relayer.on(Ln.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var mie=Object.defineProperty,gie=(t,e,r)=>e in t?mie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dh=(t,e,r)=>gie(t,typeof e!="symbol"?e+"":e,r);class yie{constructor(){dh(this,"map",new Map),dh(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),dh(this,"get",e=>this.map.get(e)||[]),dh(this,"exists",(e,r)=>this.get(e).includes(r)),dh(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),dh(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var vie=Object.defineProperty,wie=Object.defineProperties,bie=Object.getOwnPropertyDescriptors,R5=Object.getOwnPropertySymbols,Eie=Object.prototype.hasOwnProperty,_ie=Object.prototype.propertyIsEnumerable,M2=(t,e,r)=>e in t?vie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yp=(t,e)=>{for(var r in e||(e={}))Eie.call(e,r)&&M2(t,r,e[r]);if(R5)for(var r of R5(e))_ie.call(e,r)&&M2(t,r,e[r]);return t},L_=(t,e)=>wie(t,bie(e)),Ar=(t,e,r)=>M2(t,typeof e!="symbol"?e+"":e,r);class Aie extends XW{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,Ar(this,"subscriptions",new Map),Ar(this,"topicMap",new yie),Ar(this,"events",new Vs.EventEmitter),Ar(this,"name",cre),Ar(this,"version",lre),Ar(this,"pending",new Map),Ar(this,"cached",[]),Ar(this,"initialized",!1),Ar(this,"storagePrefix",ha),Ar(this,"subscribeTimeout",xe.toMiliseconds(xe.ONE_MINUTE)),Ar(this,"initialSubscribeTimeout",xe.toMiliseconds(xe.ONE_SECOND*15)),Ar(this,"clientId"),Ar(this,"batchSubscribeTopicsLimit",500),Ar(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Ar(this,"subscribe",async(n,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=Xv(i),o={topic:n,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),Ar(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),Ar(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),Ar(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),Ar(this,"on",(n,i)=>{this.events.on(n,i)}),Ar(this,"once",(n,i)=>{this.events.once(n,i)}),Ar(this,"off",(n,i)=>{this.events.off(n,i)}),Ar(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),Ar(this,"start",async()=>{await this.onConnect()}),Ar(this,"stop",async()=>{await this.onDisconnect()}),Ar(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Ar(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),Ar(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Vf.pulse,async()=>{await this.checkPending()}),this.events.on(ms.created,async n=>{const i=ms.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(ms.deleted,async n=>{const i=ms.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=Ei(r,this.name),this.clientId=""}get context(){return is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=Xv(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=pr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i;(!n||(n==null?void 0:n.transportType)===jr.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const s={method:om(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((n==null?void 0:n.transportType)===jr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(h=>this.logger.warn(h))},xe.toMiliseconds(xe.ONE_SECOND)),a;const u=new Promise(async h=>{const f=m=>{m.topic===e&&(this.events.removeListener(ms.created,f),h(m.id))};this.events.on(ms.created,f);try{const m=await ml(new Promise((g,w)=>{this.relayer.request(s).catch(E=>{this.logger.warn(E,E==null?void 0:E.message),w(E)}).then(g)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(ms.created,f),h(m)}catch{}}),l=await ml(u,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Ln.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:om(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await ml(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Ln.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:om(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await ml(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Ln.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:om(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,L_(Yp({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,Yp({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,Yp({},r)),this.topicMap.set(r.topic,e),this.events.emit(ms.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=Ne("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(ms.deleted,L_(Yp({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ms.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(ms.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=Ne("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>L_(Yp({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await bZ(xe.toMiliseconds(xe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return ta(e+await this.getClientId())}}var Cie=Object.defineProperty,O5=Object.getOwnPropertySymbols,Sie=Object.prototype.hasOwnProperty,Iie=Object.prototype.propertyIsEnumerable,L2=(t,e,r)=>e in t?Cie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,k5=(t,e)=>{for(var r in e||(e={}))Sie.call(e,r)&&L2(t,r,e[r]);if(O5)for(var r of O5(e))Iie.call(e,r)&&L2(t,r,e[r]);return t},zt=(t,e,r)=>L2(t,typeof e!="symbol"?e+"":e,r);class Tie extends JW{constructor(e){super(e),zt(this,"protocol","wc"),zt(this,"version",2),zt(this,"core"),zt(this,"logger"),zt(this,"events",new Vs.EventEmitter),zt(this,"provider"),zt(this,"messages"),zt(this,"subscriber"),zt(this,"publisher"),zt(this,"name",nre),zt(this,"transportExplicitlyClosed",!1),zt(this,"initialized",!1),zt(this,"connectionAttemptInProgress",!1),zt(this,"relayUrl"),zt(this,"projectId"),zt(this,"packageName"),zt(this,"bundleId"),zt(this,"hasExperiencedNetworkDisruption",!1),zt(this,"pingTimeout"),zt(this,"heartBeatTimeout",xe.toMiliseconds(xe.THIRTY_SECONDS+xe.FIVE_SECONDS)),zt(this,"reconnectTimeout"),zt(this,"connectPromise"),zt(this,"reconnectInProgress",!1),zt(this,"requestsInFlight",[]),zt(this,"connectTimeout",xe.toMiliseconds(xe.ONE_SECOND*15)),zt(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||Ru().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(u=>u!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),zt(this,"resetPingTimeout",()=>{Jv()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),zt(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),zt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Ln.connect)}),zt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),zt(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(Ln.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),zt(this,"registerProviderListeners",()=>{this.provider.on(Ps.payload,this.onPayloadHandler),this.provider.on(Ps.connect,this.onConnectHandler),this.provider.on(Ps.disconnect,this.onDisconnectHandler),this.provider.on(Ps.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Ei(e.logger,this.name):Hg(qf({level:e.logger||rre})),this.messages=new cie(this.logger,e.core),this.subscriber=new Aie(this,this.logger),this.publisher=new pie(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||Tk,this.projectId=e.projectId,sZ()?this.packageName=NP():oZ()&&(this.bundleId=NP()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return is(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:jr.relay},vv.outbound)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",u;const l=h=>{h.topic===e&&(this.subscriber.off(ms.created,l),u())};return await Promise.all([new Promise(h=>{u=h,this.subscriber.on(ms.created,l)}),new Promise(async(h,f)=>{a=await this.subscriber.subscribe(e,k5({internal:{throwOnFailedPublish:o}},r)).catch(m=>{o&&f(m)})||a,h()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ml(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await d5())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=wn(xe.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(Ln.message,e),await this.recordMessageEvent(e,vv.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ps.disconnect,s),await ml(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Ps.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const u=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ps.disconnect,u),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Ps.disconnect,u)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,xe.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(Jv())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new zs(new Wte(uZ({sdkVersion:P2,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),US(e)){if(!e.method.endsWith(ire))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:jr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(k5({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else ob(e)&&this.events.emit(Ln.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,vv.inbound),this.events.emit(Ln.message,e))}async acknowledgePayload(e){const r=ib(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Ps.payload,this.onPayloadHandler),this.provider.off(Ps.connect,this.onConnectHandler),this.provider.off(Ps.disconnect,this.onDisconnectHandler),this.provider.off(Ps.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await d5();ete(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Ln.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},xe.toMiliseconds(sre)))))}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function xie(){}function D5(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function M5(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function L5(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Nie="[object RegExp]",Pie="[object String]",Rie="[object Number]",Oie="[object Boolean]",U5="[object Arguments]",kie="[object Symbol]",Die="[object Date]",Mie="[object Map]",Lie="[object Set]",Uie="[object Array]",Fie="[object Function]",$ie="[object ArrayBuffer]",U_="[object Object]",Bie="[object Error]",jie="[object DataView]",Vie="[object Uint8Array]",qie="[object Uint8ClampedArray]",zie="[object Uint16Array]",Hie="[object Uint32Array]",Wie="[object BigUint64Array]",Kie="[object Int8Array]",Gie="[object Int16Array]",Qie="[object Int32Array]",Yie="[object BigInt64Array]",Jie="[object Float32Array]",Zie="[object Float64Array]";function Xie(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function ese(t,e,r){return cm(t,e,void 0,void 0,void 0,void 0,r)}function cm(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return wm(t,e,s,o)}return wm(t,e,s,o)}function wm(t,e,r,n){if(Object.is(t,e))return!0;let i=L5(t),s=L5(e);if(i===U5&&(i=U_),s===U5&&(s=U_),i!==s)return!1;switch(i){case Pie:return t.toString()===e.toString();case Rie:{const u=t.valueOf(),l=e.valueOf();return Xie(u,l)}case Oie:case Die:case kie:return Object.is(t.valueOf(),e.valueOf());case Nie:return t.source===e.source&&t.flags===e.flags;case Fie:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case Mie:{if(t.size!==e.size)return!1;for(const[u,l]of t.entries())if(!e.has(u)||!cm(l,e.get(u),u,t,e,r,n))return!1;return!0}case Lie:{if(t.size!==e.size)return!1;const u=Array.from(t.values()),l=Array.from(e.values());for(let h=0;h<u.length;h++){const f=u[h],m=l.findIndex(g=>cm(f,g,void 0,t,e,r,n));if(m===-1)return!1;l.splice(m,1)}return!0}case Uie:case Vie:case qie:case zie:case Hie:case Wie:case Kie:case Gie:case Qie:case Yie:case Jie:case Zie:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let u=0;u<t.length;u++)if(!cm(t[u],e[u],u,t,e,r,n))return!1;return!0}case $ie:return t.byteLength!==e.byteLength?!1:wm(new Uint8Array(t),new Uint8Array(e),r,n);case jie:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:wm(new Uint8Array(t),new Uint8Array(e),r,n);case Bie:return t.name===e.name&&t.message===e.message;case U_:{if(!(wm(t.constructor,e.constructor,r,n)||D5(t)&&D5(e)))return!1;const u=[...Object.keys(t),...M5(t)],l=[...Object.keys(e),...M5(e)];if(u.length!==l.length)return!1;for(let h=0;h<u.length;h++){const f=u[h],m=t[f];if(!Object.hasOwn(e,f))return!1;const g=e[f];if(!cm(m,g,f,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function tse(t,e){return ese(t,e,xie)}var rse=Object.defineProperty,F5=Object.getOwnPropertySymbols,nse=Object.prototype.hasOwnProperty,ise=Object.prototype.propertyIsEnumerable,U2=(t,e,r)=>e in t?rse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$5=(t,e)=>{for(var r in e||(e={}))nse.call(e,r)&&U2(t,r,e[r]);if(F5)for(var r of F5(e))ise.call(e,r)&&U2(t,r,e[r]);return t},zi=(t,e,r)=>U2(t,typeof e!="symbol"?e+"":e,r);class _d extends ZW{constructor(e,r,n,i=ha,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,zi(this,"map",new Map),zi(this,"version",ore),zi(this,"cached",[]),zi(this,"initialized",!1),zi(this,"getKey"),zi(this,"storagePrefix",ha),zi(this,"recentlyDeleted",[]),zi(this,"recentlyDeletedLimit",200),zi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Yn(o)?this.map.set(this.getKey(o),o):Ree(o)?this.map.set(o.id,o):Oee(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),zi(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),zi(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),zi(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(u=>tse(a[u],o[u]))):this.values)),zi(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const u=$5($5({},this.getData(o)),a);this.map.set(o,u),await this.persist()}),zi(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Ei(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=Ne("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=Ne("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=Ne("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}}var sse=Object.defineProperty,ose=(t,e,r)=>e in t?sse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Tt=(t,e,r)=>ose(t,typeof e!="symbol"?e+"":e,r);class ase{constructor(e,r){this.core=e,this.logger=r,Tt(this,"name",ure),Tt(this,"version",dre),Tt(this,"events",new mS),Tt(this,"pairings"),Tt(this,"initialized",!1),Tt(this,"storagePrefix",ha),Tt(this,"ignoredPayloadTypes",[Xa]),Tt(this,"registeredMethods",[]),Tt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Tt(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Tt(this,"create",async n=>{this.isInitialized();const i=S2(),s=await this.core.crypto.setSymKey(i),o=wn(xe.FIVE_MINUTES),a={protocol:Ik},u={topic:s,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},l=s5({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(Su.create,u),this.core.expirer.set(s,o),await this.pairings.set(s,u),await this.core.relayer.subscribe(s,{transportType:n==null?void 0:n.transportType}),{topic:s,uri:l}}),Tt(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[Ko.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:u,methods:l}=i5(n.uri);i.props.properties.topic=s,i.addTrace(Ko.pairing_uri_validation_success),i.addTrace(Ko.pairing_uri_not_expired);let h;if(this.pairings.keys.includes(s)){if(h=this.pairings.get(s),i.addTrace(Ko.existing_pairing),h.active)throw i.setError(Ka.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Ko.pairing_not_expired)}const f=u||wn(xe.FIVE_MINUTES),m={topic:s,relay:a,expiry:f,active:!1,methods:l};this.core.expirer.set(s,f),await this.pairings.set(s,m),i.addTrace(Ko.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Su.create,m),i.addTrace(Ko.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Ko.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Ka.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(g){throw i.setError(Ka.subscribe_pairing_topic_failure),g}return i.addTrace(Ko.subscribe_pairing_topic_success),m}),Tt(this,"activate",async({topic:n})=>{this.isInitialized();const i=wn(xe.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),Tt(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:u}=bu();this.events.once(Xt("pairing_ping",s),({error:l})=>{l?u(l):a()}),await o()}}),Tt(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),Tt(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),Tt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Tt(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",pr("USER_DISCONNECTED")),await this.deletePairing(i))}),Tt(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,u=this.core.crypto.keychain.get(i);return s5({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:u,relay:s,expiryTimestamp:o,methods:a})}),Tt(this,"sendRequest",async(n,i,s)=>{const o=yl(i,s),a=await this.core.crypto.encode(n,o),u=Gp[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,u),o.id}),Tt(this,"sendResult",async(n,i,s)=>{const o=ib(n,s),a=await this.core.crypto.encode(i,o),u=(await this.core.history.get(i,n)).request.method,l=Gp[u].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Tt(this,"sendError",async(n,i,s)=>{const o=sb(n,s),a=await this.core.crypto.encode(i,o),u=(await this.core.history.get(i,n)).request.method,l=Gp[u]?Gp[u].res:Gp.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Tt(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,pr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),Tt(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>rl(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),Tt(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Tt(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Tt(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Su.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Tt(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{Qo(i)?this.events.emit(Xt("pairing_ping",s),{}):Fs(i)&&this.events.emit(Xt("pairing_ping",s),{error:i.error})},500)}),Tt(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Su.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Tt(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=pr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),Tt(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(pr("WC_METHOD_UNSUPPORTED",n))}),Tt(this,"isValidPair",(n,i)=>{var s;if(!Gi(n)){const{message:a}=Ne("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(Ka.malformed_pairing_uri),new Error(a)}if(!Pee(n.uri)){const{message:a}=Ne("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(Ka.malformed_pairing_uri),new Error(a)}const o=i5(n==null?void 0:n.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=Ne("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Ka.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Ne("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Ka.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&xe.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(Ka.pairing_expired);const{message:a}=Ne("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Tt(this,"isValidPing",async n=>{if(!Gi(n)){const{message:s}=Ne("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Tt(this,"isValidDisconnect",async n=>{if(!Gi(n)){const{message:s}=Ne("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Tt(this,"isValidPairingTopic",async n=>{if(!hn(n,!1)){const{message:i}=Ne("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=Ne("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(rl(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=Ne("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=Ei(r,this.name),this.pairings=new _d(this.core,this.logger,this.name,this.storagePrefix)}get context(){return is(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Ln.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==jr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);US(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):ob(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Ms.expired,async e=>{const{topic:r}=H9(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Su.expire,{topic:r}))})}}var cse=Object.defineProperty,lse=(t,e,r)=>e in t?cse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Kn=(t,e,r)=>lse(t,typeof e!="symbol"?e+"":e,r);class use extends GW{constructor(e,r){super(e,r),this.core=e,this.logger=r,Kn(this,"records",new Map),Kn(this,"events",new Vs.EventEmitter),Kn(this,"name",hre),Kn(this,"version",fre),Kn(this,"cached",[]),Kn(this,"initialized",!1),Kn(this,"storagePrefix",ha),Kn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Kn(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:wn(xe.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(ao.created,o)}),Kn(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Fs(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(ao.updated,i))}),Kn(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),Kn(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(ao.deleted,s)}}),this.persist()}),Kn(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),Kn(this,"on",(n,i)=>{this.events.on(n,i)}),Kn(this,"once",(n,i)=>{this.events.once(n,i)}),Kn(this,"off",(n,i)=>{this.events.off(n,i)}),Kn(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Ei(r,this.name)}get context(){return is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:yl(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=Ne("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ao.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=Ne("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ao.created,e=>{const r=ao.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(ao.updated,e=>{const r=ao.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(ao.deleted,e=>{const r=ao.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(Vf.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{xe.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(ao.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}}var dse=Object.defineProperty,hse=(t,e,r)=>e in t?dse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,di=(t,e,r)=>hse(t,typeof e!="symbol"?e+"":e,r);class fse extends eK{constructor(e,r){super(e,r),this.core=e,this.logger=r,di(this,"expirations",new Map),di(this,"events",new Vs.EventEmitter),di(this,"name",pre),di(this,"version",mre),di(this,"cached",[]),di(this,"initialized",!1),di(this,"storagePrefix",ha),di(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),di(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),di(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Ms.created,{target:s,expiration:o})}),di(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),di(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Ms.deleted,{target:i,expiration:s})}}),di(this,"on",(n,i)=>{this.events.on(n,i)}),di(this,"once",(n,i)=>{this.events.once(n,i)}),di(this,"off",(n,i)=>{this.events.off(n,i)}),di(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Ei(r,this.name)}get context(){return is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return dZ(e);if(typeof e=="number")return hZ(e);const{message:r}=Ne("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ms.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=Ne("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=Ne("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;xe.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Ms.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Vf.pulse,()=>this.checkExpirations()),this.events.on(Ms.created,e=>{const r=Ms.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Ms.expired,e=>{const r=Ms.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Ms.deleted,e=>{const r=Ms.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}}var pse=Object.defineProperty,mse=(t,e,r)=>e in t?pse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,un=(t,e,r)=>mse(t,typeof e!="symbol"?e+"":e,r);class gse extends tK{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,un(this,"name",gre),un(this,"abortController"),un(this,"isDevEnv"),un(this,"verifyUrlV3",vre),un(this,"storagePrefix",ha),un(this,"version",Sk),un(this,"publicKey"),un(this,"fetchPromise"),un(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&xe.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),un(this,"register",async i=>{if(!Yg()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,u=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=nd.getDocument(),h=this.startAbortTimer(xe.ONE_SECOND*5),f=await new Promise((m,g)=>{const w=()=>{window.removeEventListener("message",C),l.body.removeChild(E),g("attestation aborted")};this.abortController.signal.addEventListener("abort",w);const E=l.createElement("iframe");E.src=u,E.style.display="none",E.addEventListener("error",w,{signal:this.abortController.signal});const C=N=>{if(N.data&&typeof N.data=="string")try{const D=JSON.parse(N.data);if(D.type==="verify_attestation"){if(p2(D.attestation).payload.id!==o)return;clearInterval(h),l.body.removeChild(E),this.abortController.signal.removeEventListener("abort",w),window.removeEventListener("message",C),m(D.attestation===null?"":D.attestation)}}catch(D){this.logger.warn(D)}};l.body.appendChild(E),window.addEventListener("message",C,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(l){this.logger.warn(l)}return""}),un(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(p2(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const u=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,u)}),un(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(xe.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),un(this,"getVerifyUrl",i=>{let s=i||vm;return wre.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${vm}`),s=vm),s}),un(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(xe.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),un(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),un(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),un(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),un(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),un(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),un(this,"validateAttestation",(i,s)=>{const o=yee(i,s.publicKey),a={hasExpired:xe.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Ei(r,this.name),this.abortController=new AbortController,this.isDevEnv=TS(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return is(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),xe.toMiliseconds(e))}}var yse=Object.defineProperty,vse=(t,e,r)=>e in t?yse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,B5=(t,e,r)=>vse(t,typeof e!="symbol"?e+"":e,r);class wse extends rK{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,B5(this,"context",bre),B5(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,u=`${Ere}/${this.projectId}/clients`;await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Ei(r,this.context)}}var bse=Object.defineProperty,j5=Object.getOwnPropertySymbols,Ese=Object.prototype.hasOwnProperty,_se=Object.prototype.propertyIsEnumerable,F2=(t,e,r)=>e in t?bse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Jp=(t,e)=>{for(var r in e||(e={}))Ese.call(e,r)&&F2(t,r,e[r]);if(j5)for(var r of j5(e))_se.call(e,r)&&F2(t,r,e[r]);return t},On=(t,e,r)=>F2(t,typeof e!="symbol"?e+"":e,r);class Ase extends nK{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,On(this,"context",Are),On(this,"storagePrefix",ha),On(this,"storageVersion",_re),On(this,"events",new Map),On(this,"shouldPersist",!1),On(this,"init",async()=>{if(!TS())try{const i={eventId:RP(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:q9(this.core.relayer.protocol,this.core.relayer.version,P2)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),On(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:u}}=i,l=RP(),h=this.core.projectId||"",f=Date.now(),m=Jp({eventId:l,timestamp:f,props:{event:s,type:o,properties:{topic:a,trace:u}},bundleId:h,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,m),this.shouldPersist=!0),m}),On(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(u=>u.props.properties.topic===o);if(a)return Jp(Jp({},a),this.setMethods(a.eventId))}),On(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),On(this,"setEventListeners",()=>{this.core.heartbeat.on(Vf.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{xe.fromMiliseconds(Date.now())-xe.fromMiliseconds(i.timestamp)>Cre&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),On(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),On(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),On(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),On(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),On(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Jp(Jp({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),On(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),On(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Sre}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${P2}${s}`,{method:"POST",body:JSON.stringify(i)})}),On(this,"getAppDomain",()=>V9().url),this.logger=Ei(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Cse=Object.defineProperty,V5=Object.getOwnPropertySymbols,Sse=Object.prototype.hasOwnProperty,Ise=Object.prototype.propertyIsEnumerable,$2=(t,e,r)=>e in t?Cse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,q5=(t,e)=>{for(var r in e||(e={}))Sse.call(e,r)&&$2(t,r,e[r]);if(V5)for(var r of V5(e))Ise.call(e,r)&&$2(t,r,e[r]);return t},Mr=(t,e,r)=>$2(t,typeof e!="symbol"?e+"":e,r);let Tse=class $k extends zW{constructor(e){var r;super(e),Mr(this,"protocol",Ck),Mr(this,"version",Sk),Mr(this,"name",N2),Mr(this,"relayUrl"),Mr(this,"projectId"),Mr(this,"customStoragePrefix"),Mr(this,"events",new Vs.EventEmitter),Mr(this,"logger"),Mr(this,"heartbeat"),Mr(this,"relayer"),Mr(this,"crypto"),Mr(this,"storage"),Mr(this,"history"),Mr(this,"expirer"),Mr(this,"pairing"),Mr(this,"verify"),Mr(this,"echoClient"),Mr(this,"linkModeSupportedApps"),Mr(this,"eventClient"),Mr(this,"initialized",!1),Mr(this,"logChunkController"),Mr(this,"on",(o,a)=>this.events.on(o,a)),Mr(this,"once",(o,a)=>this.events.once(o,a)),Mr(this,"off",(o,a)=>this.events.off(o,a)),Mr(this,"removeListener",(o,a)=>this.events.removeListener(o,a)),Mr(this,"dispatchEnvelope",({topic:o,message:a,sessionExists:u})=>{if(!o||!a)return;const l={topic:o,message:a,publishedAt:Date.now(),transportType:jr.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:u})}),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Tk,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const n=qf({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Kte.logger,name:N2}),{logger:i,chunkLoggerController:s}=yS({opts:n,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=s,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,a;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((a=this.logChunkController)==null||a.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ei(i,this.name),this.heartbeat=new qH,this.crypto=new eie(this,this.logger,e==null?void 0:e.keychain),this.history=new use(this,this.logger),this.expirer=new fse(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new SW(q5(q5({},Gte),e==null?void 0:e.storageOptions)),this.relayer=new Tie({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new ase(this,this.logger),this.verify=new gse(this,this.logger,this.storage),this.echoClient=new wse(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Ase(this,this.logger,e==null?void 0:e.telemetryEnabled)}static async init(e){const r=new $k(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(are,n),r}get context(){return is(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(_5,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(_5)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const xse=Tse,Bk="wc",jk=2,Vk="client",FS=`${Bk}@${jk}:${Vk}:`,F_={name:Vk,logger:"error"},z5="WALLETCONNECT_DEEPLINK_CHOICE",Nse="proposal",H5="Proposal expired",Pse="session",hh=xe.SEVEN_DAYS,Rse="engine",kn={wc_sessionPropose:{req:{ttl:xe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:xe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:xe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:xe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:xe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1119}}},$_={min:xe.FIVE_MINUTES,max:xe.SEVEN_DAYS},zo={idle:"IDLE",active:"ACTIVE"},W5={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},Ose="request",kse=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Dse="wc",Mse="auth",Lse="authKeys",Use="pairingTopics",Fse="requests",cb=`${Dse}@${1.5}:${Mse}:`,wv=`${cb}:PUB_KEY`;var $se=Object.defineProperty,Bse=Object.defineProperties,jse=Object.getOwnPropertyDescriptors,K5=Object.getOwnPropertySymbols,Vse=Object.prototype.hasOwnProperty,qse=Object.prototype.propertyIsEnumerable,B2=(t,e,r)=>e in t?$se(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cr=(t,e)=>{for(var r in e||(e={}))Vse.call(e,r)&&B2(t,r,e[r]);if(K5)for(var r of K5(e))qse.call(e,r)&&B2(t,r,e[r]);return t},Ni=(t,e)=>Bse(t,jse(e)),ye=(t,e,r)=>B2(t,typeof e!="symbol"?e+"":e,r);class zse extends aK{constructor(e){super(e),ye(this,"name",Rse),ye(this,"events",new mS),ye(this,"initialized",!1),ye(this,"requestQueue",{state:zo.idle,queue:[]}),ye(this,"sessionRequestQueue",{state:zo.idle,queue:[]}),ye(this,"requestQueueDelay",xe.ONE_SECOND),ye(this,"expectedPairingMethodMap",new Map),ye(this,"recentlyDeletedMap",new Map),ye(this,"recentlyDeletedLimit",200),ye(this,"relayMessageCache",[]),ye(this,"pendingSessions",new Map),ye(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(kn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},xe.toMiliseconds(this.requestQueueDelay)))}),ye(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=Ni(Cr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:u,relays:l}=n;let h=i,f,m=!1;try{if(h){const j=this.client.core.pairing.pairings.get(h);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),m=j.active}}catch(j){throw this.client.logger.error(`connect() -> pairing.get(${h}) failed`),j}if(!h||!m){const{topic:j,uri:U}=await this.client.core.pairing.create();h=j,f=U}if(!h){const{message:j}=Ne("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(j)}const g=await this.client.core.crypto.generateKeyPair(),w=kn.wc_sessionPropose.req.ttl||xe.FIVE_MINUTES,E=wn(w),C=Ni(Cr(Cr({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:Ik}],proposer:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:E,pairingTopic:h},a&&{sessionProperties:a}),u&&{scopedProperties:u}),{id:Go()}),N=Xt("session_connect",C.id),{reject:D,resolve:F,done:V}=bu(w,H5),q=({id:j})=>{j===C.id&&(this.client.events.off("proposal_expire",q),this.pendingSessions.delete(C.id),this.events.emit(N,{error:{message:H5,code:0}}))};return this.client.events.on("proposal_expire",q),this.events.once(N,({error:j,session:U})=>{this.client.events.off("proposal_expire",q),j?D(j):U&&F(U)}),await this.sendRequest({topic:h,method:"wc_sessionPropose",params:C,throwOnFailedPublish:!0,clientRpcId:C.id}),await this.setProposal(C.id,C),{uri:f,approval:V}}),ye(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),ye(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[co.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(k){throw o.setError(gu.no_internet_connection),k}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(k){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(gu.proposal_not_found),k}try{await this.isValidApprove(r)}catch(k){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(gu.session_approve_namespace_validation_failure),k}const{id:a,relayProtocol:u,namespaces:l,sessionProperties:h,scopedProperties:f,sessionConfig:m}=r,g=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:w,proposer:E,requiredNamespaces:C,optionalNamespaces:N}=g;let D=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:w});D||(D=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:co.session_approve_started,properties:{topic:w,trace:[co.session_approve_started,co.session_namespaces_validation_success]}}));const F=await this.client.core.crypto.generateKeyPair(),V=E.publicKey,q=await this.client.core.crypto.generateSharedKey(F,V),j=Cr(Cr(Cr({relay:{protocol:u??"irn"},namespaces:l,controller:{publicKey:F,metadata:this.client.metadata},expiry:wn(hh)},h&&{sessionProperties:h}),f&&{scopedProperties:f}),m&&{sessionConfig:m}),U=jr.relay;D.addTrace(co.subscribing_session_topic);try{await this.client.core.relayer.subscribe(q,{transportType:U})}catch(k){throw D.setError(gu.subscribe_session_topic_failure),k}D.addTrace(co.subscribe_session_topic_success);const $=Ni(Cr({},j),{topic:q,requiredNamespaces:C,optionalNamespaces:N,pairingTopic:w,acknowledged:!1,self:j.controller,peer:{publicKey:E.publicKey,metadata:E.metadata},controller:F,transportType:jr.relay});await this.client.session.set(q,$),D.addTrace(co.store_session);try{D.addTrace(co.publishing_session_settle),await this.sendRequest({topic:q,method:"wc_sessionSettle",params:j,throwOnFailedPublish:!0}).catch(k=>{throw D==null||D.setError(gu.session_settle_publish_failure),k}),D.addTrace(co.session_settle_publish_success),D.addTrace(co.publishing_session_approve),await this.sendResult({id:a,topic:w,result:{relay:{protocol:u??"irn"},responderPublicKey:F},throwOnFailedPublish:!0}).catch(k=>{throw D==null||D.setError(gu.session_approve_publish_failure),k}),D.addTrace(co.session_approve_publish_success)}catch(k){throw this.client.logger.error(k),this.client.session.delete(q,pr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(q),k}return this.client.core.eventClient.deleteEvent({eventId:D.eventId}),await this.client.core.pairing.updateMetadata({topic:w,metadata:E.metadata}),await this.client.proposal.delete(a,pr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:w}),await this.setExpiry(q,wn(hh)),{topic:q,acknowledged:()=>Promise.resolve(this.client.session.get(q))}}),ye(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&(await this.sendError({id:n,topic:s,error:i,rpcOpts:kn.wc_sessionPropose.reject}),await this.client.proposal.delete(n,pr("USER_DISCONNECTED")))}),ye(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=bu(),u=Go(),l=Ru().toString(),h=this.client.session.get(n).namespaces;return this.events.once(Xt("session_update",u),({error:f})=>{f?a(f):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:u,relayRpcId:l}).catch(f=>{this.client.logger.error(f),this.client.session.update(n,{namespaces:h}),a(f)}),{acknowledged:s}}),ye(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(u){throw this.client.logger.error("extend() -> isValidExtend() failed"),u}const{topic:n}=r,i=Go(),{done:s,resolve:o,reject:a}=bu();return this.events.once(Xt("session_extend",i),({error:u})=>{u?a(u):o()}),await this.setExpiry(n,wn(hh)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(u=>{a(u)}),{acknowledged:s}}),ye(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(N){throw this.client.logger.error("request() -> isValidRequest() failed"),N}const{chainId:n,request:i,topic:s,expiry:o=kn.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);(a==null?void 0:a.transportType)===jr.relay&&await this.confirmOnlineStateOrThrow();const u=Go(),l=Ru().toString(),{done:h,resolve:f,reject:m}=bu(o,"Request expired. Please try again.");this.events.once(Xt("session_request",u),({error:N,result:D})=>{N?m(N):f(D)});const g="wc_sessionRequest",w=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(w)return await this.sendRequest({clientRpcId:u,relayRpcId:l,topic:s,method:g,params:{request:Ni(Cr({},i),{expiryTimestamp:wn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:w}).catch(N=>m(N)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:u}),await h();const E={request:Ni(Cr({},i),{expiryTimestamp:wn(o)}),chainId:n},C=this.shouldSetTVF(g,E);return await Promise.all([new Promise(async N=>{await this.sendRequest(Cr({clientRpcId:u,relayRpcId:l,topic:s,method:g,params:E,expiry:o,throwOnFailedPublish:!0},C&&{tvf:this.getTVFParams(u,E)})).catch(D=>m(D)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:u}),N()}),new Promise(async N=>{var D;if(!((D=a.sessionConfig)!=null&&D.disableDeepLink)){const F=await gZ(this.client.core.storage,z5);await fZ({id:u,topic:s,wcDeepLink:F})}N()}),h()]).then(N=>N[2])}),ye(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===jr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Qo(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):Fs(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),ye(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=Go(),s=Ru().toString(),{done:o,resolve:a,reject:u}=bu();this.events.once(Xt("session_ping",i),({error:l})=>{l?u(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),ye(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=Ru().toString(),a=Go();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ye(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:pr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=Ne("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),ye(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>xee(n,r)))),ye(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ye(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?jr.link_mode:jr.relay;o===jr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:u="",uri:l,domain:h,nonce:f,type:m,exp:g,nbf:w,methods:E=[],expiry:C}=r,N=[...r.resources||[]],{topic:D,uri:F}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:D,uri:F}});const V=await this.client.core.crypto.generateKeyPair(),q=yv(V);if(await Promise.all([this.client.auth.authKeys.set(wv,{responseTopic:q,publicKey:V}),this.client.auth.pairingTopics.set(q,{topic:q,pairingTopic:D})]),await this.client.core.relayer.subscribe(q,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${D}`),E.length>0){const{namespace:B}=jh(a[0]);let A=aX(B,"request",E);gv(N)&&(A=lX(A,N.pop())),N.push(A)}const j=C&&C>kn.wc_sessionAuthenticate.req.ttl?C:kn.wc_sessionAuthenticate.req.ttl,U={authPayload:{type:m??"caip122",chains:a,statement:u,aud:l,domain:h,version:"1",nonce:f,iat:new Date().toISOString(),exp:g,nbf:w,resources:N},requester:{publicKey:V,metadata:this.client.metadata},expiryTimestamp:wn(j)},$={eip155:{chains:a,methods:[...new Set(["personal_sign",...E])],events:["chainChanged","accountsChanged"]}},k={requiredNamespaces:{},optionalNamespaces:$,relays:[{protocol:"irn"}],pairingTopic:D,proposer:{publicKey:V,metadata:this.client.metadata},expiryTimestamp:wn(kn.wc_sessionPropose.req.ttl),id:Go()},{done:W,resolve:x,reject:v}=bu(j,"Request expired"),_=Go(),T=Xt("session_connect",k.id),I=Xt("session_request",_),P=async({error:B,session:A})=>{this.events.off(I,M),B?v(B):A&&x({session:A})},M=async B=>{var A,L,J;if(await this.deletePendingAuthRequest(_,{message:"fulfilled",code:0}),B.error){const Ie=pr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return B.error.code===Ie.code?void 0:(this.events.off(T,P),v(B.error.message))}await this.deleteProposal(k.id),this.events.off(T,P);const{cacaos:re,responder:ie}=B.result,de=[],pe=[];for(const Ie of re){await $P({cacao:Ie,projectId:this.client.core.projectId})||(this.client.logger.error(Ie,"Signature verification failed"),v(pr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ze}=Ie,ar=gv(ze.resources),yt=[w2(ze.iss)],dt=Zv(ze.iss);if(ar){const Gr=BP(ar),_t=jP(ar);de.push(...Gr),yt.push(..._t)}for(const Gr of yt)pe.push(`${Gr}:${dt}`)}const Ae=await this.client.core.crypto.generateSharedKey(V,ie.publicKey);let De;de.length>0&&(De={topic:Ae,acknowledged:!0,self:{publicKey:V,metadata:this.client.metadata},peer:ie,controller:ie.publicKey,expiry:wn(hh),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:D,namespaces:o5([...new Set(de)],[...new Set(pe)]),transportType:o},await this.client.core.relayer.subscribe(Ae,{transportType:o}),await this.client.session.set(Ae,De),D&&await this.client.core.pairing.updateMetadata({topic:D,metadata:ie.metadata}),De=this.client.session.get(Ae)),(A=this.client.metadata.redirect)!=null&&A.linkMode&&(L=ie.metadata.redirect)!=null&&L.linkMode&&(J=ie.metadata.redirect)!=null&&J.universal&&n&&(this.client.core.addLinkModeSupportedApp(ie.metadata.redirect.universal),this.client.session.update(Ae,{transportType:jr.link_mode})),x({auths:re,session:De})};this.events.once(T,P),this.events.once(I,M);let z;try{if(s){const B=yl("wc_sessionAuthenticate",U,_);this.client.core.history.set(D,B);const A=await this.client.core.crypto.encode("",B,{type:e0,encoding:Wp});z=jy(n,D,A)}else await Promise.all([this.sendRequest({topic:D,method:"wc_sessionAuthenticate",params:U,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:_}),this.sendRequest({topic:D,method:"wc_sessionPropose",params:k,expiry:kn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:k.id})])}catch(B){throw this.events.off(T,P),this.events.off(I,M),B}return await this.setProposal(k.id,k),await this.setAuthRequest(_,{request:Ni(Cr({},U),{verifyContext:{}}),pairingTopic:D,transportType:o}),{uri:z??F,response:W}}),ye(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[yu.authenticated_session_approve_started]}});try{this.isInitialized()}catch(C){throw s.setError(Qp.no_internet_connection),C}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(Qp.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||jr.relay;a===jr.relay&&await this.confirmOnlineStateOrThrow();const u=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),h=yv(u),f={type:Xa,receiverPublicKey:u,senderPublicKey:l},m=[],g=[];for(const C of i){if(!await $P({cacao:C,projectId:this.client.core.projectId})){s.setError(Qp.invalid_cacao);const q=pr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:h,error:q,encodeOpts:f}),new Error(q.message)}s.addTrace(yu.cacaos_verified);const{p:N}=C,D=gv(N.resources),F=[w2(N.iss)],V=Zv(N.iss);if(D){const q=BP(D),j=jP(D);m.push(...q),F.push(...j)}for(const q of F)g.push(`${q}:${V}`)}const w=await this.client.core.crypto.generateSharedKey(l,u);s.addTrace(yu.create_authenticated_session_topic);let E;if((m==null?void 0:m.length)>0){E={topic:w,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:u,metadata:o.requester.metadata},controller:u,expiry:wn(hh),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:o5([...new Set(m)],[...new Set(g)]),transportType:a},s.addTrace(yu.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:a})}catch(C){throw s.setError(Qp.subscribe_authenticated_session_topic_failure),C}s.addTrace(yu.subscribe_authenticated_session_topic_success),await this.client.session.set(w,E),s.addTrace(yu.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(yu.publishing_authenticated_session_approve);try{await this.sendResult({topic:h,id:n,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(C){throw s.setError(Qp.authenticated_session_approve_publish_failure),C}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:E}}),ye(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===jr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),u=yv(o),l={type:Xa,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:u,error:i,encodeOpts:l,rpcOpts:kn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,pr("USER_DISCONNECTED"))}),ye(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return ek(n,i)}),ye(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),ye(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),ye(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:u}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,pr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(u.publicKey)&&await this.client.core.crypto.deleteKeyPair(u.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(z5).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,pr("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=zo.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),ye(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(gu.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,pr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),ye(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=zo.idle,this.client.events.emit("session_request_expire",{id:r}))}),ye(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),ye(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),ye(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,wn(kn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),ye(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=jr.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),ye(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||wn(kn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),ye(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:u,throwOnFailedPublish:l,appLink:h,tvf:f}=r,m=yl(i,s,u);let g;const w=!!h;try{const N=w?Wp:gl;g=await this.client.core.crypto.encode(n,m,{encoding:N})}catch(N){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),N}let E;if(kse.includes(i)){const N=ta(JSON.stringify(m)),D=ta(g);E=await this.client.core.verify.register({id:D,decryptedId:N})}const C=kn[i].req;if(C.attestation=E,o&&(C.ttl=o),a&&(C.id=a),this.client.core.history.set(n,m),w){const N=jy(h,n,g);await global.Linking.openURL(N,this.client.name)}else{const N=kn[i].req;o&&(N.ttl=o),a&&(N.id=a),N.tvf=Ni(Cr({},f),{correlationId:m.id}),l?(N.internal=Ni(Cr({},N.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,g,N)):this.client.core.relayer.publish(n,g,N).catch(D=>this.client.logger.error(D))}return m.id}),ye(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:u}=r,l=ib(n,s);let h;const f=u&&typeof(global==null?void 0:global.Linking)<"u";try{const w=f?Wp:gl;h=await this.client.core.crypto.encode(i,l,Ni(Cr({},a||{}),{encoding:w}))}catch(w){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),w}let m,g;try{m=await this.client.core.history.get(i,n);const w=m.request;try{this.shouldSetTVF(w.method,w.params)&&(g=this.getTVFParams(n,w.params,s))}catch(E){this.client.logger.warn("sendResult() -> getTVFParams() failed",E)}}catch(w){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),w}if(f){const w=jy(u,i,h);await global.Linking.openURL(w,this.client.name)}else{const w=m.request.method,E=kn[w].res;E.tvf=Ni(Cr({},g),{correlationId:n}),o?(E.internal=Ni(Cr({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,h,E)):this.client.core.relayer.publish(i,h,E).catch(C=>this.client.logger.error(C))}await this.client.core.history.resolve(l)}),ye(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:u}=r,l=sb(n,s);let h;const f=u&&typeof(global==null?void 0:global.Linking)<"u";try{const g=f?Wp:gl;h=await this.client.core.crypto.encode(i,l,Ni(Cr({},o||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),g}let m;try{m=await this.client.core.history.get(i,n)}catch(g){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),g}if(f){const g=jy(u,i,h);await global.Linking.openURL(g,this.client.name)}else{const g=m.request.method,w=a||kn[g].res;this.client.core.relayer.publish(i,h,w)}await this.client.core.history.resolve(l)}),ye(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;rl(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{rl(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),ye(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),ye(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),ye(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===zo.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=zo.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=zo.idle}),ye(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,u=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:u}))switch(u){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${u}`)}}),ye(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ye(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=Ne("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ye(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ye(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:u}=i;try{const l=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(Ka.proposal_listener_not_found)),this.isValidConnect(Cr({},i.params));const h=a.expiryTimestamp||wn(kn.wc_sessionPropose.req.ttl),f=Cr({id:u,pairingTopic:n,expiryTimestamp:h},a);await this.setProposal(u,f);const m=await this.getVerifyContext({attestationId:s,hash:ta(JSON.stringify(i)),encryptedId:o,metadata:f.proposer.metadata});l==null||l.addTrace(Ko.emit_session_proposal),this.client.events.emit("session_proposal",{id:u,params:f,verifyContext:m})}catch(l){await this.sendError({id:u,topic:n,error:l,rpcOpts:kn.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),ye(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(Qo(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const u=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const h=await this.client.core.crypto.generateSharedKey(u,l);this.pendingSessions.set(s,{sessionTopic:h,pairingTopic:r,proposalId:s,publicKey:u});const f=await this.client.core.relayer.subscribe(h,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if(Fs(n)){await this.client.proposal.delete(s,pr("USER_DISCONNECTED"));const o=Xt("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),ye(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:u,namespaces:l,sessionProperties:h,scopedProperties:f,sessionConfig:m}=n.params,g=[...this.pendingSessions.values()].find(C=>C.sessionTopic===r);if(!g)return this.client.logger.error(`Pending session not found for topic ${r}`);const w=this.client.proposal.get(g.proposalId),E=Ni(Cr(Cr(Cr({topic:r,relay:o,expiry:u,namespaces:l,acknowledged:!0,pairingTopic:g.pairingTopic,requiredNamespaces:w.requiredNamespaces,optionalNamespaces:w.optionalNamespaces,controller:a.publicKey,self:{publicKey:g.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},h&&{sessionProperties:h}),f&&{scopedProperties:f}),m&&{sessionConfig:m}),{transportType:jr.relay});await this.client.session.set(E.topic,E),await this.setExpiry(E.topic,E.expiry),await this.client.core.pairing.updateMetadata({topic:g.pairingTopic,metadata:E.peer.metadata}),this.client.events.emit("session_connect",{session:E}),this.events.emit(Xt("session_connect",g.proposalId),{session:E}),this.pendingSessions.delete(g.proposalId),this.deleteProposal(g.proposalId,!1),this.cleanupDuplicatePairings(E),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),ye(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;Qo(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Xt("session_approve",i),{})):Fs(n)&&(await this.client.session.delete(r,pr("USER_DISCONNECTED")),this.events.emit(Xt("session_approve",i),{error:n.error}))}),ye(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=Kp.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:pr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Cr({topic:r},i));try{Kp.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0})}catch(u){throw Kp.delete(o),u}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),ye(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),ye(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=Xt("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Qo(n)?this.events.emit(Xt("session_update",i),{}):Fs(n)&&this.events.emit(Xt("session_update",i),{error:n.error})}),ye(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,wn(hh)),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),ye(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=Xt("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Qo(n)?this.events.emit(Xt("session_extend",i),{}):Fs(n)&&this.events.emit(Xt("session_extend",i),{error:n.error})}),ye(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),ye(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=Xt("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Qo(n)?this.events.emit(Xt("session_ping",i),{}):Fs(n)&&this.events.emit(Xt("session_ping",i),{error:n.error})},500)}),ye(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(Ln.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:pr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ye(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:u,encryptedId:l,transportType:h}=r,{id:f,params:m}=a;try{await this.isValidRequest(Cr({topic:o},m));const g=this.client.session.get(o),w=await this.getVerifyContext({attestationId:u,hash:ta(JSON.stringify(yl("wc_sessionRequest",m,f))),encryptedId:l,metadata:g.peer.metadata,transportType:h}),E={id:f,topic:o,params:m,verifyContext:w};await this.setPendingSessionRequest(E),h===jr.link_mode&&(n=g.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=g.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(E):(this.addSessionRequestToSessionRequestQueue(E),this.processSessionRequestQueue())}catch(g){await this.sendError({id:f,topic:o,error:g}),this.client.logger.error(g)}}),ye(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=Xt("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Qo(n)?this.events.emit(Xt("session_request",i),{result:n.result}):Fs(n)&&this.events.emit(Xt("session_request",i),{error:n.error})}),ye(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=Kp.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Cr({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),Kp.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),ye(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Qo(n)?this.events.emit(Xt("session_request",i),{result:n.result}):Fs(n)&&this.events.emit(Xt("session_request",i),{error:n.error})}),ye(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:u}=r;try{const{requester:l,authPayload:h,expiryTimestamp:f}=s.params,m=await this.getVerifyContext({attestationId:o,hash:ta(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:u}),g={requester:l,pairingTopic:i,id:s.id,authPayload:h,verifyContext:m,expiryTimestamp:f};await this.setAuthRequest(s.id,{request:g,pairingTopic:i,transportType:u}),u===jr.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:m})}catch(l){this.client.logger.error(l);const h=s.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),m=this.getAppLinkIfEnabled(s.params.requester.metadata,u),g={type:Xa,receiverPublicKey:h,senderPublicKey:f};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:g,rpcOpts:kn.wc_sessionAuthenticate.autoReject,appLink:m})}}),ye(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),ye(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=zo.idle,this.processSessionRequestQueue()},xe.toMiliseconds(this.requestQueueDelay))}),ye(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Xt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Xt("session_request",s.request.id),{error:n})})}),ye(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===zo.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=zo.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),ye(this,"emitSessionRequest",r=>{this.client.events.emit("session_request",r)}),ye(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:yl("wc_sessionPropose",Ni(Cr({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id)})}),ye(this,"isValidConnect",async r=>{if(!Gi(r)){const{message:l}=Ne("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(l)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:u}=r;if(Yn(n)||await this.isValidPairingTopic(n),!Bee(u)){const{message:l}=Ne("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(l)}if(!Yn(i)&&eg(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!Yn(s)&&eg(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Yn(o)||this.validateSessionProps(o,"sessionProperties"),!Yn(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(h=>l.includes(h)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),ye(this,"validateNamespaces",(r,n)=>{const i=$ee(r,"connect()",n);if(i)throw new Error(i.message)}),ye(this,"isValidApprove",async r=>{if(!Gi(r))throw new Error(Ne("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const u=this.client.proposal.get(n),l=R_(i,"approve()");if(l)throw new Error(l.message);const h=l5(u.requiredNamespaces,i,"approve()");if(h)throw new Error(h.message);if(!hn(s,!0)){const{message:f}=Ne("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}if(Yn(o)||this.validateSessionProps(o,"sessionProperties"),!Yn(a)){this.validateSessionProps(a,"scopedProperties");const f=new Set(Object.keys(i));if(!Object.keys(a).every(m=>f.has(m)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),ye(this,"isValidReject",async r=>{if(!Gi(r)){const{message:s}=Ne("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!Vee(i)){const{message:s}=Ne("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ye(this,"isValidSessionSettleRequest",r=>{if(!Gi(r)){const{message:l}=Ne("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!yk(n)){const{message:l}=Ne("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=kee(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const u=R_(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);if(rl(o)){const{message:l}=Ne("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),ye(this,"isValidUpdate",async r=>{if(!Gi(r)){const{message:u}=Ne("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(u)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=R_(i,"update()");if(o)throw new Error(o.message);const a=l5(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),ye(this,"isValidExtend",async r=>{if(!Gi(r)){const{message:i}=Ne("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),ye(this,"isValidRequest",async r=>{if(!Gi(r)){const{message:u}=Ne("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(u)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!c5(a,s)){const{message:u}=Ne("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(u)}if(!qee(i)){const{message:u}=Ne("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(u)}if(!Wee(a,s,i.method)){const{message:u}=Ne("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(u)}if(o&&!Yee(o,$_)){const{message:u}=Ne("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${$_.min} and ${$_.max}`);throw new Error(u)}}),ye(this,"isValidRespond",async r=>{var n;if(!Gi(r)){const{message:o}=Ne("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!zee(s)){const{message:o}=Ne("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),ye(this,"isValidPing",async r=>{if(!Gi(r)){const{message:i}=Ne("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ye(this,"isValidEmit",async r=>{if(!Gi(r)){const{message:a}=Ne("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!c5(o,s)){const{message:a}=Ne("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!Hee(i)){const{message:a}=Ne("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!Kee(o,s,i.name)){const{message:a}=Ne("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),ye(this,"isValidDisconnect",async r=>{if(!Gi(r)){const{message:i}=Ne("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ye(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!hn(i,!1))throw new Error("uri is required parameter");if(!hn(s,!1))throw new Error("domain is required parameter");if(!hn(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(u=>jh(u).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=jh(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ye(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,u={verified:{verifyUrl:o.verifyUrl||vm,validation:"UNKNOWN",origin:o.url||""}};try{if(a===jr.link_mode){const h=this.getAppLinkIfEnabled(o,a);return u.verified.validation=h&&new URL(h).origin===new URL(o.url).origin?"VALID":"INVALID",u}const l=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(u.verified.origin=l.origin,u.verified.isScam=l.isScam,u.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(u)}`),u}),ye(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=Ne("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),ye(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),ye(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),ye(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=Ne("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),ye(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,u,l,h,f,m;return!r||n!==jr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(u=this.client.metadata)==null?void 0:u.redirect)==null?void 0:l.universal)!==""&&((h=r==null?void 0:r.redirect)==null?void 0:h.universal)!==void 0&&((f=r==null?void 0:r.redirect)==null?void 0:f.universal)!==""&&((m=r==null?void 0:r.redirect)==null?void 0:m.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ye(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r==null?void 0:r.redirect)==null?void 0:i.universal:void 0}),ye(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=PP(r,"topic")||"",i=decodeURIComponent(PP(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:jr.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),ye(this,"registerLinkModeListeners",async()=>{var r;if(TS()||Hl()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ye(this,"shouldSetTVF",(r,n)=>{if(!n||r!=="wc_sessionRequest")return!1;const{request:i}=n;return Object.keys(W5).includes(i.method)}),ye(this,"getTVFParams",(r,n,i)=>{var s,o;try{const a=n.request.method,u=this.extractTxHashesFromResult(a,i);return Ni(Cr({correlationId:r,rpcMethods:[a],chainId:n.chainId},this.isValidContractData(n.request.params)&&{contractAddresses:[(o=(s=n.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:u})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),ye(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=(r==null?void 0:r.data)||((n=r==null?void 0:r[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ye(this,"extractTxHashesFromResult",(r,n)=>{try{const i=W5[r];if(typeof n=="string")return[n];const s=n[i.key];if(ad(s))return r==="solana_signAllTransactions"?s.map(o=>KZ(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Ne("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Ln.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(wv)?this.client.auth.authKeys.get(wv):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===jr.link_mode?Wp:gl});US(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:ta(n)})):ob(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Ms.expired,async e=>{const{topic:r,id:n}=H9(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Ne("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,Ne("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Su.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Su.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!hn(e,!1)){const{message:r}=Ne("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=Ne("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(rl(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=Ne("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!hn(e,!1)){const{message:r}=Ne("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=Ne("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(rl(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=Ne("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=Ne("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(hn(e,!1)){const{message:r}=Ne("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=Ne("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!jee(e)){const{message:r}=Ne("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=Ne("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(rl(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=Ne("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class Hse extends _d{constructor(e,r){super(e,r,Nse,FS),this.core=e,this.logger=r}}let Wse=class extends _d{constructor(e,r){super(e,r,Pse,FS),this.core=e,this.logger=r}};class Kse extends _d{constructor(e,r){super(e,r,Ose,FS,n=>n.id),this.core=e,this.logger=r}}class Gse extends _d{constructor(e,r){super(e,r,Lse,cb,()=>wv),this.core=e,this.logger=r}}class Qse extends _d{constructor(e,r){super(e,r,Use,cb),this.core=e,this.logger=r}}class Yse extends _d{constructor(e,r){super(e,r,Fse,cb,n=>n.id),this.core=e,this.logger=r}}var Jse=Object.defineProperty,Zse=(t,e,r)=>e in t?Jse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,B_=(t,e,r)=>Zse(t,typeof e!="symbol"?e+"":e,r);class Xse{constructor(e,r){this.core=e,this.logger=r,B_(this,"authKeys"),B_(this,"pairingTopics"),B_(this,"requests"),this.authKeys=new Gse(this.core,this.logger),this.pairingTopics=new Qse(this.core,this.logger),this.requests=new Yse(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var eoe=Object.defineProperty,toe=(t,e,r)=>e in t?eoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xt=(t,e,r)=>toe(t,typeof e!="symbol"?e+"":e,r);let roe=class qk extends oK{constructor(e){super(e),xt(this,"protocol",Bk),xt(this,"version",jk),xt(this,"name",F_.name),xt(this,"metadata"),xt(this,"core"),xt(this,"logger"),xt(this,"events",new Vs.EventEmitter),xt(this,"engine"),xt(this,"session"),xt(this,"proposal"),xt(this,"pendingRequest"),xt(this,"auth"),xt(this,"signConfig"),xt(this,"on",(n,i)=>this.events.on(n,i)),xt(this,"once",(n,i)=>this.events.once(n,i)),xt(this,"off",(n,i)=>this.events.off(n,i)),xt(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),xt(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),xt(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),xt(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),xt(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||F_.name,this.metadata=(e==null?void 0:e.metadata)||V9(),this.signConfig=e==null?void 0:e.signConfig;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Hg(qf({level:(e==null?void 0:e.logger)||F_.logger}));this.core=(e==null?void 0:e.core)||new xse(e),this.logger=Ei(r,this.name),this.session=new Wse(this.core,this.logger),this.proposal=new Hse(this.core,this.logger),this.pendingRequest=new Kse(this.core,this.logger),this.engine=new zse(this),this.auth=new Xse(this.core,this.logger)}static async init(e){const r=new qk(e);return await r.initialize(),r}get context(){return is(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},xe.toMiliseconds(xe.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var qy={exports:{}},G5;function noe(){return G5||(G5=1,function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ea<"u"&&ea,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof ea<"u"&&ea||{},u={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(I){return I&&DataView.prototype.isPrototypeOf(I)}if(u.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(I){return I&&h.indexOf(Object.prototype.toString.call(I))>-1};function m(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(I)||I==="")throw new TypeError('Invalid character in header field name: "'+I+'"');return I.toLowerCase()}function g(I){return typeof I!="string"&&(I=String(I)),I}function w(I){var P={next:function(){var M=I.shift();return{done:M===void 0,value:M}}};return u.iterable&&(P[Symbol.iterator]=function(){return P}),P}function E(I){this.map={},I instanceof E?I.forEach(function(P,M){this.append(M,P)},this):Array.isArray(I)?I.forEach(function(P){if(P.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+P.length);this.append(P[0],P[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(P){this.append(P,I[P])},this)}E.prototype.append=function(I,P){I=m(I),P=g(P);var M=this.map[I];this.map[I]=M?M+", "+P:P},E.prototype.delete=function(I){delete this.map[m(I)]},E.prototype.get=function(I){return I=m(I),this.has(I)?this.map[I]:null},E.prototype.has=function(I){return this.map.hasOwnProperty(m(I))},E.prototype.set=function(I,P){this.map[m(I)]=g(P)},E.prototype.forEach=function(I,P){for(var M in this.map)this.map.hasOwnProperty(M)&&I.call(P,this.map[M],M,this)},E.prototype.keys=function(){var I=[];return this.forEach(function(P,M){I.push(M)}),w(I)},E.prototype.values=function(){var I=[];return this.forEach(function(P){I.push(P)}),w(I)},E.prototype.entries=function(){var I=[];return this.forEach(function(P,M){I.push([M,P])}),w(I)},u.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function C(I){if(!I._noBody){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}}function N(I){return new Promise(function(P,M){I.onload=function(){P(I.result)},I.onerror=function(){M(I.error)}})}function D(I){var P=new FileReader,M=N(P);return P.readAsArrayBuffer(I),M}function F(I){var P=new FileReader,M=N(P),z=/charset=([A-Za-z0-9_-]+)/.exec(I.type),B=z?z[1]:"utf-8";return P.readAsText(I,B),M}function V(I){for(var P=new Uint8Array(I),M=new Array(P.length),z=0;z<P.length;z++)M[z]=String.fromCharCode(P[z]);return M.join("")}function q(I){if(I.slice)return I.slice(0);var P=new Uint8Array(I.byteLength);return P.set(new Uint8Array(I)),P.buffer}function j(){return this.bodyUsed=!1,this._initBody=function(I){this.bodyUsed=this.bodyUsed,this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:u.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:u.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():u.arrayBuffer&&u.blob&&l(I)?(this._bodyArrayBuffer=q(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||f(I))?this._bodyArrayBuffer=q(I):this._bodyText=I=Object.prototype.toString.call(I):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var I=C(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var I=C(this);return I||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(u.blob)return this.blob().then(D);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var I=C(this);if(I)return I;if(this._bodyBlob)return F(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(V(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var U=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function $(I){var P=I.toUpperCase();return U.indexOf(P)>-1?P:I}function k(I,P){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');P=P||{};var M=P.body;if(I instanceof k){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,P.headers||(this.headers=new E(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!M&&I._bodyInit!=null&&(M=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=P.credentials||this.credentials||"same-origin",(P.headers||!this.headers)&&(this.headers=new E(P.headers)),this.method=$(P.method||this.method||"GET"),this.mode=P.mode||this.mode||null,this.signal=P.signal||this.signal||function(){if("AbortController"in a){var A=new AbortController;return A.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&M)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(M),(this.method==="GET"||this.method==="HEAD")&&(P.cache==="no-store"||P.cache==="no-cache")){var z=/([?&])_=[^&]*/;if(z.test(this.url))this.url=this.url.replace(z,"$1_="+new Date().getTime());else{var B=/\?/;this.url+=(B.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})};function W(I){var P=new FormData;return I.trim().split("&").forEach(function(M){if(M){var z=M.split("="),B=z.shift().replace(/\+/g," "),A=z.join("=").replace(/\+/g," ");P.append(decodeURIComponent(B),decodeURIComponent(A))}}),P}function x(I){var P=new E,M=I.replace(/\r?\n[\t ]+/g," ");return M.split("\r").map(function(z){return z.indexOf(`
`)===0?z.substr(1,z.length):z}).forEach(function(z){var B=z.split(":"),A=B.shift().trim();if(A){var L=B.join(":").trim();try{P.append(A,L)}catch(J){console.warn("Response "+J.message)}}}),P}j.call(k.prototype);function v(I,P){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(P||(P={}),this.type="default",this.status=P.status===void 0?200:P.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=P.statusText===void 0?"":""+P.statusText,this.headers=new E(P.headers),this.url=P.url||"",this._initBody(I)}j.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},v.error=function(){var I=new v(null,{status:200,statusText:""});return I.ok=!1,I.status=0,I.type="error",I};var _=[301,302,303,307,308];v.redirect=function(I,P){if(_.indexOf(P)===-1)throw new RangeError("Invalid status code");return new v(null,{status:P,headers:{location:I}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(P,M){this.message=P,this.name=M;var z=Error(P);this.stack=z.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function T(I,P){return new Promise(function(M,z){var B=new k(I,P);if(B.signal&&B.signal.aborted)return z(new o.DOMException("Aborted","AbortError"));var A=new XMLHttpRequest;function L(){A.abort()}A.onload=function(){var ie={statusText:A.statusText,headers:x(A.getAllResponseHeaders()||"")};B.url.indexOf("file://")===0&&(A.status<200||A.status>599)?ie.status=200:ie.status=A.status,ie.url="responseURL"in A?A.responseURL:ie.headers.get("X-Request-URL");var de="response"in A?A.response:A.responseText;setTimeout(function(){M(new v(de,ie))},0)},A.onerror=function(){setTimeout(function(){z(new TypeError("Network request failed"))},0)},A.ontimeout=function(){setTimeout(function(){z(new TypeError("Network request timed out"))},0)},A.onabort=function(){setTimeout(function(){z(new o.DOMException("Aborted","AbortError"))},0)};function J(ie){try{return ie===""&&a.location.href?a.location.href:ie}catch{return ie}}if(A.open(B.method,J(B.url),!0),B.credentials==="include"?A.withCredentials=!0:B.credentials==="omit"&&(A.withCredentials=!1),"responseType"in A&&(u.blob?A.responseType="blob":u.arrayBuffer&&(A.responseType="arraybuffer")),P&&typeof P.headers=="object"&&!(P.headers instanceof E||a.Headers&&P.headers instanceof a.Headers)){var re=[];Object.getOwnPropertyNames(P.headers).forEach(function(ie){re.push(m(ie)),A.setRequestHeader(ie,g(P.headers[ie]))}),B.headers.forEach(function(ie,de){re.indexOf(de)===-1&&A.setRequestHeader(de,ie)})}else B.headers.forEach(function(ie,de){A.setRequestHeader(de,ie)});B.signal&&(B.signal.addEventListener("abort",L),A.onreadystatechange=function(){A.readyState===4&&B.signal.removeEventListener("abort",L)}),A.send(typeof B._bodyInit>"u"?null:B._bodyInit)})}return T.polyfill=!0,a.fetch||(a.fetch=T,a.Headers=E,a.Request=k,a.Response=v),o.Headers=E,o.Request=k,o.Response=v,o.fetch=T,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(qy,qy.exports)),qy.exports}var ioe=noe();const Q5=pd(ioe);var soe=Object.defineProperty,ooe=Object.defineProperties,aoe=Object.getOwnPropertyDescriptors,Y5=Object.getOwnPropertySymbols,coe=Object.prototype.hasOwnProperty,loe=Object.prototype.propertyIsEnumerable,J5=(t,e,r)=>e in t?soe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Z5=(t,e)=>{for(var r in e||(e={}))coe.call(e,r)&&J5(t,r,e[r]);if(Y5)for(var r of Y5(e))loe.call(e,r)&&J5(t,r,e[r]);return t},X5=(t,e)=>ooe(t,aoe(e));const uoe={Accept:"application/json","Content-Type":"application/json"},doe="POST",e6={headers:uoe,method:doe},t6=10;let Ao=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new Vs.EventEmitter,this.isAvailable=!1,this.registering=!1,!g5(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=oc(e),n=await(await Q5(this.url,X5(Z5({},e6),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!g5(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=oc({id:1,jsonrpc:"2.0",method:"test",params:[]});await Q5(e,X5(Z5({},e6),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?rd(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=sb(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return bk(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>t6&&this.events.setMaxListeners(t6)}};const r6="error",hoe="wss://relay.walletconnect.org",foe="wc",poe="universal_provider",zy=`${foe}@2:${poe}:`,zk="https://rpc.walletconnect.org/v1/",Th="generic",moe=`${zk}bundler`,Hs={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function goe(){}function $S(t){return t==null||typeof t!="object"&&typeof t!="function"}function BS(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yoe(t){if($S(t))return t;if(Array.isArray(t)||BS(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function n6(t){return typeof t=="object"&&t!==null}function Hk(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Wk(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const voe="[object RegExp]",Kk="[object String]",Gk="[object Number]",Qk="[object Boolean]",Yk="[object Arguments]",woe="[object Symbol]",boe="[object Date]",Eoe="[object Map]",_oe="[object Set]",Aoe="[object Array]",Coe="[object ArrayBuffer]",Soe="[object Object]",Ioe="[object DataView]",Toe="[object Uint8Array]",xoe="[object Uint8ClampedArray]",Noe="[object Uint16Array]",Poe="[object Uint32Array]",Roe="[object Int8Array]",Ooe="[object Int16Array]",koe="[object Int32Array]",Doe="[object Float32Array]",Moe="[object Float64Array]";function Loe(t,e){return Lh(t,void 0,t,new Map,e)}function Lh(t,e,r,n=new Map,i=void 0){const s=i==null?void 0:i(t,e,r,n);if(s!=null)return s;if($S(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Lh(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,u]of t)o.set(a,Lh(u,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(Lh(a,void 0,r,n,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(BS(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Lh(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),Iu(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),Iu(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),Iu(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Iu(o,t,r,n,i),o}if(typeof t=="object"&&Uoe(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Iu(o,t,r,n,i),o}return t}function Iu(t,e,r=t,n,i){const s=[...Object.keys(e),...Hk(e)];for(let o=0;o<s.length;o++){const a=s[o],u=Object.getOwnPropertyDescriptor(t,a);(u==null||u.writable)&&(t[a]=Lh(e[a],a,r,n,i))}}function Uoe(t){switch(Wk(t)){case Yk:case Aoe:case Coe:case Ioe:case Qk:case boe:case Doe:case Moe:case Roe:case Ooe:case koe:case Eoe:case Gk:case Soe:case voe:case _oe:case Kk:case woe:case Toe:case xoe:case Noe:case Poe:return!0;default:return!1}}function Foe(t,e){return Loe(t,(r,n,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case Gk:case Kk:case Qk:{const o=new t.constructor(t==null?void 0:t.valueOf());return Iu(o,t),o}case Yk:{const o={};return Iu(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function i6(t){return Foe(t)}function s6(t){return t!==null&&typeof t=="object"&&Wk(t)==="[object Arguments]"}function $oe(t){return BS(t)}function Boe(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function joe(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=j2(i,o,n,new Map)}return i}function j2(t,e,r,n){if($S(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return yoe(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...Hk(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],u=t[o];if(s6(a)&&(a={...a}),s6(u)&&(u={...u}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=i6(a)),Array.isArray(a))if(typeof u=="object"&&u!=null){const h=[],f=Reflect.ownKeys(u);for(let m=0;m<f.length;m++){const g=f[m];h[g]=u[g]}u=h}else u=[];const l=r(u,a,o,t,e,n);l!=null?t[o]=l:Array.isArray(a)||n6(u)&&n6(a)?t[o]=j2(u,a,r,n):u==null&&Boe(a)?t[o]=j2({},a,r,n):u==null&&$oe(a)?t[o]=i6(a):(u===void 0||a!==void 0)&&(t[o]=a)}return t}function Voe(t,...e){return joe(t,...e,goe)}var qoe=Object.defineProperty,zoe=Object.defineProperties,Hoe=Object.getOwnPropertyDescriptors,o6=Object.getOwnPropertySymbols,Woe=Object.prototype.hasOwnProperty,Koe=Object.prototype.propertyIsEnumerable,a6=(t,e,r)=>e in t?qoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Hy=(t,e)=>{for(var r in e||(e={}))Woe.call(e,r)&&a6(t,r,e[r]);if(o6)for(var r of o6(e))Koe.call(e,r)&&a6(t,r,e[r]);return t},Goe=(t,e)=>zoe(t,Hoe(e));function bs(t,e,r){var n;const i=jh(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${zk}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function Ad(t){return t.includes(":")?t.split(":")[1]:t}function Jk(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Qoe(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function j_(t={},e={}){const r=c6(t),n=c6(e);return Voe(r,n)}function c6(t){var e,r,n,i;const s={};if(!eg(t))return s;for(const[o,a]of Object.entries(t)){const u=DS(o)?[o]:a.chains,l=a.methods||[],h=a.events||[],f=a.rpcMap||{},m=am(o);s[m]=Goe(Hy(Hy({},s[m]),a),{chains:mv(u,(e=s[m])==null?void 0:e.chains),methods:mv(l,(r=s[m])==null?void 0:r.methods),events:mv(h,(n=s[m])==null?void 0:n.events),rpcMap:Hy(Hy({},f),(i=s[m])==null?void 0:i.rpcMap)})}return s}function Yoe(t){return t.includes(":")?t.split(":")[2]:t}function l6(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=DS(r)?[r]:n.chains?n.chains:Jk(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function V_(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const Zk={},Wt=t=>Zk[t],q_=(t,e)=>{Zk[t]=e};var Joe=Object.defineProperty,Zoe=(t,e,r)=>e in t?Joe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fh=(t,e,r)=>Zoe(t,typeof e!="symbol"?e+"":e,r);class Xoe{constructor(e){fh(this,"name","polkadot"),fh(this,"client"),fh(this,"httpProviders"),fh(this,"events"),fh(this,"namespace"),fh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Ad(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||bs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new zs(new Ao(n,Wt("disableProviderPing")))}}var eae=Object.defineProperty,tae=Object.defineProperties,rae=Object.getOwnPropertyDescriptors,u6=Object.getOwnPropertySymbols,nae=Object.prototype.hasOwnProperty,iae=Object.prototype.propertyIsEnumerable,V2=(t,e,r)=>e in t?eae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,d6=(t,e)=>{for(var r in e||(e={}))nae.call(e,r)&&V2(t,r,e[r]);if(u6)for(var r of u6(e))iae.call(e,r)&&V2(t,r,e[r]);return t},h6=(t,e)=>tae(t,rae(e)),ph=(t,e,r)=>V2(t,typeof e!="symbol"?e+"":e,r);class sae{constructor(e){ph(this,"name","eip155"),ph(this,"client"),ph(this,"chainId"),ph(this,"namespace"),ph(this,"httpProviders"),ph(this,"events"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(Hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||bs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new zs(new Ao(n,Wt("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(Ad(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i;const s=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),a=((i=o==null?void 0:o.sessionProperties)==null?void 0:i.capabilities)||{};if(a!=null&&a[s])return a==null?void 0:a[s];const u=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:h6(d6({},o.sessionProperties||{}),{capabilities:h6(d6({},a||{}),{[s]:u})})})}catch(l){console.warn("Failed to update session with capabilities",l)}return u}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(u){console.warn("Failed to fetch call status from bundler",u,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(yl("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${moe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var oae=Object.defineProperty,aae=(t,e,r)=>e in t?oae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mh=(t,e,r)=>aae(t,typeof e!="symbol"?e+"":e,r);class cae{constructor(e){mh(this,"name","solana"),mh(this,"client"),mh(this,"httpProviders"),mh(this,"events"),mh(this,"namespace"),mh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Ad(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||bs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new zs(new Ao(n,Wt("disableProviderPing")))}}var lae=Object.defineProperty,uae=(t,e,r)=>e in t?lae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gh=(t,e,r)=>uae(t,typeof e!="symbol"?e+"":e,r);class dae{constructor(e){gh(this,"name","cosmos"),gh(this,"client"),gh(this,"httpProviders"),gh(this,"events"),gh(this,"namespace"),gh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Ad(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||bs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new zs(new Ao(n,Wt("disableProviderPing")))}}var hae=Object.defineProperty,fae=(t,e,r)=>e in t?hae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yh=(t,e,r)=>fae(t,typeof e!="symbol"?e+"":e,r);class pae{constructor(e){yh(this,"name","algorand"),yh(this,"client"),yh(this,"httpProviders"),yh(this,"events"),yh(this,"namespace"),yh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||bs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||bs(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new zs(new Ao(n,Wt("disableProviderPing")))}}var mae=Object.defineProperty,gae=(t,e,r)=>e in t?mae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vh=(t,e,r)=>gae(t,typeof e!="symbol"?e+"":e,r);class yae{constructor(e){vh(this,"name","cip34"),vh(this,"client"),vh(this,"httpProviders"),vh(this,"events"),vh(this,"namespace"),vh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=Ad(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new zs(new Ao(n,Wt("disableProviderPing")))}}var vae=Object.defineProperty,wae=(t,e,r)=>e in t?vae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wh=(t,e,r)=>wae(t,typeof e!="symbol"?e+"":e,r);class bae{constructor(e){wh(this,"name","elrond"),wh(this,"client"),wh(this,"httpProviders"),wh(this,"events"),wh(this,"namespace"),wh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Ad(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||bs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new zs(new Ao(n,Wt("disableProviderPing")))}}var Eae=Object.defineProperty,_ae=(t,e,r)=>e in t?Eae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bh=(t,e,r)=>_ae(t,typeof e!="symbol"?e+"":e,r);class Aae{constructor(e){bh(this,"name","multiversx"),bh(this,"client"),bh(this,"httpProviders"),bh(this,"events"),bh(this,"namespace"),bh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Ad(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||bs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new zs(new Ao(n,Wt("disableProviderPing")))}}var Cae=Object.defineProperty,Sae=(t,e,r)=>e in t?Cae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Eh=(t,e,r)=>Sae(t,typeof e!="symbol"?e+"":e,r);class Iae{constructor(e){Eh(this,"name","near"),Eh(this,"client"),Eh(this,"httpProviders"),Eh(this,"events"),Eh(this,"namespace"),Eh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||bs(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||bs(e,this.namespace);return typeof n>"u"?void 0:new zs(new Ao(n,Wt("disableProviderPing")))}}var Tae=Object.defineProperty,xae=(t,e,r)=>e in t?Tae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_h=(t,e,r)=>xae(t,typeof e!="symbol"?e+"":e,r);class Nae{constructor(e){_h(this,"name","tezos"),_h(this,"client"),_h(this,"httpProviders"),_h(this,"events"),_h(this,"namespace"),_h(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||bs(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||bs(e,this.namespace);return typeof n>"u"?void 0:new zs(new Ao(n))}}var Pae=Object.defineProperty,Rae=(t,e,r)=>e in t?Pae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ah=(t,e,r)=>Rae(t,typeof e!="symbol"?e+"":e,r);let Oae=class{constructor(e){Ah(this,"name",Th),Ah(this,"client"),Ah(this,"httpProviders"),Ah(this,"events"),Ah(this,"namespace"),Ah(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Hs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=jh(i);n[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||bs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new zs(new Ao(n,Wt("disableProviderPing")))}};var kae=Object.defineProperty,Dae=Object.defineProperties,Mae=Object.getOwnPropertyDescriptors,f6=Object.getOwnPropertySymbols,Lae=Object.prototype.hasOwnProperty,Uae=Object.prototype.propertyIsEnumerable,q2=(t,e,r)=>e in t?kae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Wy=(t,e)=>{for(var r in e||(e={}))Lae.call(e,r)&&q2(t,r,e[r]);if(f6)for(var r of f6(e))Uae.call(e,r)&&q2(t,r,e[r]);return t},z_=(t,e)=>Dae(t,Mae(e)),Rs=(t,e,r)=>q2(t,typeof e!="symbol"?e+"":e,r);let Fae=class Xk{constructor(e){Rs(this,"client"),Rs(this,"namespaces"),Rs(this,"optionalNamespaces"),Rs(this,"sessionProperties"),Rs(this,"scopedProperties"),Rs(this,"events",new mS),Rs(this,"rpcProviders",{}),Rs(this,"session"),Rs(this,"providerOpts"),Rs(this,"logger"),Rs(this,"uri"),Rs(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Hg(qf({level:(e==null?void 0:e.logger)||r6})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new Xk(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Wy({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,ib(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:pr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=l6(this.session.namespaces);this.namespaces=j_(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=l6(i.namespaces);return this.namespaces=j_(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e),s=this.getProvider(n);s.name===Th?s.setDefaultChain(`${n}:${i}`,r):s.setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(ad(r)){for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await roe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||r6,relayUrl:this.providerOpts.relayUrl||hoe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>am(r)))];q_("client",this.client),q_("events",this.events),q_("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=Qoe(r,this.session),i=Jk(n),s=j_(this.namespaces,this.optionalNamespaces),o=z_(Wy({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new sae({namespace:o});break;case"algorand":this.rpcProviders[r]=new pae({namespace:o});break;case"solana":this.rpcProviders[r]=new cae({namespace:o});break;case"cosmos":this.rpcProviders[r]=new dae({namespace:o});break;case"polkadot":this.rpcProviders[r]=new Xoe({namespace:o});break;case"cip34":this.rpcProviders[r]=new yae({namespace:o});break;case"elrond":this.rpcProviders[r]=new bae({namespace:o});break;case"multiversx":this.rpcProviders[r]=new Aae({namespace:o});break;case"near":this.rpcProviders[r]=new Iae({namespace:o});break;case"tezos":this.rpcProviders[r]=new Nae({namespace:o});break;default:this.rpcProviders[Th]?this.rpcProviders[Th].updateNamespace(o):this.rpcProviders[Th]=new Oae({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&ad(o)&&this.events.emit("accountsChanged",o.map(Yoe))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,u=am(o),l=V_(o)!==V_(a)?`${u}:${V_(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=z_(Wy({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",z_(Wy({},pr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Hs.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Th]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r,optionalNamespaces:n,sessionProperties:i,scopedProperties:s}=e;r&&Object.keys(r).length&&(this.namespaces=r),n&&Object.keys(n).length&&(this.optionalNamespaces=n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>am(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=am(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);i&&(r||this.getProvider(n).setDefaultChain(i),this.namespaces[n]?this.namespaces[n].defaultChain=i:this.namespaces[`${n}:${i}`]?this.namespaces[`${n}:${i}`].defaultChain=i:this.namespaces[`${n}:${i}`]={defaultChain:i},this.events.emit("chainChanged",i),await this.persist("namespaces",this.namespaces))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${zy}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${zy}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${zy}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(zy)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}};var gf={};const $ae="https://secure.walletconnect.org/sdk",Bae=(typeof process<"u"&&typeof gf<"u"?gf.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||$ae,jae=(typeof process<"u"&&typeof gf<"u"?gf.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",Vae=(typeof process<"u"&&typeof gf<"u"?gf.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Ve={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},fn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Eu=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),vn=Kr({...Eu}),Jn={state:vn,subscribeKey(t,e){return ns(vn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=it.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){vn.message=Eu.message,vn.variant=Eu.variant,vn.svg=Eu.svg,vn.open=Eu.open,vn.autoClose=Eu.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:n=Eu.autoClose}){vn.open?(vn.open=!1,setTimeout(()=>{vn.message=t,vn.variant=r,vn.svg=e,vn.open=!0,vn.autoClose=n},150)):(vn.message=t,vn.variant=r,vn.svg=e,vn.open=!0,vn.autoClose=n)}},bm={getSIWX(){return _e.state.siwx},async initializeIfEnabled(){var s;const t=_e.state.siwx,e=ee.getActiveCaipAddress();if(!(t&&e))return;const[r,n,i]=e.split(":");if(ee.checkIfSupportedNetwork(r))try{if((await t.getSessions(`${r}:${n}`,i)).length)return;await pn.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),Ir.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((s=Sr._getClient())==null?void 0:s.disconnect().catch(console.error)),sr.reset("Connect"),Jn.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=_e.state.siwx,e=it.getPlainAddress(ee.getActiveCaipAddress()),r=ee.getActiveCaipNetwork(),n=Sr._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!n)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),s=i.toString();lt.getConnectorId(r.chainNamespace)===Ee.CONNECTOR_ID.AUTH&&sr.pushTransactionStack({view:null,goBack:!1,replace:!0});const a=await n.signMessage(s);await t.addSession({data:i,message:s,signature:a}),pn.close(),Ir.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!pn.state.open||sr.state.view==="ApproveTransaction")&&await pn.open({view:"SIWXSignMessage"}),s.isSmartAccount?Jn.showError("This application might not support Smart Accounts"):Jn.showError("Signature declined"),Ir.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await Sr.disconnect():pn.close(),sr.reset("Connect"),Ir.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=_e.state.siwx,e=it.getPlainAddress(ee.getActiveCaipAddress()),r=ee.getActiveCaipNetwork();return t&&e&&r?t.getSessions(r.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const r=sr.state.view==="ApproveTransaction",n=sr.state.view==="SIWXSignMessage";if(r||n)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){var a,u,l;const n=bm.getSIWX(),i=new Set(e.map(h=>h.split(":")[0]));if(!n||i.size!==1||!i.has("eip155"))return!1;const s=await n.createMessage({chainId:((a=ee.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:r,chains:[s.chainId,...e.filter(h=>h!==s.chainId)]});if(Jn.showLoading("Authenticating...",{autoClose:!1}),We.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(u=o.session.peer.metadata.icons)==null?void 0:u[0],type:"WALLET_CONNECT"},Array.from(i)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const h=o.auths.map(f=>{const m=t.client.formatAuthMessage({request:f.p,iss:f.p.iss});return{data:{...f.p,accountAddress:f.p.iss.split(":").slice(-1).join(""),chainId:f.p.iss.split(":").slice(2,4).join(":"),uri:f.p.aud,version:f.p.version||s.version,expirationTime:f.p.exp,issuedAt:f.p.iat,notBefore:f.p.nbf},message:m,signature:f.s.s,cacao:f}});try{await n.setSessions(h),Ir.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:bm.getSIWXEventProperties()})}catch(f){throw console.error("SIWX:universalProviderAuth - failed to set sessions",f),Ir.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:bm.getSIWXEventProperties()}),await t.disconnect().catch(console.error),f}finally{Jn.hide()}}return!0},getSIWXEventProperties(){var t;return{network:((t=ee.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)||"",isSmartAccount:We.state.preferredAccountType===fn.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},Lr=Kr({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),qae={state:Lr,subscribe(t){return wi(Lr,()=>t(Lr))},setLastNetworkInView(t){Lr.lastNetworkInView=t},async fetchTransactions(t,e){var r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Lr.loading=!0;try{const n=await tt.fetchTransactions({account:t,cursor:Lr.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(r=ee.state.activeCaipNetwork)==null?void 0:r.caipNetworkId}),i=this.filterSpamTransactions(n.data),s=this.filterByConnectedChain(i),o=[...Lr.transactions,...s];Lr.loading=!1,e==="coinbase"?Lr.coinbaseTransactions=this.groupTransactionsByYearAndMonth(Lr.coinbaseTransactions,n.data):(Lr.transactions=o,Lr.transactionsByYear=this.groupTransactionsByYearAndMonth(Lr.transactionsByYear,s)),Lr.empty=o.length===0,Lr.next=n.next?n.next:void 0}catch{Ir.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:_e.state.projectId,cursor:Lr.next,isSmartAccount:We.state.preferredAccountType===fn.ACCOUNT_TYPES.SMART_ACCOUNT}}),Jn.showError("Failed to fetch transactions"),Lr.loading=!1,Lr.empty=!0,Lr.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(n=>{const i=new Date(n.metadata.minedAt).getFullYear(),s=new Date(n.metadata.minedAt).getMonth(),o=r[i]??{},u=(o[s]??[]).filter(l=>l.id!==n.id);r[i]={...o,[s]:[...u,n].sort((l,h)=>new Date(h.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(n=>{var i;return((i=n.nft_info)==null?void 0:i.flags.is_spam)===!0}))},filterByConnectedChain(t){var n;const e=(n=ee.state.activeCaipNetwork)==null?void 0:n.caipNetworkId;return t.filter(i=>i.metadata.chain===e)},clearCursor(){Lr.next=void 0},resetTransactions(){Lr.transactions=[],Lr.transactionsByYear={},Lr.lastNetworkInView=void 0,Lr.loading=!1,Lr.empty=!1,Lr.next=void 0}},Ur=Kr({wcError:!1,buffering:!1,status:"disconnected"});let Ch;const Sr={state:Ur,subscribeKey(t,e){return ns(Ur,t,e)},_getClient(){return Ur._client},setClient(t){Ur._client=td(t)},async connectWalletConnect(){var t,e,r,n;if(it.isTelegram()||it.isSafari()&&it.isIos()){if(Ch){await Ch,Ch=void 0;return}if(!it.isPairingExpired(Ur==null?void 0:Ur.wcPairingExpiry)){const i=Ur.wcUri;Ur.wcUri=i;return}Ch=(e=(t=this._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),this.state.status="connecting",await Ch,Ch=void 0,Ur.wcPairingExpiry=void 0,this.state.status="connected"}else await((n=(r=this._getClient())==null?void 0:r.connectWalletConnect)==null?void 0:n.call(r))},async connectExternal(t,e,r=!0){var n,i;await((i=(n=this._getClient())==null?void 0:n.connectExternal)==null?void 0:i.call(n,t)),r&&ee.setActiveNamespace(e)},async reconnectExternal(t){var r,n;await((n=(r=this._getClient())==null?void 0:r.reconnectExternal)==null?void 0:n.call(r,t));const e=t.chain||ee.state.activeChain;e&&lt.setConnectorId(t.id,e)},async setPreferredAccountType(t){var r;pn.setLoading(!0,ee.state.activeChain);const e=lt.getAuthConnector();e&&(await(e==null?void 0:e.provider.setPreferredAccount(t)),await this.reconnectExternal(e),pn.setLoading(!1,ee.state.activeChain),Ir.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=ee.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=this._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var r;return(r=this._getClient())==null?void 0:r.parseUnits(t,e)},formatUnits(t,e){var r;return(r=this._getClient())==null?void 0:r.formatUnits(t,e)},async sendTransaction(t){var e;return(e=this._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=this._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=this._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=this._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=this._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=this._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,r;return((r=(e=this._getClient())==null?void 0:e.checkInstalled)==null?void 0:r.call(e,t))||!1},resetWcConnection(){Ur.wcUri=void 0,Ur.wcPairingExpiry=void 0,Ur.wcLinking=void 0,Ur.recentWallet=void 0,Ur.status="disconnected",qae.resetTransactions(),Be.deleteWalletConnectDeepLink()},resetUri(){Ur.wcUri=void 0,Ur.wcPairingExpiry=void 0},finalizeWcConnection(){var r,n;const{wcLinking:t,recentWallet:e}=Sr.state;t&&Be.setWalletConnectDeepLink(t),e&&Be.setAppKitRecent(e),Ir.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((n=(r=sr.state.data)==null?void 0:r.wallet)==null?void 0:n.name)||"Unknown"}})},setWcBasic(t){Ur.wcBasic=t},setUri(t){Ur.wcUri=t,Ur.wcPairingExpiry=it.getPairingExpiry()},setWcLinking(t){Ur.wcLinking=t},setWcError(t){Ur.wcError=t,Ur.buffering=!1},setRecentWallet(t){Ur.recentWallet=t},setBuffering(t){Ur.buffering=t},setStatus(t){Ur.status=t},async disconnect(t){try{pn.setLoading(!0,t),await bm.clearSessions(),await ee.disconnect(t),pn.setLoading(!1,t),lt.setFilterByNamespace(void 0)}catch{throw new Error("Failed to disconnect")}}},Zp=Kr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),ec={state:Zp,subscribe(t){return wi(Zp,()=>t(Zp))},set(t){Object.assign(Zp,{...Zp,...t})}},H_={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return Mf(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},p6={async getMyTokensWithBalance(t){const e=We.state.address,r=ee.state.activeCaipNetwork;if(!e||!r)return[];if(r.chainNamespace==="eip155"){const i=await this.getEIP155Balances(e,r);if(i)return this.filterLowQualityTokens(i)}const n=await tt.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(n.balances)},async getEIP155Balances(t,e){var r,n;try{const i=H_.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),s=await Sr.getCapabilities(t);if(!((n=(r=s==null?void 0:s[i])==null?void 0:r.assetDiscovery)!=null&&n.supported))return null;const o=await Sr.walletGetAssets({account:t,chainFilter:[i]});return H_.isWalletGetAssetsResponse(o)?(o[i]||[]).map(u=>H_.createBalance(u,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:ee.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},kt=Kr({tokenBalances:[],loading:!1}),m6={state:kt,subscribe(t){return wi(kt,()=>t(kt))},subscribeKey(t,e){return ns(kt,t,e)},setToken(t){t&&(kt.token=td(t))},setTokenAmount(t){kt.sendTokenAmount=t},setReceiverAddress(t){kt.receiverAddress=t},setReceiverProfileImageUrl(t){kt.receiverProfileImageUrl=t},setReceiverProfileName(t){kt.receiverProfileName=t},setGasPrice(t){kt.gasPrice=t},setGasPriceInUsd(t){kt.gasPriceInUSD=t},setNetworkBalanceInUsd(t){kt.networkBalanceInUSD=t},setLoading(t){kt.loading=t},sendToken(){var t;switch((t=ee.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":this.sendEvmToken();return;case"solana":this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}},sendEvmToken(){var t,e,r,n,i;(t=this.state.token)!=null&&t.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(Ir.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:We.state.preferredAccountType===fn.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:((e=ee.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&((r=this.state.token)!=null&&r.quantity.decimals)&&(Ir.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:We.state.preferredAccountType===fn.ACCOUNT_TYPES.SMART_ACCOUNT,token:(n=this.state.token)==null?void 0:n.symbol,amount:this.state.sendTokenAmount,network:((i=ee.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(t){var s,o;kt.loading=!0;const e=(s=ee.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,r=(o=ee.state.activeCaipNetwork)==null?void 0:o.chainNamespace,n=ee.state.activeCaipAddress,i=n?it.getPlainAddress(n):void 0;if(kt.lastRetry&&!it.isAllowedRetry(kt.lastRetry,30*Cn.ONE_SEC_MS))return kt.loading=!1,[];try{if(i&&e&&r){const a=await p6.getMyTokensWithBalance();return kt.tokenBalances=a,kt.lastRetry=void 0,a}}catch(a){kt.lastRetry=Date.now(),t==null||t(a),Jn.showError("Token Balance Unavailable")}finally{kt.loading=!1}return[]},fetchNetworkBalance(){if(kt.tokenBalances.length===0)return;const t=p6.mapBalancesToSwapTokens(kt.tokenBalances);if(!t)return;const e=t.find(r=>r.address===ee.getActiveNetworkTokenAddress());e&&(kt.networkBalanceInUSD=e?xy.multiply(e.quantity.numeric,e.price).toString():"0")},isInsufficientNetworkTokenForGas(t,e){const r=e||"0";return xy.bigNumber(t).eq(0)?!0:xy.bigNumber(xy.bigNumber(r)).gt(t)},hasInsufficientGasFunds(){let t=!0;return We.state.preferredAccountType===fn.ACCOUNT_TYPES.SMART_ACCOUNT?t=!1:kt.networkBalanceInUSD&&(t=this.isInsufficientNetworkTokenForGas(kt.networkBalanceInUSD,kt.gasPriceInUSD)),t},async sendNativeToken(t){var s,o,a,u;sr.pushTransactionStack({view:"Account",goBack:!1});const e=t.receiverAddress,r=We.state.address,n=Sr.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),i="0x";try{await Sr.sendTransaction({chainNamespace:"eip155",to:e,address:r,data:i,value:n??BigInt(0),gasPrice:t.gasPrice}),Jn.showSuccess("Transaction started"),Ir.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:We.state.preferredAccountType===fn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((s=this.state.token)==null?void 0:s.symbol)||"",amount:t.sendTokenAmount,network:((o=ee.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)||""}}),this.resetSend()}catch(l){console.error("SendController:sendERC20Token - failed to send native token",l);const h=l instanceof Error?l.message:"Unknown error";Ir.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:h,isSmartAccount:We.state.preferredAccountType===fn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((a=this.state.token)==null?void 0:a.symbol)||"",amount:t.sendTokenAmount,network:((u=ee.state.activeCaipNetwork)==null?void 0:u.caipNetworkId)||""}}),Jn.showError("Something went wrong")}},async sendERC20Token(t){var r,n;sr.pushTransactionStack({view:"Account",goBack:!1});const e=Sr.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));try{if(We.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const i=it.getPlainAddress(t.tokenAddress);await Sr.writeContract({fromAddress:We.state.address,tokenAddress:i,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:eH.getERC20Abi(i),chainNamespace:"eip155"}),Jn.showSuccess("Transaction started"),this.resetSend()}}catch(i){console.error("SendController:sendERC20Token - failed to send erc20 token",i);const s=i instanceof Error?i.message:"Unknown error";Ir.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:s,isSmartAccount:We.state.preferredAccountType===fn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((r=this.state.token)==null?void 0:r.symbol)||"",amount:t.sendTokenAmount,network:((n=ee.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}}),Jn.showError("Something went wrong")}},sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress){Jn.showError("Please enter a valid amount and receiver address");return}sr.pushTransactionStack({view:"Account",goBack:!1}),Sr.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),We.fetchTokenBalance()}).catch(t=>{Jn.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",t)})},resetSend(){kt.token=void 0,kt.sendTokenAmount=void 0,kt.receiverAddress=void 0,kt.receiverProfileImageUrl=void 0,kt.receiverProfileName=void 0,kt.loading=!1,kt.tokenBalances=[]}},W_={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},Ky={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Pe=Kr({chains:jz(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),ee={state:Pe,subscribe(t){return wi(Pe,()=>{t(Pe)})},subscribeKey(t,e){return ns(Pe,t,e)},subscribeChainProp(t,e,r){let n;return wi(Pe.chains,()=>{var s;const i=r||Pe.activeChain;if(i){const o=(s=Pe.chains.get(i))==null?void 0:s[t];n!==o&&(n=o,e(o))}})},initialize(t,e,r){const{chainId:n,namespace:i}=Be.getActiveNetworkProps(),s=e==null?void 0:e.find(l=>l.id.toString()===(n==null?void 0:n.toString())),a=t.find(l=>(l==null?void 0:l.namespace)===i)||(t==null?void 0:t[0]),u=new Set([...(e==null?void 0:e.map(l=>l.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(Pe.noAdapters=!0),Pe.noAdapters||(Pe.activeChain=a==null?void 0:a.namespace,Pe.activeCaipNetwork=s,this.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:s}),Pe.activeChain&&ec.set({activeChain:a==null?void 0:a.namespace})),u.forEach(l=>{const h=e==null?void 0:e.filter(f=>f.chainNamespace===l);ee.state.chains.set(l,{namespace:l,networkState:Kr({...Ky,caipNetwork:h==null?void 0:h[0]}),accountState:Kr(W_),caipNetworks:h??[],...r}),this.setRequestedCaipNetworks(h??[],l)})},removeAdapter(t){var e,r;if(Pe.activeChain===t){const n=Array.from(Pe.chains.entries()).find(([i])=>i!==t);if(n){const i=(r=(e=n[1])==null?void 0:e.caipNetworks)==null?void 0:r[0];i&&this.setActiveCaipNetwork(i)}}Pe.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:r},n){Pe.chains.set(t.namespace,{namespace:t.namespace,networkState:{...Ky,caipNetwork:n[0]},accountState:W_,caipNetworks:n,connectionControllerClient:r,networkControllerClient:e}),this.setRequestedCaipNetworks((n==null?void 0:n.filter(i=>i.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var r;const e=Pe.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];(r=e.caipNetworks)!=null&&r.find(i=>i.id===t.id)||n.push(t),Pe.chains.set(t.chainNamespace,{...e,caipNetworks:n}),this.setRequestedCaipNetworks(n,t.chainNamespace)}},removeNetwork(t,e){var n,i,s;const r=Pe.chains.get(t);if(r){const o=((n=Pe.activeCaipNetwork)==null?void 0:n.id)===e,a=[...((i=r.caipNetworks)==null?void 0:i.filter(u=>u.id!==e))||[]];o&&((s=r==null?void 0:r.caipNetworks)!=null&&s[0])&&this.setActiveCaipNetwork(r.caipNetworks[0]),Pe.chains.set(t,{...r,caipNetworks:a}),this.setRequestedCaipNetworks(a||[],t)}},setAdapterNetworkState(t,e){const r=Pe.chains.get(t);r&&(r.networkState={...r.networkState||Ky,...e},Pe.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const n=Pe.chains.get(t);if(n){const i={...n.accountState||W_,...e};Pe.chains.set(t,{...n,accountState:i}),(Pe.chains.size===1||Pe.activeChain===t)&&(e.caipAddress&&(Pe.activeCaipAddress=e.caipAddress),We.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const r=Pe.chains.get(t);if(r){const n={...r.networkState||Ky,...e};Pe.chains.set(t,{...r,networkState:n})}},setAccountProp(t,e,r,n=!0){this.setChainAccountData(r,{[t]:e},n),t==="status"&&e==="disconnected"&&r&&lt.removeConnectorId(r)},setActiveNamespace(t){var n,i;Pe.activeChain=t;const e=t?Pe.chains.get(t):void 0,r=(n=e==null?void 0:e.networkState)==null?void 0:n.caipNetwork;r!=null&&r.id&&t&&(Pe.activeCaipAddress=(i=e==null?void 0:e.accountState)==null?void 0:i.caipAddress,Pe.activeCaipNetwork=r,this.setChainNetworkData(t,{caipNetwork:r}),Be.setActiveCaipNetworkId(r==null?void 0:r.caipNetworkId),ec.set({activeChain:t,selectedNetworkId:r==null?void 0:r.caipNetworkId}))},setActiveCaipNetwork(t){var n,i,s;if(!t)return;Pe.activeChain!==t.chainNamespace&&this.setIsSwitchingNamespace(!0);const e=Pe.chains.get(t.chainNamespace);Pe.activeChain=t.chainNamespace,Pe.activeCaipNetwork=t,this.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(n=e==null?void 0:e.accountState)!=null&&n.address?Pe.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(i=e==null?void 0:e.accountState)==null?void 0:i.address}`:Pe.activeCaipAddress=void 0,this.setAccountProp("caipAddress",Pe.activeCaipAddress,t.chainNamespace),e&&We.replaceState(e.accountState),m6.resetSend(),ec.set({activeChain:Pe.activeChain,selectedNetworkId:(s=Pe.activeCaipNetwork)==null?void 0:s.caipNetworkId}),Be.setActiveCaipNetworkId(t.caipNetworkId),!this.checkIfSupportedNetwork(t.chainNamespace)&&_e.state.enableNetworkSwitch&&!_e.state.allowUnsupportedChain&&!Sr.state.wcBasic&&this.showUnsupportedChainUI()},addCaipNetwork(t){var r;if(!t)return;const e=Pe.chains.get(t.chainNamespace);e&&((r=e==null?void 0:e.caipNetworks)==null||r.push(t))},async switchActiveNamespace(t){var i;if(!t)return;const e=t!==ee.state.activeChain,r=(i=ee.getNetworkData(t))==null?void 0:i.caipNetwork,n=ee.getCaipNetworkByNamespace(t,r==null?void 0:r.id);e&&n&&await ee.switchActiveNetwork(n)},async switchActiveNetwork(t){var i;const e=ee.state.chains.get(ee.state.activeChain);!((i=e==null?void 0:e.caipNetworks)!=null&&i.some(s=>{var o;return s.id===((o=Pe.activeCaipNetwork)==null?void 0:o.id)}))&&sr.goBack();const n=this.getNetworkControllerClient(t.chainNamespace);n&&(await n.switchCaipNetwork(t),Ir.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||Pe.activeChain,r=Pe.chains.get(e);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(t){const e=t||Pe.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=Pe.chains.get(e);if(!(r!=null&&r.connectionControllerClient))throw new Error("ConnectionController client not set");return r.connectionControllerClient},getAccountProp(t,e){var i;let r=Pe.activeChain;if(e&&(r=e),!r)return;const n=(i=Pe.chains.get(r))==null?void 0:i.accountState;if(n)return n[t]},getNetworkProp(t,e){var n;const r=(n=Pe.chains.get(e))==null?void 0:n.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=Pe.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=(e==null?void 0:e.networkState)||{};return it.sortRequestedNetworks(r,n)},getAllRequestedCaipNetworks(){const t=[];return Pe.chains.forEach(e=>{const r=this.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){this.setAdapterNetworkState(e,{requestedCaipNetworks:t})},getAllApprovedCaipNetworkIds(){const t=[];return Pe.chains.forEach(e=>{const r=this.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(){return Pe.activeCaipNetwork},getActiveCaipAddress(){return Pe.activeCaipAddress},getApprovedCaipNetworkIds(t){var n;const e=Pe.chains.get(t);return((n=e==null?void 0:e.networkState)==null?void 0:n.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=this.getNetworkControllerClient(),r=await(e==null?void 0:e.getApprovedCaipNetworksData());this.setAdapterNetworkState(t,{approvedCaipNetworkIds:r==null?void 0:r.approvedCaipNetworkIds,supportsAllNetworks:r==null?void 0:r.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const r=e||Pe.activeCaipNetwork,n=this.getRequestedCaipNetworks(t);return n.length?n==null?void 0:n.some(i=>i.id===(r==null?void 0:r.id)):!0},checkIfSupportedChainId(t){if(!Pe.activeChain)return!0;const e=this.getRequestedCaipNetworks(Pe.activeChain);return e==null?void 0:e.some(r=>r.id===t)},setSmartAccountEnabledNetworks(t,e){this.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var n;const t=Gm.caipNetworkIdToNumber((n=Pe.activeCaipNetwork)==null?void 0:n.caipNetworkId),e=Pe.activeChain;if(!e||!t)return!1;const r=this.getNetworkProp("smartAccountEnabledNetworks",e);return!!(r!=null&&r.includes(Number(t)))},getActiveNetworkTokenAddress(){var n,i;const t=((n=Pe.activeCaipNetwork)==null?void 0:n.chainNamespace)||"eip155",e=((i=Pe.activeCaipNetwork)==null?void 0:i.id)||1,r=Cn.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`},showUnsupportedChainUI(){pn.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Pe.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&Cn.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){this.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");Pe.activeCaipAddress=void 0,this.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),lt.removeConnectorId(e)},async disconnect(t){const e=dH(t);try{m6.resetSend();const r=await Promise.allSettled(e.map(async([i,s])=>{var o;try{const{caipAddress:a}=this.getAccountData(i)||{};a&&((o=s.connectionControllerClient)!=null&&o.disconnect)&&await s.connectionControllerClient.disconnect(i),this.resetAccount(i),this.resetNetwork(i)}catch(a){throw new Error(`Failed to disconnect chain ${i}: ${a.message}`)}}));Sr.resetWcConnection();const n=r.filter(i=>i.status==="rejected");if(n.length>0)throw new Error(n.map(i=>i.reason.message).join(", "));Be.deleteConnectedSocialProvider(),t?lt.removeConnectorId(t):lt.resetConnectorIds(),Ir.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(r){console.error(r.message||"Failed to disconnect chains"),Ir.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:r.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){Pe.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var r,n;const t=[];let e;if(Pe.chains.forEach(i=>{Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(s=>s===i.namespace)&&i.namespace&&t.push(i.namespace)}),t.length>0){const i=t[0];return e=i?(n=(r=Pe.chains.get(i))==null?void 0:r.caipNetworks)==null?void 0:n[0]:void 0,e}},getAccountData(t){var e;return t?(e=ee.state.chains.get(t))==null?void 0:e.accountState:We.state},getNetworkData(t){var r;const e=t||Pe.activeChain;if(e)return(r=ee.state.chains.get(e))==null?void 0:r.networkState},getCaipNetworkByNamespace(t,e){var i,s,o;if(!t)return;const r=ee.state.chains.get(t),n=(i=r==null?void 0:r.caipNetworks)==null?void 0:i.find(a=>a.id===e);return n||((s=r==null?void 0:r.networkState)==null?void 0:s.caipNetwork)||((o=r==null?void 0:r.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=lt.state.filterByNamespace;return(t?[Pe.chains.get(t)]:Array.from(Pe.chains.values())).flatMap(r=>(r==null?void 0:r.caipNetworks)||[]).map(r=>r.caipNetworkId)}},zae={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},eD=it.getBlockchainApiUrl(),ps=Kr({clientId:null,api:new Gw({baseUrl:eD,clientId:null}),supportedChains:{http:[],ws:[]}}),tt={state:ps,async get(t){const{st:e,sv:r}=tt.getSdkProperties(),n=_e.state.projectId,i={...t.params||{},st:e,sv:r,projectId:n};return ps.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=_e.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{ps.supportedChains.http.length||await tt.getSupportedNetworks()}catch{return!1}return ps.supportedChains.http.includes(t)},async getSupportedNetworks(){const t=await tt.get({path:"v1/supported-chains"});return ps.supportedChains=t,t},async fetchIdentity({address:t,caipNetworkId:e}){if(!await tt.isNetworkSupported(e))return{avatar:"",name:""};const n=Be.getIdentityFromCacheForAddress(t);if(n)return n;const i=await tt.get({path:`/v1/identity/${t}`,params:{sender:ee.state.activeCaipAddress?it.getPlainAddress(ee.state.activeCaipAddress):void 0}});return Be.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,onramp:r,signal:n,cache:i,chainId:s}){var a;return await tt.isNetworkSupported((a=ee.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?tt.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:r,chainId:s},signal:n,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:n,gasPrice:i}){var o;return await tt.isNetworkSupported((o=ee.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?tt.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:n,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var r;return await tt.isNetworkSupported((r=ee.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?tt.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var r;return await tt.isNetworkSupported((r=ee.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?ps.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:_e.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var n;return await tt.isNetworkSupported((n=ee.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?tt.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var i;const{st:e,sv:r}=tt.getSdkProperties();if(!await tt.isNetworkSupported((i=ee.state.activeCaipNetwork)==null?void 0:i.caipNetworkId))throw new Error("Network not supported for Gas Price");return tt.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:n,disableEstimate:i}){var o;if(!await tt.isNetworkSupported((o=ee.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return ps.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Cn.CONVERT_SLIPPAGE_TOLERANCE},projectId:_e.state.projectId,from:e,to:r,userAddress:n,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){var o;const{st:n,sv:i}=tt.getSdkProperties();if(!await tt.isNetworkSupported((o=ee.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return tt.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:n,sv:i}})},async getBalance(t,e,r){var l;const{st:n,sv:i}=tt.getSdkProperties();if(!await tt.isNetworkSupported((l=ee.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return Jn.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=Be.getBalanceCacheForCaipAddress(o);if(a)return a;const u=await tt.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:n,sv:i}});return Be.updateBalanceCache({caipAddress:o,balance:u,timestamp:Date.now()}),u},async lookupEnsName(t){var r;return await tt.isNetworkSupported((r=ee.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?tt.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var r;return await tt.isNetworkSupported((r=ee.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?tt.get({path:`/v1/profile/reverse/${t}`,params:{sender:We.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var r;return await tt.isNetworkSupported((r=ee.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?tt.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:n}){var s;return await tt.isNetworkSupported((s=ee.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?ps.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:n,paymentAmount:i}){var a;return await tt.isNetworkSupported((a=ee.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await ps.api.post({path:"/v1/generators/onrampurl",params:{projectId:_e.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:i}})).url:""},async getOnrampOptions(){var e;if(!await tt.isNetworkSupported((e=ee.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await tt.get({path:"/v1/onramp/options"})}catch{return zae}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}){var i;try{return await tt.isNetworkSupported((i=ee.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?await ps.api.post({path:"/v1/onramp/quote",params:{projectId:_e.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}}):null}catch{return{coinbaseFee:{amount:r,currency:e.id},networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var r;return await tt.isNetworkSupported((r=ee.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?tt.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){var i;return await tt.isNetworkSupported((i=ee.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?ps.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:_e.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){ps.clientId=t,ps.api=new Gw({baseUrl:eD,clientId:t})}},Ho=Kr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),We={state:Ho,replaceState(t){t&&Object.assign(Ho,td(t))},subscribe(t){return ee.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,r){let n;return ee.subscribeChainProp("accountState",i=>{if(i){const s=i[t];n!==s&&(n=s,e(s))}},r)},setStatus(t,e){ee.setAccountProp("status",t,e)},getCaipAddress(t){return ee.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const r=t?it.getPlainAddress(t):void 0;e===ee.state.activeChain&&(ee.state.activeCaipAddress=t),ee.setAccountProp("caipAddress",t,e),ee.setAccountProp("address",r,e)},setBalance(t,e,r){ee.setAccountProp("balance",t,r),ee.setAccountProp("balanceSymbol",e,r)},setProfileName(t,e){ee.setAccountProp("profileName",t,e)},setProfileImage(t,e){ee.setAccountProp("profileImage",t,e)},setUser(t,e){ee.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){ee.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){ee.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){ee.setAccountProp("currentTab",t,ee.state.activeChain)},setTokenBalance(t,e){t&&ee.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){ee.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){ee.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,r){const n=ee.getAccountProp("addressLabels",r)||new Map;n.set(t,e),ee.setAccountProp("addressLabels",n,r)},removeAddressLabel(t,e){const r=ee.getAccountProp("addressLabels",e)||new Map;r.delete(t),ee.setAccountProp("addressLabels",r,e)},setConnectedWalletInfo(t,e){ee.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){ee.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&ee.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){ee.setAccountProp("socialWindow",t?td(t):void 0,e)},setFarcasterUrl(t,e){ee.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var s,o;Ho.balanceLoading=!0;const e=(s=ee.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,r=(o=ee.state.activeCaipNetwork)==null?void 0:o.chainNamespace,n=ee.state.activeCaipAddress,i=n?it.getPlainAddress(n):void 0;if(Ho.lastRetry&&!it.isAllowedRetry(Ho.lastRetry,30*Cn.ONE_SEC_MS))return Ho.balanceLoading=!1,[];try{if(i&&e&&r){const u=(await tt.getBalance(i,e)).balances.filter(l=>l.quantity.decimals!=="0");return this.setTokenBalance(u,r),Ho.lastRetry=void 0,Ho.balanceLoading=!1,u}}catch(a){Ho.lastRetry=Date.now(),t==null||t(a),Jn.showError("Token Balance Unavailable")}finally{Ho.balanceLoading=!1}return[]},resetAccount(t){ee.resetAccount(t)}},Hi=Kr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),pn={state:Hi,subscribe(t){return wi(Hi,()=>t(Hi))},subscribeKey(t,e){return ns(Hi,t,e)},async open(t){var i;const e=We.state.status==="connected";Sr.state.wcBasic?mt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await mt.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t!=null&&t.namespace?(await ee.switchActiveNamespace(t.namespace),pn.setLoading(!0,t.namespace)):pn.setLoading(!0),lt.setFilterByNamespace(t==null?void 0:t.namespace);const r=(i=ee.getAccountData(t==null?void 0:t.namespace))==null?void 0:i.caipAddress;ee.state.noAdapters&&!r?it.isMobile()?sr.reset("AllWallets"):sr.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?sr.reset(t.view):r?sr.reset("Account"):sr.reset("Connect"),Hi.open=!0,ec.set({open:!0}),Ir.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!r}})},close(){const t=_e.state.enableEmbedded,e=!!ee.state.activeCaipAddress;Hi.open&&Ir.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Hi.open=!1,pn.clearLoading(),t?e?sr.replace("Account"):sr.push("Connect"):ec.set({open:!1}),Sr.resetUri()},setLoading(t,e){e&&Hi.loadingNamespaceMap.set(e,t),Hi.loading=t,ec.set({loading:t})},clearLoading(){Hi.loadingNamespaceMap.clear(),Hi.loading=!1},shake(){Hi.shake||(Hi.shake=!0,setTimeout(()=>{Hi.shake=!1},500))}},g6=2147483648,Hae={convertEVMChainIdToCoinType(t){if(t>=g6)throw new Error("Invalid chainId");return(g6|t)>>>0}},Os=Kr({suggestions:[],loading:!1}),tD={state:Os,subscribe(t){return wi(Os,()=>t(Os))},subscribeKey(t,e){return ns(Os,t,e)},async resolveName(t){var e,r;try{return await tt.lookupEnsName(t)}catch(n){const i=n;throw new Error(((r=(e=i==null?void 0:i.reasons)==null?void 0:e[0])==null?void 0:r.description)||"Error resolving name")}},async isNameRegistered(t){try{return await tt.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Os.loading=!0,Os.suggestions=[];const e=await tt.getEnsNameSuggestions(t);return Os.suggestions=e.suggestions.map(r=>({...r,name:r.name}))||[],Os.suggestions}catch(e){const r=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{Os.loading=!1}},async getNamesForAddress(t){try{if(!ee.state.activeCaipNetwork)return[];const r=Be.getEnsFromCacheForAddress(t);if(r)return r;const n=await tt.reverseLookupEnsName({address:t});return Be.updateEnsCache({address:t,ens:n,timestamp:Date.now()}),n}catch(e){const r=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){const e=ee.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const r=We.state.address,n=lt.getAuthConnector();if(!r||!n)throw new Error("Address or auth connector not found");Os.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});sr.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){Os.loading=!1}});const s=await Sr.signMessage(i),o=e.id;if(!o)throw new Error("Network not found");const a=Hae.convertEVMChainIdToCoinType(Number(o));await tt.registerEnsName({coinType:a,address:r,signature:s,message:i}),We.setProfileName(t,e.chainNamespace),sr.replace("RegisterAccountNameSuccess")}catch(i){const s=this.parseEnsApiError(i,`Error registering name ${t}`);throw sr.replace("RegisterAccountName"),new Error(s)}finally{Os.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var n,i;const r=t;return((i=(n=r==null?void 0:r.reasons)==null?void 0:n[0])==null?void 0:i.description)||e}};var K_={exports:{}},G_={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y6;function Wae(){if(y6)return G_;y6=1;var t=zl();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(f,m){var g=m(),w=n({inst:{value:g,getSnapshot:m}}),E=w[0].inst,C=w[1];return s(function(){E.value=g,E.getSnapshot=m,u(E)&&C({inst:E})},[f,g,m]),i(function(){return u(E)&&C({inst:E}),f(function(){u(E)&&C({inst:E})})},[f]),o(g),g}function u(f){var m=f.getSnapshot;f=f.value;try{var g=m();return!r(f,g)}catch{return!0}}function l(f,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return G_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,G_}var v6;function Kae(){return v6||(v6=1,K_.exports=Wae()),K_.exports}var Gae=Kae();const Qae=pd(Gae),Yae={},{use:w6}=qL,{useSyncExternalStore:Jae}=Qae,Zae=(t,e)=>{const r=se.useRef();se.useEffect(()=>{r.current=Fz(t,e)}),se.useDebugValue(r.current)},Xae=new WeakMap;function rD(t,e){const n=se.useRef(),i=se.useRef();let s=!0;const o=Jae(se.useCallback(l=>{const h=wi(t,l);return l(),h},[t,void 0]),()=>{const l=ed(t,w6);try{if(!s&&n.current&&i.current&&!DO(n.current,l,i.current,new WeakMap))return n.current}catch{}return l},()=>ed(t,w6));s=!1;const a=new WeakMap;se.useEffect(()=>{n.current=o,i.current=a}),(Yae?"production":void 0)!=="production"&&Zae(o,a);const u=se.useMemo(()=>new WeakMap,[]);return kO(o,a,u,Xae)}function ece(){const{activeCaipNetwork:t}=rD(ee.state);return{caipNetwork:t,chainId:t==null?void 0:t.id,caipNetworkId:t==null?void 0:t.caipNetworkId}}function tce(t){var s;const e=rD(ee.state),r=e.activeChain;if(!r)return{allAccounts:[],address:void 0,caipAddress:void 0,status:void 0,isConnected:!1,embeddedWalletInfo:void 0};const n=(s=e.chains.get(r))==null?void 0:s.accountState,i=lt.getAuthConnector(r);return{allAccounts:(n==null?void 0:n.allAccounts)||[],caipAddress:n==null?void 0:n.caipAddress,address:it.getPlainAddress(n==null?void 0:n.caipAddress),isConnected:!!(n!=null&&n.caipAddress),status:n==null?void 0:n.status,embeddedWalletInfo:i?{user:n==null?void 0:n.user,authProvider:(n==null?void 0:n.socialProvider)||"email",accountType:n==null?void 0:n.preferredAccountType,isSmartAccountDeployed:!!(n!=null&&n.smartAccountDeployed)}:void 0}}const Vr={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},vl={ConnectorExplorerIds:{[Ee.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ee.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ee.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Ee.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Ee.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Vr.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Vr.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Vr.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Vr.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Vr.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Vr.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Vr.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Vr.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Vr.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Vr.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Vr.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Ee.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ee.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ee.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Ee.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Ee.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Ee.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Ee.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Ee.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Ee.CONNECTOR_ID.COINBASE]:"Coinbase",[Ee.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Ee.CONNECTOR_ID.LEDGER]:"Ledger",[Ee.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[Ee.CONNECTOR_ID.INJECTED]:"INJECTED",[Ee.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[Ee.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[Ee.CONNECTOR_ID.AUTH]:"AUTH"}},tw={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,n])=>{e[`${Vr.EIP155}:${r}`]=n}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},Uh={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${rce()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function rce(){return typeof window<"u"}const nce={createLogger(t,e="error"){const r=qf({level:e}),{logger:n}=yS({opts:r});return n.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},n}},ice="rpc.walletconnect.org";function sce(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const Q_=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],ra={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===ice}catch{r=!1}if(r){const n=new URL(t);return n.searchParams.has("projectId")||n.searchParams.set("projectId",e),n.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:Ee.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${Ee.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){var i,s,o;const n=(o=(s=(i=t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null?void 0:o[0];return Q_.includes(e)?sce(e,r):n||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){var m,g,w,E,C;const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=(m=t.rpcUrls.default.http)==null?void 0:m[0],a=this.getDefaultRpcUrl(t,s,r),u=((E=(w=(g=t==null?void 0:t.rpcUrls)==null?void 0:g.chainDefault)==null?void 0:w.http)==null?void 0:E[0])||o,l=((C=n==null?void 0:n[s])==null?void 0:C.map(N=>N.url))||[],h=[...l,a],f=[...l];return u&&!f.includes(u)&&f.push(u),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:vl.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:h},chainDefault:{http:f}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){return t.map(i=>ra.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:n,projectId:r}))},getViemTransport(t,e,r){const n=[];if(r==null||r.forEach(i=>{n.push(vE(i.url,i.config))}),Q_.includes(t.caipNetworkId)){const i=this.getDefaultRpcUrl(t,t.caipNetworkId,e);n.push(vE(i,{fetchOptions:{headers:{"Content-Type":"text/plain"}}}))}return Ix(n)},extendWagmiTransports(t,e,r){if(Q_.includes(t.caipNetworkId)){const n=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return Ix([r,vE(n)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:Ee.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var u;const e=Be.getActiveCaipNetworkId(),r=ee.getAllRequestedCaipNetworks(),n=Array.from(((u=ee.state.chains)==null?void 0:u.keys())||[]),i=e==null?void 0:e.split(":")[0],s=i?n.includes(i):!1,o=r==null?void 0:r.find(l=>l.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||(r==null?void 0:r[0])}},rw={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},Wi=Kr({providers:{...rw},providerIds:{...rw}}),fr={state:Wi,subscribeKey(t,e){return ns(Wi,t,e)},subscribe(t){return wi(Wi,()=>{t(Wi)})},subscribeProviders(t){return wi(Wi.providers,()=>t(Wi.providers))},setProvider(t,e){e&&(Wi.providers[t]=td(e))},getProvider(t){return Wi.providers[t]},setProviderId(t,e){e&&(Wi.providerIds[t]=e)},getProviderId(t){if(t)return Wi.providerIds[t]},reset(){Wi.providers={...rw},Wi.providerIds={...rw}},resetChain(t){Wi.providers[t]=void 0,Wi.providerIds[t]=void 0}},b6={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},Gn={set(t,e){ys.isClient&&localStorage.setItem(`${Ve.STORAGE_KEY}${t}`,e)},get(t){return ys.isClient?localStorage.getItem(`${Ve.STORAGE_KEY}${t}`):null},delete(t,e){ys.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Ve.STORAGE_KEY}${t}`))}},Gy=30*1e3,ys={checkIfAllowedToTriggerEmail(){const t=Gn.get(Ve.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Gy){const r=Math.ceil((Gy-e)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){const t=Gn.get(Ve.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Gy)return Math.ceil((Gy-e)/1e3)}return 0},checkIfRequestExists(t){return fn.NOT_SAFE_RPC_METHODS.includes(t.method)||fn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(b6.transactionHash))||(t==null?void 0:t.match(b6.signedMessage)))?Ve.RPC_RESPONSE_TYPE_TX:Ve.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return fn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Ht;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ht||(Ht={}));var z2;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(z2||(z2={}));const ke=Ht.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),nl=t=>{switch(typeof t){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return isNaN(t)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(t)?ke.array:t===null?ke.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ke.promise:typeof Map<"u"&&t instanceof Map?ke.map:typeof Set<"u"&&t instanceof Set?ke.set:typeof Date<"u"&&t instanceof Date?ke.date:ke.object;default:return ke.unknown}},Se=Ht.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),oce=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class wo extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,u=0;for(;u<o.path.length;){const l=o.path[u];u===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ht.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}wo.create=t=>new wo(t);const rg=(t,e)=>{let r;switch(t.code){case Se.invalid_type:t.received===ke.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Se.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ht.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ht.joinValues(t.keys,", ")}`;break;case Se.invalid_union:r="Invalid input";break;case Se.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ht.joinValues(t.options)}`;break;case Se.invalid_enum_value:r=`Invalid enum value. Expected ${Ht.joinValues(t.options)}, received '${t.received}'`;break;case Se.invalid_arguments:r="Invalid function arguments";break;case Se.invalid_return_type:r="Invalid function return type";break;case Se.invalid_date:r="Invalid date";break;case Se.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ht.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Se.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Se.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Se.custom:r="Invalid input";break;case Se.invalid_intersection_types:r="Intersection results could not be merged";break;case Se.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Se.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ht.assertNever(t)}return{message:r}};let nD=rg;function ace(t){nD=t}function nw(){return nD}const iw=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};let a="";const u=n.filter(l=>!!l).slice().reverse();for(const l of u)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},cce=[];function Fe(t,e){const r=iw({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,nw(),rg].filter(n=>!!n)});t.common.issues.push(r)}class bi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return at;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return bi.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return at;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const at=Object.freeze({status:"aborted"}),iD=t=>({status:"dirty",value:t}),ki=t=>({status:"valid",value:t}),H2=t=>t.status==="aborted",W2=t=>t.status==="dirty",ng=t=>t.status==="valid",sw=t=>typeof Promise<"u"&&t instanceof Promise;var Qe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Qe||(Qe={}));class fa{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const E6=(t,e)=>{if(ng(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new wo(t.common.issues);return this._error=r,this._error}}};function ut(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}class gt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return nl(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:nl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new bi,ctx:{common:e.parent.common,data:e.data,parsedType:nl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(sw(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:nl(e)},s=this._parseSync({data:e,path:i.path,parent:i});return E6(i,s)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:nl(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(sw(i)?i:Promise.resolve(i));return E6(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Se.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Eo({schema:this,typeName:et.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return tc.create(this,this._def)}nullable(){return ud.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bo.create(this,this._def)}promise(){return vf.create(this,this._def)}or(e){return ag.create([this,e],this._def)}and(e){return cg.create(this,e,this._def)}transform(e){return new Eo({...ut(this._def),schema:this,typeName:et.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new fg({...ut(this._def),innerType:this,defaultValue:r,typeName:et.ZodDefault})}brand(){return new oD({typeName:et.ZodBranded,type:this,...ut(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new lw({...ut(this._def),innerType:this,catchValue:r,typeName:et.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return r0.create(this,e)}readonly(){return dw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const lce=/^c[^\s-]{8,}$/i,uce=/^[a-z][a-z0-9]*$/,dce=/^[0-9A-HJKMNP-TV-Z]{26}$/,hce=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,fce=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pce="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Y_;const mce=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,gce=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,yce=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function vce(t,e){return!!((e==="v4"||!e)&&mce.test(t)||(e==="v6"||!e)&&gce.test(t))}class vo extends gt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ke.string){const s=this._getOrReturnCtx(e);return Fe(s,{code:Se.invalid_type,expected:ke.string,received:s.parsedType}),at}const n=new bi;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Fe(i,{code:Se.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Fe(i,{code:Se.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")fce.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"email",code:Se.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")Y_||(Y_=new RegExp(pce,"u")),Y_.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"emoji",code:Se.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")hce.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"uuid",code:Se.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")lce.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"cuid",code:Se.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")uce.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"cuid2",code:Se.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")dce.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"ulid",code:Se.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Fe(i,{validation:"url",code:Se.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"regex",code:Se.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?yce(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?vce(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"ip",code:Se.invalid_string,message:s.message}),n.dirty()):Ht.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Se.invalid_string,...Qe.errToObj(n)})}_addCheck(e){return new vo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Qe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Qe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Qe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Qe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Qe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Qe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Qe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Qe.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...Qe.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Qe.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Qe.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Qe.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Qe.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Qe.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Qe.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Qe.errToObj(r)})}nonempty(e){return this.min(1,Qe.errToObj(e))}trim(){return new vo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}vo.create=t=>{var e;return new vo({checks:[],typeName:et.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ut(t)})};function wce(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Ol extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ke.number){const s=this._getOrReturnCtx(e);return Fe(s,{code:Se.invalid_type,expected:ke.number,received:s.parsedType}),at}let n;const i=new bi;for(const s of this._def.checks)s.kind==="int"?Ht.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Fe(n,{code:Se.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Se.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Se.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?wce(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Se.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Fe(n,{code:Se.not_finite,message:s.message}),i.dirty()):Ht.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Qe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Qe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Qe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Qe.toString(r))}setLimit(e,r,n,i){return new Ol({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Qe.toString(i)}]})}_addCheck(e){return new Ol({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Qe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Qe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Qe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Qe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Qe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Qe.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Qe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Qe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Qe.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ht.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Ol.create=t=>new Ol({checks:[],typeName:et.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ut(t)});class kl extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ke.bigint){const s=this._getOrReturnCtx(e);return Fe(s,{code:Se.invalid_type,expected:ke.bigint,received:s.parsedType}),at}let n;const i=new bi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Se.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Se.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Se.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ht.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Qe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Qe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Qe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Qe.toString(r))}setLimit(e,r,n,i){return new kl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Qe.toString(i)}]})}_addCheck(e){return new kl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Qe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Qe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Qe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Qe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Qe.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}kl.create=t=>{var e;return new kl({checks:[],typeName:et.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ut(t)})};class ig extends gt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ke.boolean){const n=this._getOrReturnCtx(e);return Fe(n,{code:Se.invalid_type,expected:ke.boolean,received:n.parsedType}),at}return ki(e.data)}}ig.create=t=>new ig({typeName:et.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ut(t)});class cd extends gt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ke.date){const s=this._getOrReturnCtx(e);return Fe(s,{code:Se.invalid_type,expected:ke.date,received:s.parsedType}),at}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Fe(s,{code:Se.invalid_date}),at}const n=new bi;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Se.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Ht.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new cd({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Qe.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Qe.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}cd.create=t=>new cd({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:et.ZodDate,...ut(t)});class ow extends gt{_parse(e){if(this._getType(e)!==ke.symbol){const n=this._getOrReturnCtx(e);return Fe(n,{code:Se.invalid_type,expected:ke.symbol,received:n.parsedType}),at}return ki(e.data)}}ow.create=t=>new ow({typeName:et.ZodSymbol,...ut(t)});class sg extends gt{_parse(e){if(this._getType(e)!==ke.undefined){const n=this._getOrReturnCtx(e);return Fe(n,{code:Se.invalid_type,expected:ke.undefined,received:n.parsedType}),at}return ki(e.data)}}sg.create=t=>new sg({typeName:et.ZodUndefined,...ut(t)});class og extends gt{_parse(e){if(this._getType(e)!==ke.null){const n=this._getOrReturnCtx(e);return Fe(n,{code:Se.invalid_type,expected:ke.null,received:n.parsedType}),at}return ki(e.data)}}og.create=t=>new og({typeName:et.ZodNull,...ut(t)});class yf extends gt{constructor(){super(...arguments),this._any=!0}_parse(e){return ki(e.data)}}yf.create=t=>new yf({typeName:et.ZodAny,...ut(t)});class zu extends gt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ki(e.data)}}zu.create=t=>new zu({typeName:et.ZodUnknown,...ut(t)});class ac extends gt{_parse(e){const r=this._getOrReturnCtx(e);return Fe(r,{code:Se.invalid_type,expected:ke.never,received:r.parsedType}),at}}ac.create=t=>new ac({typeName:et.ZodNever,...ut(t)});class aw extends gt{_parse(e){if(this._getType(e)!==ke.undefined){const n=this._getOrReturnCtx(e);return Fe(n,{code:Se.invalid_type,expected:ke.void,received:n.parsedType}),at}return ki(e.data)}}aw.create=t=>new aw({typeName:et.ZodVoid,...ut(t)});class bo extends gt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==ke.array)return Fe(r,{code:Se.invalid_type,expected:ke.array,received:r.parsedType}),at;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(Fe(r,{code:o?Se.too_big:Se.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Fe(r,{code:Se.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Fe(r,{code:Se.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new fa(r,o,r.path,a)))).then(o=>bi.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new fa(r,o,r.path,a)));return bi.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new bo({...this._def,minLength:{value:e,message:Qe.toString(r)}})}max(e,r){return new bo({...this._def,maxLength:{value:e,message:Qe.toString(r)}})}length(e,r){return new bo({...this._def,exactLength:{value:e,message:Qe.toString(r)}})}nonempty(e){return this.min(1,e)}}bo.create=(t,e)=>new bo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:et.ZodArray,...ut(e)});function xh(t){if(t instanceof Jr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=tc.create(xh(n))}return new Jr({...t._def,shape:()=>e})}else return t instanceof bo?new bo({...t._def,type:xh(t.element)}):t instanceof tc?tc.create(xh(t.unwrap())):t instanceof ud?ud.create(xh(t.unwrap())):t instanceof pa?pa.create(t.items.map(e=>xh(e))):t}class Jr extends gt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ht.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==ke.object){const l=this._getOrReturnCtx(e);return Fe(l,{code:Se.invalid_type,expected:ke.object,received:l.parsedType}),at}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ac&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const u=[];for(const l of o){const h=s[l],f=i.data[l];u.push({key:{status:"valid",value:l},value:h._parse(new fa(i,f,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof ac){const l=this._def.unknownKeys;if(l==="passthrough")for(const h of a)u.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(l==="strict")a.length>0&&(Fe(i,{code:Se.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const h of a){const f=i.data[h];u.push({key:{status:"valid",value:h},value:l._parse(new fa(i,f,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const h of u){const f=await h.key;l.push({key:f,value:await h.value,alwaysSet:h.alwaysSet})}return l}).then(l=>bi.mergeObjectSync(n,l)):bi.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return Qe.errToObj,new Jr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;const u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=Qe.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new Jr({...this._def,unknownKeys:"strip"})}passthrough(){return new Jr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Jr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Jr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:et.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Jr({...this._def,catchall:e})}pick(e){const r={};return Ht.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Jr({...this._def,shape:()=>r})}omit(e){const r={};return Ht.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Jr({...this._def,shape:()=>r})}deepPartial(){return xh(this)}partial(e){const r={};return Ht.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new Jr({...this._def,shape:()=>r})}required(e){const r={};return Ht.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof tc;)s=s._def.innerType;r[n]=s}}),new Jr({...this._def,shape:()=>r})}keyof(){return sD(Ht.objectKeys(this.shape))}}Jr.create=(t,e)=>new Jr({shape:()=>t,unknownKeys:"strip",catchall:ac.create(),typeName:et.ZodObject,...ut(e)});Jr.strictCreate=(t,e)=>new Jr({shape:()=>t,unknownKeys:"strict",catchall:ac.create(),typeName:et.ZodObject,...ut(e)});Jr.lazycreate=(t,e)=>new Jr({shape:t,unknownKeys:"strip",catchall:ac.create(),typeName:et.ZodObject,...ut(e)});class ag extends gt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new wo(a.ctx.common.issues));return Fe(r,{code:Se.invalid_union,unionErrors:o}),at}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const u of n){const l={...r,common:{...r.common,issues:[]},parent:null},h=u._parseSync({data:r.data,path:r.path,parent:l});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(u=>new wo(u));return Fe(r,{code:Se.invalid_union,unionErrors:a}),at}}get options(){return this._def.options}}ag.create=(t,e)=>new ag({options:t,typeName:et.ZodUnion,...ut(e)});const bv=t=>t instanceof ug?bv(t.schema):t instanceof Eo?bv(t.innerType()):t instanceof dg?[t.value]:t instanceof Dl?t.options:t instanceof hg?Object.keys(t.enum):t instanceof fg?bv(t._def.innerType):t instanceof sg?[void 0]:t instanceof og?[null]:null;class lb extends gt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.object)return Fe(r,{code:Se.invalid_type,expected:ke.object,received:r.parsedType}),at;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Fe(r,{code:Se.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),at)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const o=bv(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new lb({typeName:et.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...ut(n)})}}function K2(t,e){const r=nl(t),n=nl(e);if(t===e)return{valid:!0,data:t};if(r===ke.object&&n===ke.object){const i=Ht.objectKeys(e),s=Ht.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const u=K2(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(r===ke.array&&n===ke.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],u=K2(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===ke.date&&n===ke.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class cg extends gt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(H2(s)||H2(o))return at;const a=K2(s.value,o.value);return a.valid?((W2(s)||W2(o))&&r.dirty(),{status:r.value,value:a.data}):(Fe(n,{code:Se.invalid_intersection_types}),at)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}cg.create=(t,e,r)=>new cg({left:t,right:e,typeName:et.ZodIntersection,...ut(r)});class pa extends gt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.array)return Fe(n,{code:Se.invalid_type,expected:ke.array,received:n.parsedType}),at;if(n.data.length<this._def.items.length)return Fe(n,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),at;!this._def.rest&&n.data.length>this._def.items.length&&(Fe(n,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,a)=>{const u=this._def.items[a]||this._def.rest;return u?u._parse(new fa(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>bi.mergeArray(r,o)):bi.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new pa({...this._def,rest:e})}}pa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pa({items:t,typeName:et.ZodTuple,rest:null,...ut(e)})};class lg extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.object)return Fe(n,{code:Se.invalid_type,expected:ke.object,received:n.parsedType}),at;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in n.data)i.push({key:s._parse(new fa(n,a,n.path,a)),value:o._parse(new fa(n,n.data[a],n.path,a))});return n.common.async?bi.mergeObjectAsync(r,i):bi.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof gt?new lg({keyType:e,valueType:r,typeName:et.ZodRecord,...ut(n)}):new lg({keyType:vo.create(),valueType:e,typeName:et.ZodRecord,...ut(r)})}}class cw extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.map)return Fe(n,{code:Se.invalid_type,expected:ke.map,received:n.parsedType}),at;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,u],l)=>({key:i._parse(new fa(n,a,n.path,[l,"key"])),value:s._parse(new fa(n,u,n.path,[l,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const u of o){const l=await u.key,h=await u.value;if(l.status==="aborted"||h.status==="aborted")return at;(l.status==="dirty"||h.status==="dirty")&&r.dirty(),a.set(l.value,h.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const u of o){const l=u.key,h=u.value;if(l.status==="aborted"||h.status==="aborted")return at;(l.status==="dirty"||h.status==="dirty")&&r.dirty(),a.set(l.value,h.value)}return{status:r.value,value:a}}}}cw.create=(t,e,r)=>new cw({valueType:e,keyType:t,typeName:et.ZodMap,...ut(r)});class ld extends gt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.set)return Fe(n,{code:Se.invalid_type,expected:ke.set,received:n.parsedType}),at;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Fe(n,{code:Se.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Fe(n,{code:Se.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(u){const l=new Set;for(const h of u){if(h.status==="aborted")return at;h.status==="dirty"&&r.dirty(),l.add(h.value)}return{status:r.value,value:l}}const a=[...n.data.values()].map((u,l)=>s._parse(new fa(n,u,n.path,l)));return n.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,r){return new ld({...this._def,minSize:{value:e,message:Qe.toString(r)}})}max(e,r){return new ld({...this._def,maxSize:{value:e,message:Qe.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}ld.create=(t,e)=>new ld({valueType:t,minSize:null,maxSize:null,typeName:et.ZodSet,...ut(e)});class Vh extends gt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.function)return Fe(r,{code:Se.invalid_type,expected:ke.function,received:r.parsedType}),at;function n(a,u){return iw({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,nw(),rg].filter(l=>!!l),issueData:{code:Se.invalid_arguments,argumentsError:u}})}function i(a,u){return iw({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,nw(),rg].filter(l=>!!l),issueData:{code:Se.invalid_return_type,returnTypeError:u}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof vf){const a=this;return ki(async function(...u){const l=new wo([]),h=await a._def.args.parseAsync(u,s).catch(g=>{throw l.addIssue(n(u,g)),l}),f=await Reflect.apply(o,this,h);return await a._def.returns._def.type.parseAsync(f,s).catch(g=>{throw l.addIssue(i(f,g)),l})})}else{const a=this;return ki(function(...u){const l=a._def.args.safeParse(u,s);if(!l.success)throw new wo([n(u,l.error)]);const h=Reflect.apply(o,this,l.data),f=a._def.returns.safeParse(h,s);if(!f.success)throw new wo([i(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Vh({...this._def,args:pa.create(e).rest(zu.create())})}returns(e){return new Vh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Vh({args:e||pa.create([]).rest(zu.create()),returns:r||zu.create(),typeName:et.ZodFunction,...ut(n)})}}class ug extends gt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ug.create=(t,e)=>new ug({getter:t,typeName:et.ZodLazy,...ut(e)});class dg extends gt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Fe(r,{received:r.data,code:Se.invalid_literal,expected:this._def.value}),at}return{status:"valid",value:e.data}}get value(){return this._def.value}}dg.create=(t,e)=>new dg({value:t,typeName:et.ZodLiteral,...ut(e)});function sD(t,e){return new Dl({values:t,typeName:et.ZodEnum,...ut(e)})}class Dl extends gt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Fe(r,{expected:Ht.joinValues(n),received:r.parsedType,code:Se.invalid_type}),at}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return Fe(r,{received:r.data,code:Se.invalid_enum_value,options:n}),at}return ki(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return Dl.create(e)}exclude(e){return Dl.create(this.options.filter(r=>!e.includes(r)))}}Dl.create=sD;class hg extends gt{_parse(e){const r=Ht.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ke.string&&n.parsedType!==ke.number){const i=Ht.objectValues(r);return Fe(n,{expected:Ht.joinValues(i),received:n.parsedType,code:Se.invalid_type}),at}if(r.indexOf(e.data)===-1){const i=Ht.objectValues(r);return Fe(n,{received:n.data,code:Se.invalid_enum_value,options:i}),at}return ki(e.data)}get enum(){return this._def.values}}hg.create=(t,e)=>new hg({values:t,typeName:et.ZodNativeEnum,...ut(e)});class vf extends gt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.promise&&r.common.async===!1)return Fe(r,{code:Se.invalid_type,expected:ke.promise,received:r.parsedType}),at;const n=r.parsedType===ke.promise?r.data:Promise.resolve(r.data);return ki(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}vf.create=(t,e)=>new vf({type:t,typeName:et.ZodPromise,...ut(e)});class Eo extends gt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Fe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){const o=a=>{const u=i.refinement(a,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?at:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?at:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ng(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ng(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);Ht.assertNever(i)}}Eo.create=(t,e,r)=>new Eo({schema:t,typeName:et.ZodEffects,effect:e,...ut(r)});Eo.createWithPreprocess=(t,e,r)=>new Eo({schema:e,effect:{type:"preprocess",transform:t},typeName:et.ZodEffects,...ut(r)});class tc extends gt{_parse(e){return this._getType(e)===ke.undefined?ki(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tc.create=(t,e)=>new tc({innerType:t,typeName:et.ZodOptional,...ut(e)});class ud extends gt{_parse(e){return this._getType(e)===ke.null?ki(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ud.create=(t,e)=>new ud({innerType:t,typeName:et.ZodNullable,...ut(e)});class fg extends gt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===ke.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}fg.create=(t,e)=>new fg({innerType:t,typeName:et.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ut(e)});class lw extends gt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return sw(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new wo(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new wo(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}lw.create=(t,e)=>new lw({innerType:t,typeName:et.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ut(e)});class uw extends gt{_parse(e){if(this._getType(e)!==ke.nan){const n=this._getOrReturnCtx(e);return Fe(n,{code:Se.invalid_type,expected:ke.nan,received:n.parsedType}),at}return{status:"valid",value:e.data}}}uw.create=t=>new uw({typeName:et.ZodNaN,...ut(t)});const bce=Symbol("zod_brand");class oD extends gt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class r0 extends gt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?at:s.status==="dirty"?(r.dirty(),iD(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?at:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new r0({in:e,out:r,typeName:et.ZodPipeline})}}class dw extends gt{_parse(e){const r=this._def.innerType._parse(e);return ng(r)&&(r.value=Object.freeze(r.value)),r}}dw.create=(t,e)=>new dw({innerType:t,typeName:et.ZodReadonly,...ut(e)});const aD=(t,e={},r)=>t?yf.create().superRefine((n,i)=>{var s,o;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:u})}}):yf.create(),Ece={object:Jr.lazycreate};var et;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(et||(et={}));const _ce=(t,e={message:`Input not instance of ${t.name}`})=>aD(r=>r instanceof t,e),cD=vo.create,lD=Ol.create,Ace=uw.create,Cce=kl.create,uD=ig.create,Sce=cd.create,Ice=ow.create,Tce=sg.create,xce=og.create,Nce=yf.create,Pce=zu.create,Rce=ac.create,Oce=aw.create,kce=bo.create,Dce=Jr.create,Mce=Jr.strictCreate,Lce=ag.create,Uce=lb.create,Fce=cg.create,$ce=pa.create,Bce=lg.create,jce=cw.create,Vce=ld.create,qce=Vh.create,zce=ug.create,Hce=dg.create,Wce=Dl.create,Kce=hg.create,Gce=vf.create,_6=Eo.create,Qce=tc.create,Yce=ud.create,Jce=Eo.createWithPreprocess,Zce=r0.create,Xce=()=>cD().optional(),ele=()=>lD().optional(),tle=()=>uD().optional(),rle={string:t=>vo.create({...t,coerce:!0}),number:t=>Ol.create({...t,coerce:!0}),boolean:t=>ig.create({...t,coerce:!0}),bigint:t=>kl.create({...t,coerce:!0}),date:t=>cd.create({...t,coerce:!0})},nle=at;var Q=Object.freeze({__proto__:null,defaultErrorMap:rg,setErrorMap:ace,getErrorMap:nw,makeIssue:iw,EMPTY_PATH:cce,addIssueToContext:Fe,ParseStatus:bi,INVALID:at,DIRTY:iD,OK:ki,isAborted:H2,isDirty:W2,isValid:ng,isAsync:sw,get util(){return Ht},get objectUtil(){return z2},ZodParsedType:ke,getParsedType:nl,ZodType:gt,ZodString:vo,ZodNumber:Ol,ZodBigInt:kl,ZodBoolean:ig,ZodDate:cd,ZodSymbol:ow,ZodUndefined:sg,ZodNull:og,ZodAny:yf,ZodUnknown:zu,ZodNever:ac,ZodVoid:aw,ZodArray:bo,ZodObject:Jr,ZodUnion:ag,ZodDiscriminatedUnion:lb,ZodIntersection:cg,ZodTuple:pa,ZodRecord:lg,ZodMap:cw,ZodSet:ld,ZodFunction:Vh,ZodLazy:ug,ZodLiteral:dg,ZodEnum:Dl,ZodNativeEnum:hg,ZodPromise:vf,ZodEffects:Eo,ZodTransformer:Eo,ZodOptional:tc,ZodNullable:ud,ZodDefault:fg,ZodCatch:lw,ZodNaN:uw,BRAND:bce,ZodBranded:oD,ZodPipeline:r0,ZodReadonly:dw,custom:aD,Schema:gt,ZodSchema:gt,late:Ece,get ZodFirstPartyTypeKind(){return et},coerce:rle,any:Nce,array:kce,bigint:Cce,boolean:uD,date:Sce,discriminatedUnion:Uce,effect:_6,enum:Wce,function:qce,instanceof:_ce,intersection:Fce,lazy:zce,literal:Hce,map:jce,nan:Ace,nativeEnum:Kce,never:Rce,null:xce,nullable:Yce,number:lD,object:Dce,oboolean:tle,onumber:ele,optional:Qce,ostring:Xce,pipeline:Zce,preprocess:Jce,promise:Gce,record:Bce,set:Vce,strictObject:Mce,string:cD,symbol:Ice,transformer:_6,tuple:$ce,undefined:Tce,union:Lce,unknown:Pce,void:Oce,NEVER:nle,ZodIssueCode:Se,quotelessJson:oce,ZodError:wo});const tn=Q.object({message:Q.string()});function Le(t){return Q.literal(Ve[t])}Q.object({accessList:Q.array(Q.string()),blockHash:Q.string().nullable(),blockNumber:Q.string().nullable(),chainId:Q.string().or(Q.number()),from:Q.string(),gas:Q.string(),hash:Q.string(),input:Q.string().nullable(),maxFeePerGas:Q.string(),maxPriorityFeePerGas:Q.string(),nonce:Q.string(),r:Q.string(),s:Q.string(),to:Q.string(),transactionIndex:Q.string().nullable(),type:Q.string(),v:Q.string(),value:Q.string()});const ile=Q.object({chainId:Q.string().or(Q.number())}),sle=Q.object({email:Q.string().email()}),ole=Q.object({otp:Q.string()}),ale=Q.object({uri:Q.string()}),cle=Q.object({chainId:Q.optional(Q.string().or(Q.number())),preferredAccountType:Q.optional(Q.string())}),lle=Q.object({provider:Q.enum(["google","github","apple","facebook","x","discord"])}),ule=Q.object({email:Q.string().email()}),dle=Q.object({otp:Q.string()}),hle=Q.object({otp:Q.string()}),fle=Q.object({themeMode:Q.optional(Q.enum(["light","dark"])),themeVariables:Q.optional(Q.record(Q.string(),Q.string().or(Q.number()))),w3mThemeVariables:Q.optional(Q.record(Q.string(),Q.string()))}),ple=Q.object({metadata:Q.object({name:Q.string(),description:Q.string(),url:Q.string(),icons:Q.array(Q.string())}).optional(),sdkVersion:Q.string().optional(),sdkType:Q.string().optional(),projectId:Q.string()}),mle=Q.object({type:Q.string()}),gle=Q.object({action:Q.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),yle=Q.object({url:Q.string()}),vle=Q.object({userName:Q.string()}),wle=Q.object({email:Q.string().optional().nullable(),address:Q.string(),chainId:Q.string().or(Q.number()),accounts:Q.array(Q.object({address:Q.string(),type:Q.enum([fn.ACCOUNT_TYPES.EOA,fn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:Q.string().optional().nullable()}),ble=Q.object({action:Q.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Ele=Q.object({email:Q.string().email().optional().nullable(),address:Q.string(),chainId:Q.string().or(Q.number()),smartAccountDeployed:Q.optional(Q.boolean()),accounts:Q.array(Q.object({address:Q.string(),type:Q.enum([fn.ACCOUNT_TYPES.EOA,fn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:Q.optional(Q.string())}),_le=Q.object({uri:Q.string()}),Ale=Q.object({isConnected:Q.boolean()}),Cle=Q.object({chainId:Q.string().or(Q.number())}),Sle=Q.object({chainId:Q.string().or(Q.number())}),Ile=Q.object({newEmail:Q.string().email()}),Tle=Q.object({smartAccountEnabledNetworks:Q.array(Q.number())});Q.object({address:Q.string(),isDeployed:Q.boolean()});const xle=Q.object({version:Q.string().optional()}),Nle=Q.object({type:Q.string(),address:Q.string()}),Ple=Q.any(),Rle=Q.object({method:Q.literal("eth_accounts")}),Ole=Q.object({method:Q.literal("eth_blockNumber")}),kle=Q.object({method:Q.literal("eth_call"),params:Q.array(Q.any())}),Dle=Q.object({method:Q.literal("eth_chainId")}),Mle=Q.object({method:Q.literal("eth_estimateGas"),params:Q.array(Q.any())}),Lle=Q.object({method:Q.literal("eth_feeHistory"),params:Q.array(Q.any())}),Ule=Q.object({method:Q.literal("eth_gasPrice")}),Fle=Q.object({method:Q.literal("eth_getAccount"),params:Q.array(Q.any())}),$le=Q.object({method:Q.literal("eth_getBalance"),params:Q.array(Q.any())}),Ble=Q.object({method:Q.literal("eth_getBlockByHash"),params:Q.array(Q.any())}),jle=Q.object({method:Q.literal("eth_getBlockByNumber"),params:Q.array(Q.any())}),Vle=Q.object({method:Q.literal("eth_getBlockReceipts"),params:Q.array(Q.any())}),qle=Q.object({method:Q.literal("eth_getBlockTransactionCountByHash"),params:Q.array(Q.any())}),zle=Q.object({method:Q.literal("eth_getBlockTransactionCountByNumber"),params:Q.array(Q.any())}),Hle=Q.object({method:Q.literal("eth_getCode"),params:Q.array(Q.any())}),Wle=Q.object({method:Q.literal("eth_getFilterChanges"),params:Q.array(Q.any())}),Kle=Q.object({method:Q.literal("eth_getFilterLogs"),params:Q.array(Q.any())}),Gle=Q.object({method:Q.literal("eth_getLogs"),params:Q.array(Q.any())}),Qle=Q.object({method:Q.literal("eth_getProof"),params:Q.array(Q.any())}),Yle=Q.object({method:Q.literal("eth_getStorageAt"),params:Q.array(Q.any())}),Jle=Q.object({method:Q.literal("eth_getTransactionByBlockHashAndIndex"),params:Q.array(Q.any())}),Zle=Q.object({method:Q.literal("eth_getTransactionByBlockNumberAndIndex"),params:Q.array(Q.any())}),Xle=Q.object({method:Q.literal("eth_getTransactionByHash"),params:Q.array(Q.any())}),eue=Q.object({method:Q.literal("eth_getTransactionCount"),params:Q.array(Q.any())}),tue=Q.object({method:Q.literal("eth_getTransactionReceipt"),params:Q.array(Q.any())}),rue=Q.object({method:Q.literal("eth_getUncleCountByBlockHash"),params:Q.array(Q.any())}),nue=Q.object({method:Q.literal("eth_getUncleCountByBlockNumber"),params:Q.array(Q.any())}),iue=Q.object({method:Q.literal("eth_maxPriorityFeePerGas")}),sue=Q.object({method:Q.literal("eth_newBlockFilter")}),oue=Q.object({method:Q.literal("eth_newFilter"),params:Q.array(Q.any())}),aue=Q.object({method:Q.literal("eth_newPendingTransactionFilter")}),cue=Q.object({method:Q.literal("eth_sendRawTransaction"),params:Q.array(Q.any())}),lue=Q.object({method:Q.literal("eth_syncing"),params:Q.array(Q.any())}),uue=Q.object({method:Q.literal("eth_uninstallFilter"),params:Q.array(Q.any())}),A6=Q.object({method:Q.literal("personal_sign"),params:Q.array(Q.any())}),due=Q.object({method:Q.literal("eth_signTypedData_v4"),params:Q.array(Q.any())}),hue=Q.object({method:Q.literal("eth_sendTransaction"),params:Q.array(Q.any())}),fue=Q.object({method:Q.literal("solana_signMessage"),params:Q.object({message:Q.string(),pubkey:Q.string()})}),pue=Q.object({method:Q.literal("solana_signTransaction"),params:Q.object({transaction:Q.string()})}),mue=Q.object({method:Q.literal("solana_signAllTransactions"),params:Q.object({transactions:Q.array(Q.string())})}),gue=Q.object({method:Q.literal("solana_signAndSendTransaction"),params:Q.object({transaction:Q.string(),options:Q.object({skipPreflight:Q.boolean().optional(),preflightCommitment:Q.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:Q.number().optional(),minContextSlot:Q.number().optional()}).optional()})}),yue=Q.object({method:Q.literal("wallet_sendCalls"),params:Q.array(Q.object({chainId:Q.string().or(Q.number()).optional(),from:Q.string().optional(),version:Q.string().optional(),capabilities:Q.any().optional(),calls:Q.array(Q.object({to:Q.string().startsWith("0x"),data:Q.string().startsWith("0x").optional(),value:Q.string().optional()}))}))}),vue=Q.object({method:Q.literal("wallet_getCallsStatus"),params:Q.array(Q.string())}),wue=Q.object({method:Q.literal("wallet_getCapabilities")}),bue=Q.object({method:Q.literal("wallet_grantPermissions"),params:Q.array(Q.any())}),Eue=Q.object({method:Q.literal("wallet_revokePermissions"),params:Q.any()}),_ue=Q.object({method:Q.literal("wallet_getAssets"),params:Q.any()}),C6=Q.object({token:Q.string()}),Ue=Q.object({id:Q.string().optional()}),Xp={appEvent:Ue.extend({type:Le("APP_SWITCH_NETWORK"),payload:ile}).or(Ue.extend({type:Le("APP_CONNECT_EMAIL"),payload:sle})).or(Ue.extend({type:Le("APP_CONNECT_DEVICE")})).or(Ue.extend({type:Le("APP_CONNECT_OTP"),payload:ole})).or(Ue.extend({type:Le("APP_CONNECT_SOCIAL"),payload:ale})).or(Ue.extend({type:Le("APP_GET_FARCASTER_URI")})).or(Ue.extend({type:Le("APP_CONNECT_FARCASTER")})).or(Ue.extend({type:Le("APP_GET_USER"),payload:Q.optional(cle)})).or(Ue.extend({type:Le("APP_GET_SOCIAL_REDIRECT_URI"),payload:lle})).or(Ue.extend({type:Le("APP_SIGN_OUT")})).or(Ue.extend({type:Le("APP_IS_CONNECTED"),payload:Q.optional(C6)})).or(Ue.extend({type:Le("APP_GET_CHAIN_ID")})).or(Ue.extend({type:Le("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Ue.extend({type:Le("APP_INIT_SMART_ACCOUNT")})).or(Ue.extend({type:Le("APP_SET_PREFERRED_ACCOUNT"),payload:mle})).or(Ue.extend({type:Le("APP_RPC_REQUEST"),payload:A6.or(_ue).or(Rle).or(Ole).or(kle).or(Dle).or(Mle).or(Lle).or(Ule).or(Fle).or($le).or(Ble).or(jle).or(Vle).or(qle).or(zle).or(Hle).or(Wle).or(Kle).or(Gle).or(Qle).or(Yle).or(Jle).or(Zle).or(Xle).or(eue).or(tue).or(rue).or(nue).or(iue).or(sue).or(oue).or(aue).or(cue).or(lue).or(uue).or(A6).or(due).or(hue).or(fue).or(pue).or(mue).or(gue).or(vue).or(yue).or(wue).or(bue).or(Eue)})).or(Ue.extend({type:Le("APP_UPDATE_EMAIL"),payload:ule})).or(Ue.extend({type:Le("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:dle})).or(Ue.extend({type:Le("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:hle})).or(Ue.extend({type:Le("APP_SYNC_THEME"),payload:fle})).or(Ue.extend({type:Le("APP_SYNC_DAPP_DATA"),payload:ple})).or(Ue.extend({type:Le("APP_RELOAD")})),frameEvent:Ue.extend({type:Le("FRAME_SWITCH_NETWORK_ERROR"),payload:tn}).or(Ue.extend({type:Le("FRAME_SWITCH_NETWORK_SUCCESS"),payload:Sle})).or(Ue.extend({type:Le("FRAME_CONNECT_EMAIL_SUCCESS"),payload:gle})).or(Ue.extend({type:Le("FRAME_CONNECT_EMAIL_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:yle})).or(Ue.extend({type:Le("FRAME_GET_FARCASTER_URI_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:vle})).or(Ue.extend({type:Le("FRAME_CONNECT_FARCASTER_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_CONNECT_OTP_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_CONNECT_OTP_SUCCESS")})).or(Ue.extend({type:Le("FRAME_CONNECT_DEVICE_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Ue.extend({type:Le("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:wle})).or(Ue.extend({type:Le("FRAME_CONNECT_SOCIAL_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_GET_USER_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_GET_USER_SUCCESS"),payload:Ele})).or(Ue.extend({type:Le("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:_le})).or(Ue.extend({type:Le("FRAME_SIGN_OUT_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_SIGN_OUT_SUCCESS")})).or(Ue.extend({type:Le("FRAME_IS_CONNECTED_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_IS_CONNECTED_SUCCESS"),payload:Ale})).or(Ue.extend({type:Le("FRAME_GET_CHAIN_ID_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Cle})).or(Ue.extend({type:Le("FRAME_RPC_REQUEST_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_RPC_REQUEST_SUCCESS"),payload:Ple})).or(Ue.extend({type:Le("FRAME_SESSION_UPDATE"),payload:C6})).or(Ue.extend({type:Le("FRAME_UPDATE_EMAIL_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_UPDATE_EMAIL_SUCCESS"),payload:ble})).or(Ue.extend({type:Le("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Ue.extend({type:Le("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Ile})).or(Ue.extend({type:Le("FRAME_SYNC_THEME_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_SYNC_THEME_SUCCESS")})).or(Ue.extend({type:Le("FRAME_SYNC_DAPP_DATA_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Ue.extend({type:Le("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Tle})).or(Ue.extend({type:Le("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Nle})).or(Ue.extend({type:Le("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_READY"),payload:xle})).or(Ue.extend({type:Le("FRAME_RELOAD_ERROR"),payload:tn})).or(Ue.extend({type:Le("FRAME_RELOAD_SUCCESS")}))};function J_(t,e={}){var r;return typeof(e==null?void 0:e.type)=="string"&&((r=e==null?void 0:e.type)==null?void 0:r.includes(t))}class Aue{constructor({projectId:e,isAppClient:r=!1,chainId:n="eip155:1",enableLogger:i=!0}){if(this.iframe=null,this.rpcUrl=Ee.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const s=document.getElementById("w3m-iframe");this.iframe&&!s&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(s,o,a)=>{function u({data:l}){if(!J_(Ve.FRAME_EVENT_KEY,l))return;const h=Xp.frameEvent.parse(l);h.id===s&&(o(h),window.removeEventListener("message",u))}ys.isClient&&(window.addEventListener("message",u),a.addEventListener("abort",()=>{window.removeEventListener("message",u)}))},onFrameEvent:s=>{ys.isClient&&window.addEventListener("message",({data:o})=>{if(!J_(Ve.FRAME_EVENT_KEY,o))return;const a=Xp.frameEvent.parse(o);s(a)})},onAppEvent:s=>{ys.isClient&&window.addEventListener("message",({data:o})=>{if(!J_(Ve.APP_EVENT_KEY,o))return;const a=Xp.appEvent.parse(o);s(a)})},postAppEvent:s=>{var o;if(ys.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");Xp.appEvent.parse(s),this.iframe.contentWindow.postMessage(s,"*")}},postFrameEvent:s=>{if(ys.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");Xp.frameEvent.parse(s),parent.postMessage(s,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),r&&(this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),ys.isClient)){const s=document.createElement("iframe");s.id="w3m-iframe",s.src=`${Bae}?projectId=${e}&chainId=${n}&version=${Vae}&enableLogger=${i}`,s.name="w3m-secure-iframe",s.style.position="fixed",s.style.zIndex="999999",s.style.display="none",s.style.animationDelay="0s, 50ms",s.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",s.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=s,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&((a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(r=>({[r]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${r}&projectId=${this.projectId}`,chainId:r}}));return Object.assign({},...e)}}class Cue{constructor(e){var s;const r=qf({level:jae}),{logger:n,chunkLoggerController:i}=yS({opts:r});this.logger=Ei(n,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&((s=this.chunkLoggerController)!=null&&s.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class Sue{constructor({projectId:e,chainId:r,enableLogger:n=!0,onTimeout:i}){this.openRpcRequests=[],n&&(this.w3mLogger=new Cue(e)),this.w3mFrame=new Aue({projectId:e,isAppClient:!0,chainId:r,enableLogger:n}),this.onTimeout=i,this.getLoginEmailUsed()&&this.w3mFrame.initFrame(),this.initPromise=new Promise(s=>{this.w3mFrame.events.onFrameEvent(o=>{o.type===Ve.FRAME_READY&&(this.initPromise=void 0,s())})})}async init(){this.w3mFrame.initFrame(),this.initPromise&&await this.initPromise}getLoginEmailUsed(){return!!Gn.get(Ve.EMAIL_LOGIN_USED_KEY)}getEmail(){return Gn.get(Ve.EMAIL)}getUsername(){return Gn.get(Ve.SOCIAL_USERNAME)}async reload(){var e;try{this.w3mFrame.initFrame(),await this.appEvent({type:Ve.APP_RELOAD})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error reloading iframe"),r}}async connectEmail(e){var r;try{ys.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();const n=await this.appEvent({type:Ve.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){var e;try{return this.appEvent({type:Ve.APP_CONNECT_DEVICE})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting device"),r}}async connectOtp(e){var r;try{return this.appEvent({type:Ve.APP_CONNECT_OTP,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const r=await this.appEvent({type:Ve.APP_IS_CONNECTED});return r.isConnected||this.deleteAuthLoginCache(),r}catch(r){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error checking connection"),r}}async getChainId(){var e;try{const r=await this.appEvent({type:Ve.APP_GET_CHAIN_ID});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting chain id"),r}}async getSocialRedirectUri(e){var r;try{return this.w3mFrame.initFrame(),this.appEvent({type:Ve.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(e){var r;try{const n=await this.appEvent({type:Ve.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(e){var r;try{return this.appEvent({type:Ve.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(e){var r;try{const n=await this.appEvent({type:Ve.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(n.newEmail),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(e){var r;try{return this.appEvent({type:Ve.APP_SYNC_THEME,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(e){var r;try{return this.appEvent({type:Ve.APP_SYNC_DAPP_DATA,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){var e;try{const r=await this.appEvent({type:Ve.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(r.smartAccountEnabledNetworks),r}catch(r){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting smart account enabled networks"),r}}async setPreferredAccount(e){var r;try{return this.appEvent({type:Ve.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error setting preferred account"),n}}async connect(e){var r;try{const n=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.appEvent({type:Ve.APP_GET_USER,payload:{...e,chainId:n}});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting"),n}}async getUser(e){var r;try{const n=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.appEvent({type:Ve.APP_GET_USER,payload:{...e,chainId:n}});return this.user=i,i}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting"),n}}async connectSocial(e){var r;try{this.w3mFrame.initFrame();const n=await this.appEvent({type:Ve.APP_CONNECT_SOCIAL,payload:{uri:e}});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting social"),n}}async getFarcasterUri(){var e;try{return this.w3mFrame.initFrame(),await this.appEvent({type:Ve.APP_GET_FARCASTER_URI})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting farcaster uri"),r}}async connectFarcaster(){var e;try{const r=await this.appEvent({type:Ve.APP_CONNECT_FARCASTER});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting farcaster"),r}}async switchNetwork(e){var r;try{const n=await this.appEvent({type:Ve.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error switching network"),n}}async disconnect(){var e;try{const r=await this.appEvent({type:Ve.APP_SIGN_OUT});return this.deleteAuthLoginCache(),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error disconnecting"),r}}async request(e){var r,n,i,s;try{if(fn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(r=this.rpcRequestHandler)==null||r.call(this,e);const o=await this.appEvent({type:Ve.APP_RPC_REQUEST,payload:e});return(n=this.rpcSuccessHandler)==null||n.call(this,o,e),o}catch(o){throw(i=this.rpcErrorHandler)==null||i.call(this,o,e),(s=this.w3mLogger)==null||s.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ve.FRAME_IS_CONNECTED_SUCCESS&&r.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ve.FRAME_IS_CONNECTED_ERROR&&e(),r.type===Ve.FRAME_IS_CONNECTED_SUCCESS&&!r.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ve.FRAME_GET_USER_SUCCESS&&e(r.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ve.FRAME_CONNECT_SOCIAL_SUCCESS&&e(r.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ve.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(r.payload):r.type===Ve.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:fn.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ve.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(r.payload.smartAccountEnabledNetworks):r.type===Ve.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:r,method:n})=>{fn.SAFE_RPC_METHODS.includes(n)||r.abort()}),this.openRpcRequests=[]}catch(r){(e=this.w3mLogger)==null||e.logger.error({error:r},"Error aborting RPC request")}}async appEvent(e){await this.w3mFrame.frameLoadPromise;let r;function n(a){return a.replace("@w3m-app/","")}const i=new AbortController,s=n(e.type);return[Ve.APP_CONNECT_EMAIL,Ve.APP_CONNECT_DEVICE,Ve.APP_CONNECT_OTP,Ve.APP_CONNECT_SOCIAL,Ve.APP_GET_SOCIAL_REDIRECT_URI].map(n).includes(s)&&(r=setTimeout(()=>{var a;(a=this.onTimeout)==null||a.call(this),i.abort()},3e4)),new Promise((a,u)=>{var f,m,g;const l=Math.random().toString(36).substring(7);if((g=(f=this.w3mLogger)==null?void 0:(m=f.logger).info)==null||g.call(m,{event:e,id:l},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:l}),s==="RPC_REQUEST"){const w=e;this.openRpcRequests=[...this.openRpcRequests,{...w.payload,abortController:i}]}i.signal.addEventListener("abort",()=>{s==="RPC_REQUEST"?u(new Error("Request was aborted")):s!=="GET_FARCASTER_URI"&&u(new Error("Something went wrong"))});function h(w,E){var C,N,D;w.id===l&&((N=E==null?void 0:(C=E.logger).info)==null||N.call(C,{framEvent:w,id:l},"Received frame response"),w.type===`@w3m-frame/${s}_SUCCESS`?(r&&clearTimeout(r),"payload"in w&&a(w.payload),a(void 0)):w.type===`@w3m-frame/${s}_ERROR`&&(r&&clearTimeout(r),"payload"in w&&u(new Error(((D=w.payload)==null?void 0:D.message)||"An error occurred")),u(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(l,w=>h(w,this.w3mLogger),i.signal)})}setNewLastEmailLoginTime(){Gn.set(Ve.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){Gn.set(Ve.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&Gn.set(Ve.EMAIL,e),Gn.set(Ve.EMAIL_LOGIN_USED_KEY,"true"),Gn.delete(Ve.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){Gn.delete(Ve.EMAIL_LOGIN_USED_KEY),Gn.delete(Ve.EMAIL),Gn.delete(Ve.LAST_USED_CHAIN_KEY),Gn.delete(Ve.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&Gn.set(Ve.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=Gn.get(Ve.LAST_USED_CHAIN_KEY)??void 0,r=Number(e);return isNaN(r)?e:r}persistSmartAccountEnabledNetworks(e){Gn.set(Ve.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class qh{constructor(){}static getInstance({projectId:e,chainId:r,enableLogger:n,onTimeout:i}){return qh.instance||(qh.instance=new Sue({projectId:e,chainId:r,enableLogger:n,onTimeout:i})),qh.instance}}var S6={};const Iue={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof S6<"u"?S6.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},G2={filterOutDuplicatesByRDNS(t){const e=_e.state.enableEIP6963?lt.state.connectors:[],r=Be.getRecentWallets(),n=e.map(a=>{var u;return(u=a.info)==null?void 0:u.rdns}).filter(Boolean),i=r.map(a=>a.rdns).filter(Boolean),s=n.concat(i);if(s.includes("io.metamask.mobile")&&it.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!s.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=lt.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),r=Be.getRecentWallets(),n=e.map(a=>a.explorerId),i=r.map(a=>a.id),s=n.concat(i);return t.filter(a=>!s.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=lt.state,r=e.filter(s=>s.type==="ANNOUNCED").reduce((s,o)=>{var a;return(a=o.info)!=null&&a.rdns&&(s[o.info.rdns]=!0),s},{});return t.map(s=>({...s,installed:!!s.rdns&&!!r[s.rdns??""]})).sort((s,o)=>Number(o.installed)-Number(s.installed))},getConnectOrderMethod(t,e){var u;const r=(t==null?void 0:t.connectMethodsOrder)||((u=_e.state.features)==null?void 0:u.connectMethodsOrder),n=e||lt.state.connectors;if(r)return r;const{injected:i,announced:s}=Ev.getConnectorsByType(n,mt.state.recommended,mt.state.featured),o=i.filter(Ev.showConnector),a=s.filter(Ev.showConnector);return o.length||a.length?["wallet","email","social"]:Iue.DEFAULT_CONNECT_METHOD_ORDER}},Ev={getConnectorsByType(t,e,r){const{customWallets:n}=_e.state,i=Be.getRecentWallets(),s=G2.filterOutDuplicateWallets(e),o=G2.filterOutDuplicateWallets(r),a=t.filter(f=>f.type==="MULTI_CHAIN"),u=t.filter(f=>f.type==="ANNOUNCED"),l=t.filter(f=>f.type==="INJECTED"),h=t.filter(f=>f.type==="EXTERNAL");return{custom:n,recent:i,external:h,multiChain:a,announced:u,injected:l,recommended:s,featured:o}},showConnector(t){var i;const e=(i=t.info)==null?void 0:i.rdns,r=!!e&&mt.state.excludedWallets.some(s=>s.rdns===e),n=!!t.name&&mt.state.excludedWallets.some(s=>tw.isLowerCaseMatch(s.name,t.name));return!(t.type==="INJECTED"&&(!it.isMobile()&&t.name==="Browser Wallet"||!e&&!Sr.checkInstalled()||r||n)||t.type==="ANNOUNCED"&&(r||n))},getIsConnectedWithWC(){return Array.from(ee.state.chains.values()).some(r=>lt.getConnectorId(r.namespace)===Ee.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:n,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:u=(l=>(l=_e.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const h=Ev.getIsConnectedWithWC(),g=[{type:"walletConnect",isEnabled:_e.state.enableWalletConnect&&!h},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(N=>N.isEnabled),w=new Set(g.map(N=>N.type)),E=u.filter(N=>w.has(N)).map(N=>({type:N,isEnabled:!0})),C=g.filter(({type:N})=>!E.some(({type:F})=>F===N));return Array.from(new Set([...E,...C].map(({type:N})=>N)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _v=globalThis,jS=_v.ShadowRoot&&(_v.ShadyCSS===void 0||_v.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,VS=Symbol(),I6=new WeakMap;let dD=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==VS)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(jS&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=I6.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&I6.set(r,e))}return e}toString(){return this.cssText}};const Ds=t=>new dD(typeof t=="string"?t:t+"",void 0,VS),zh=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new dD(r,t,VS)},Tue=(t,e)=>{if(jS)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const n=document.createElement("style"),i=_v.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},T6=jS?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return Ds(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:xue,defineProperty:Nue,getOwnPropertyDescriptor:Pue,getOwnPropertyNames:Rue,getOwnPropertySymbols:Oue,getPrototypeOf:kue}=Object,Al=globalThis,x6=Al.trustedTypes,Due=x6?x6.emptyScript:"",Z_=Al.reactiveElementPolyfillSupport,Em=(t,e)=>t,Q2={toAttribute(t,e){switch(e){case Boolean:t=t?Due:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},hD=(t,e)=>!xue(t,e),N6={attribute:!0,type:String,converter:Q2,reflect:!1,useDefault:!1,hasChanged:hD};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Al.litPropertyMetadata??(Al.litPropertyMetadata=new WeakMap);let Nh=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=N6){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&Nue(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){const{get:i,set:s}=Pue(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get:i,set(o){const a=i==null?void 0:i.call(this);s==null||s.call(this,o),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??N6}static _$Ei(){if(this.hasOwnProperty(Em("elementProperties")))return;const e=kue(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Em("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Em("properties"))){const r=this.properties,n=[...Rue(r),...Oue(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(T6(i))}else e!==void 0&&r.push(T6(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Tue(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostConnected)==null?void 0:n.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$ET(e,r){var s;const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(i!==void 0&&n.reflect===!0){const o=(((s=n.converter)==null?void 0:s.toAttribute)!==void 0?n.converter:Q2).toAttribute(r,n.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,r){var s,o;const n=this.constructor,i=n._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const a=n.getPropertyOptions(i),u=typeof a.converter=="function"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:Q2;this._$Em=i,this[i]=u.fromAttribute(r,a.type)??((o=this._$Ej)==null?void 0:o.get(i))??null,this._$Em=null}}requestUpdate(e,r,n){var i;if(e!==void 0){const s=this.constructor,o=this[e];if(n??(n=s.getPropertyOptions(e)),!((n.hasChanged??hD)(o,r)||n.useDefault&&n.reflect&&o===((i=this._$Ej)==null?void 0:i.get(e))&&!this.hasAttribute(s._$Eu(e,n))))return;this.C(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:n,reflect:i,wrapped:s},o){n&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??r??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(r=void 0),this._$AL.set(e,r)),i===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i){const{wrapped:a}=o,u=this[s];a!==!0||this._$AL.has(s)||u===void 0||this.C(s,void 0,o,u)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(n=this._$EO)==null||n.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(r)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(r)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach(n=>{var i;return(i=n.hostUpdated)==null?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(r=>this._$ET(r,this[r]))),this._$EM()}updated(e){}firstUpdated(e){}};Nh.elementStyles=[],Nh.shadowRootOptions={mode:"open"},Nh[Em("elementProperties")]=new Map,Nh[Em("finalized")]=new Map,Z_==null||Z_({ReactiveElement:Nh}),(Al.reactiveElementVersions??(Al.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _m=globalThis,hw=_m.trustedTypes,P6=hw?hw.createPolicy("lit-html",{createHTML:t=>t}):void 0,fD="$lit$",il=`lit$${Math.random().toFixed(9).slice(2)}$`,pD="?"+il,Mue=`<${pD}>`,dd=document,pg=()=>dd.createComment(""),mg=t=>t===null||typeof t!="object"&&typeof t!="function",qS=Array.isArray,Lue=t=>qS(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",X_=`[ 	
\f\r]`,em=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,R6=/-->/g,O6=/>/g,vu=RegExp(`>|${X_}(?:([^\\s"'>=/]+)(${X_}*=${X_}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),k6=/'/g,D6=/"/g,mD=/^(?:script|style|textarea|title)$/i,gD=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),Nye=gD(1),Pye=gD(2),wf=Symbol.for("lit-noChange"),Un=Symbol.for("lit-nothing"),M6=new WeakMap,Ou=dd.createTreeWalker(dd,129);function yD(t,e){if(!qS(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return P6!==void 0?P6.createHTML(e):e}const Uue=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=em;for(let a=0;a<r;a++){const u=t[a];let l,h,f=-1,m=0;for(;m<u.length&&(o.lastIndex=m,h=o.exec(u),h!==null);)m=o.lastIndex,o===em?h[1]==="!--"?o=R6:h[1]!==void 0?o=O6:h[2]!==void 0?(mD.test(h[2])&&(i=RegExp("</"+h[2],"g")),o=vu):h[3]!==void 0&&(o=vu):o===vu?h[0]===">"?(o=i??em,f=-1):h[1]===void 0?f=-2:(f=o.lastIndex-h[2].length,l=h[1],o=h[3]===void 0?vu:h[3]==='"'?D6:k6):o===D6||o===k6?o=vu:o===R6||o===O6?o=em:(o=vu,i=void 0);const g=o===vu&&t[a+1].startsWith("/>")?" ":"";s+=o===em?u+Mue:f>=0?(n.push(l),u.slice(0,f)+fD+u.slice(f)+il+g):u+il+(f===-2?a:g)}return[yD(t,s+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};let Y2=class vD{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,u=this.parts,[l,h]=Uue(e,r);if(this.el=vD.createElement(l,n),Ou.currentNode=this.el.content,r===2||r===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(i=Ou.nextNode())!==null&&u.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const f of i.getAttributeNames())if(f.endsWith(fD)){const m=h[o++],g=i.getAttribute(f).split(il),w=/([.?@])?(.*)/.exec(m);u.push({type:1,index:s,name:w[2],strings:g,ctor:w[1]==="."?$ue:w[1]==="?"?Bue:w[1]==="@"?jue:ub}),i.removeAttribute(f)}else f.startsWith(il)&&(u.push({type:6,index:s}),i.removeAttribute(f));if(mD.test(i.tagName)){const f=i.textContent.split(il),m=f.length-1;if(m>0){i.textContent=hw?hw.emptyScript:"";for(let g=0;g<m;g++)i.append(f[g],pg()),Ou.nextNode(),u.push({type:2,index:++s});i.append(f[m],pg())}}}else if(i.nodeType===8)if(i.data===pD)u.push({type:2,index:s});else{let f=-1;for(;(f=i.data.indexOf(il,f+1))!==-1;)u.push({type:7,index:s}),f+=il.length-1}s++}}static createElement(e,r){const n=dd.createElement("template");return n.innerHTML=e,n}};function bf(t,e,r=t,n){var o,a;if(e===wf)return e;let i=n!==void 0?(o=r._$Co)==null?void 0:o[n]:r._$Cl;const s=mg(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,r,n)),n!==void 0?(r._$Co??(r._$Co=[]))[n]=i:r._$Cl=i),i!==void 0&&(e=bf(t,i._$AS(t,e.values),i,n)),e}let Fue=class{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,i=((e==null?void 0:e.creationScope)??dd).importNode(r,!0);Ou.currentNode=i;let s=Ou.nextNode(),o=0,a=0,u=n[0];for(;u!==void 0;){if(o===u.index){let l;u.type===2?l=new n0(s,s.nextSibling,this,e):u.type===1?l=new u.ctor(s,u.name,u.strings,this,e):u.type===6&&(l=new Vue(s,this,e)),this._$AV.push(l),u=n[++a]}o!==(u==null?void 0:u.index)&&(s=Ou.nextNode(),o++)}return Ou.currentNode=dd,i}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}};class n0{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,r,n,i){this.type=2,this._$AH=Un,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=bf(this,e,r),mg(e)?e===Un||e==null||e===""?(this._$AH!==Un&&this._$AR(),this._$AH=Un):e!==this._$AH&&e!==wf&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Lue(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Un&&mg(this._$AH)?this._$AA.nextSibling.data=e:this.T(dd.createTextNode(e)),this._$AH=e}$(e){var s;const{values:r,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=Y2.createElement(yD(n.h,n.h[0]),this.options)),n);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(r);else{const o=new Fue(i,this),a=o.u(this.options);o.p(r),this.T(a),this._$AH=o}}_$AC(e){let r=M6.get(e.strings);return r===void 0&&M6.set(e.strings,r=new Y2(e)),r}k(e){qS(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new n0(this.O(pg()),this.O(pg()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}}class ub{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,s){this.type=1,this._$AH=Un,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Un}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=bf(this,e,r,0),o=!mg(e)||e!==this._$AH&&e!==wf,o&&(this._$AH=e);else{const a=e;let u,l;for(e=s[0],u=0;u<s.length-1;u++)l=bf(this,a[n+u],r,u),l===wf&&(l=this._$AH[u]),o||(o=!mg(l)||l!==this._$AH[u]),l===Un?e=Un:e!==Un&&(e+=(l??"")+s[u+1]),this._$AH[u]=l}o&&!i&&this.j(e)}j(e){e===Un?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class $ue extends ub{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Un?void 0:e}}class Bue extends ub{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Un)}}class jue extends ub{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){if((e=bf(this,e,r,0)??Un)===wf)return;const n=this._$AH,i=e===Un&&n!==Un||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==Un&&(n===Un||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,e):this._$AH.handleEvent(e)}}class Vue{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){bf(this,e)}}const eA=_m.litHtmlPolyfillSupport;eA==null||eA(Y2,n0),(_m.litHtmlVersions??(_m.litHtmlVersions=[])).push("3.3.0");const que=(t,e,r)=>{const n=(r==null?void 0:r.renderBefore)??e;let i=n._$litPart$;if(i===void 0){const s=(r==null?void 0:r.renderBefore)??null;n._$litPart$=i=new n0(e.insertBefore(pg(),s),s,void 0,r??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Hu=globalThis;class Av extends Nh{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const e=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=e.firstChild),e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=que(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return wf}}var AR;Av._$litElement$=!0,Av.finalized=!0,(AR=Hu.litElementHydrateSupport)==null||AR.call(Hu,{LitElement:Av});const tA=Hu.litElementPolyfillSupport;tA==null||tA({LitElement:Av});(Hu.litElementVersions??(Hu.litElementVersions=[])).push("4.2.0");let Am,Cl,Sl;function Oye(t,e){Am=document.createElement("style"),Cl=document.createElement("style"),Sl=document.createElement("style"),Am.textContent=Hh(t).core.cssText,Cl.textContent=Hh(t).dark.cssText,Sl.textContent=Hh(t).light.cssText,document.head.appendChild(Am),document.head.appendChild(Cl),document.head.appendChild(Sl),wD(e)}function wD(t){Cl&&Sl&&(t==="light"?(Cl.removeAttribute("media"),Sl.media="enabled"):(Sl.removeAttribute("media"),Cl.media="enabled"))}function zue(t){Am&&Cl&&Sl&&(Am.textContent=Hh(t).core.cssText,Cl.textContent=Hh(t).dark.cssText,Sl.textContent=Hh(t).light.cssText)}function Hh(t){return{core:zh`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Ds(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Ds((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Ds((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${Ds((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${Ds((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:zh`
      :root {
        --w3m-color-mix: ${Ds((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${Ds(Ya(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Ds(Ya(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:zh`
      :root {
        --w3m-color-mix: ${Ds((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${Ds(Ya(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Ds(Ya(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const kye=zh`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Dye=zh`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,Mye=zh`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Qy={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603},Hue=nS({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),bD=nS({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Wue=nS({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}});function i0(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const L6=i0({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),U6=i0({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});i0({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});i0({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});i0({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const Kue={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},db={getMethodsByChainNamespace(t){return Kue[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const r={...t},n=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>n.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>n.add(i)),e.events&&Object.keys(e.events).forEach(i=>n.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&n.add(s)}),n.forEach(i=>{r[i]||(r[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{r[i]&&(r[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{r[i]&&(r[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{r[i]&&(r[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,u]=s.split(":");!a||!u||!r[a]||(r[a].rpcMap||(r[a].rpcMap={}),i.has(a)||(r[a].rpcMap={},i.add(a)),r[a].rpcMap[u]=o)})}return r},createNamespaces(t,e){const r=t.reduce((n,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,u=a.default.http[0];n[o]||(n[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,h=n[o];switch(h.chains.push(l),l){case L6.caipNetworkId:h.chains.push(L6.deprecatedCaipNetworkId);break;case U6.caipNetworkId:h.chains.push(U6.deprecatedCaipNetworkId);break}return h!=null&&h.rpcMap&&u&&(h.rpcMap[s]=u),n},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{var n;const e=await tD.resolveName(t);return((n=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:n.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],n=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null}};class zS{constructor({provider:e,caipNetworks:r,namespace:n}){this.id=Ee.CONNECTOR_ID.WALLET_CONNECT,this.name=vl.ConnectorNamesMap[Ee.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=vl.ConnectorImageIds[Ee.CONNECTOR_ID.WALLET_CONNECT],this.caipNetworks=r,this.provider=e,this.chain=n}get chains(){return this.caipNetworks}async connectWalletConnect(){if(!await this.authenticate()){const r=_e.state.universalProviderConfigOverride,n=db.createNamespaces(this.caipNetworks,r);await this.provider.connect({optionalNamespaces:n})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return bm.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:Gue})}}const Gue=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class ED{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,e&&this.construct(e)}construct(e){this.caipNetworks=e.networks,this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.caipNetworks||[]}setAuthProvider(e){this.addConnector({id:Ee.CONNECTOR_ID.AUTH,type:"AUTH",name:Ee.CONNECTOR_NAMES.AUTH,provider:e,imageId:vl.ConnectorImageIds[Ee.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,r){We.setStatus(e,r)}on(e,r){var n;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(n=this.eventListeners.get(e))==null||n.add(r)}off(e,r){const n=this.eventListeners.get(e);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const n=this.eventListeners.get(e);n&&n.forEach(i=>i(r))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:r,providerType:n}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(n==="WALLET_CONNECT"){i.setDefaultChain(r.caipNetworkId);return}if(i&&n==="AUTH"){const s=i;await s.switchNetwork(r.caipNetworkId);const o=await s.getUser({chainId:r.caipNetworkId,preferredAccountType:_e.state.defaultAccountTypes[r.chainNamespace]});this.emit("switchNetwork",o)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r instanceof zS);if(!e)throw new Error("WalletConnectConnector not found");return e}}class Que extends ED{setUniversalProvider(e){this.addConnector(new zS({provider:e,caipNetworks:this.caipNetworks||[],namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var i,s,o,a;const r=this.provider,n=((a=(o=(s=(i=r==null?void 0:r.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(u=>{const[,,l]=u.split(":");return l}).filter((u,l,h)=>h.indexOf(u)===l))||[];return Promise.resolve({accounts:n.map(u=>it.createAccount(e,u,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var s,o,a,u,l;if(!(e.caipNetwork&&Cn.BALANCE_SUPPORTED_CHAINS.includes((s=e.caipNetwork)==null?void 0:s.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(We.state.balanceLoading&&e.chainId===((u=ee.state.activeCaipNetwork)==null?void 0:u.id))return{balance:We.state.balance||"0.00",symbol:We.state.balanceSymbol||""};const i=(await We.fetchTokenBalance()).find(h=>{var f,m;return h.chainId===`${(f=e.caipNetwork)==null?void 0:f.chainNamespace}:${e.chainId}`&&h.symbol===((m=e.caipNetwork)==null?void 0:m.nativeCurrency.symbol)});return{balance:(i==null?void 0:i.quantity.numeric)||"0.00",symbol:(i==null?void 0:i.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,u;const{provider:r,message:n,address:i}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return((o=ee.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===Ee.CHAIN.SOLANA?s=(await r.request({method:"solana_signMessage",params:{message:x9.encode(new TextEncoder().encode(n)),pubkey:i}},(a=ee.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:s=await r.request({method:"personal_sign",params:[n,i]},(u=ee.state.activeCaipNetwork)==null?void 0:u.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var i,s,o,a,u,l;const{caipNetwork:r}=e,n=this.getWalletConnectConnector();if(r.chainNamespace===Ee.CHAIN.EVM)try{await((i=n.provider)==null?void 0:i.request({method:"wallet_switchEthereumChain",params:[{chainId:sc(r.id)}]}))}catch(h){if(h.code===Qy.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||h.code===Qy.ERROR_INVALID_CHAIN_ID||h.code===Qy.ERROR_CODE_DEFAULT||((o=(s=h==null?void 0:h.data)==null?void 0:s.originalError)==null?void 0:o.code)===Qy.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=n.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:sc(r.id),rpcUrls:[(a=r==null?void 0:r.rpcUrls.chainDefault)==null?void 0:a.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[(u=r.blockExplorers)==null?void 0:u.default.url]}]}))}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(n=>n.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class Yue{constructor(e){var r;this.hasSwitchedToPreferredAccountTypeOnConnect=!1,this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=n=>{var i,s;if(n){const o=(i=ee.getNetworkData(n))==null?void 0:i.caipNetwork;return o||((s=ee.getRequestedCaipNetworks(n).filter(a=>a.chainNamespace===n))==null?void 0:s[0])}return ee.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>ee.getRequestedCaipNetworks(n),this.getActiveChainNamespace=()=>ee.state.activeChain,this.setRequestedCaipNetworks=(n,i)=>{ee.setRequestedCaipNetworks(n,i)},this.getApprovedCaipNetworkIds=()=>ee.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>ee.state.activeChain===n||!n?ee.state.activeCaipAddress:ee.getAccountProp("caipAddress",n),this.setClientId=n=>{tt.setClientId(n)},this.getProvider=n=>fr.getProvider(n),this.getProviderType=n=>fr.getProviderId(n),this.getPreferredAccountType=()=>We.state.preferredAccountType,this.setCaipAddress=(n,i)=>{We.setCaipAddress(n,i)},this.setBalance=(n,i,s)=>{We.setBalance(n,i,s)},this.setProfileName=(n,i)=>{We.setProfileName(n,i)},this.setProfileImage=(n,i)=>{We.setProfileImage(n,i)},this.setUser=(n,i)=>{We.setUser(n,i),_e.state.enableEmbedded&&pn.close()},this.resetAccount=n=>{We.resetAccount(n)},this.setCaipNetwork=n=>{ee.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,i)=>{ee.setChainNetworkData(i,{caipNetwork:n})},this.setAllAccounts=(n,i)=>{We.setAllAccounts(n,i),_e.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,i)=>{We.setStatus(n,i),lt.isConnected()?Be.setConnectionStatus("connected"):Be.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>ee.getAccountProp("address",n),this.setConnectors=n=>{const i=[...lt.getConnectors(),...n];lt.setConnectors(i)},this.fetchIdentity=n=>tt.fetchIdentity(n),this.getReownName=n=>tD.getNamesForAddress(n),this.getConnectors=()=>lt.getConnectors(),this.getConnectorImage=n=>UO.getConnectorImage(n),this.setConnectedWalletInfo=(n,i)=>{const s=fr.getProviderId(i),o=n?{...n,type:s}:void 0;We.setConnectedWalletInfo(o,i)},this.getIsConnectedState=()=>!!ee.state.activeCaipAddress,this.addAddressLabel=(n,i,s)=>{We.addAddressLabel(n,i,s)},this.removeAddressLabel=(n,i)=>{We.removeAddressLabel(n,i)},this.getAddress=n=>ee.state.activeChain===n||!n?We.state.address:ee.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>ee.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{ee.resetNetwork(n)},this.addConnector=n=>{lt.addConnector(n)},this.resetWcConnection=()=>{Sr.resetWcConnection()},this.setAddressExplorerUrl=(n,i)=>{We.setAddressExplorerUrl(n,i)},this.setSmartAccountDeployed=(n,i)=>{We.setSmartAccountDeployed(n,i)},this.setSmartAccountEnabledNetworks=(n,i)=>{ee.setSmartAccountEnabledNetworks(n,i)},this.setPreferredAccountType=(n,i)=>{We.setPreferredAccountType(n,i)},this.setEIP6963Enabled=n=>{_e.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=[...new Set((r=this.caipNetworks)==null?void 0:r.map(n=>n.chainNamespace))],this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e),this.sendInitializeEvent(e)}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),await this.syncExistingConnection(),ec.set({initialized:!0})}sendInitializeEvent(e){var n;const{...r}=e;delete r.adapters,Ir.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(i=>i.id),siweConfig:{options:((n=e.siweConfig)==null?void 0:n.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&pi.setThemeMode(e.themeMode),e.themeVariables&&pi.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");ee.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&ee.setActiveCaipNetwork(r)}initializeConnectionController(e){Sr.setWcBasic(e.basic??!1)}initializeConnectorController(){lt.initialize(this.chainNamespaces)}initializeOptionsController(e){var i;_e.setDebug(e.debug!==!1),_e.setEnableWalletConnect(e.enableWalletConnect!==!1),_e.setEnableWalletGuide(e.enableWalletGuide!==!1),_e.setEnableWallets(e.enableWallets!==!1),_e.setEIP6963Enabled(e.enableEIP6963!==!1),_e.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),_e.setEnableAuthLogger(e.enableAuthLogger!==!1),_e.setCustomRpcUrls(e.customRpcUrls),_e.setSdkVersion(e.sdkVersion),_e.setProjectId(e.projectId),_e.setEnableEmbedded(e.enableEmbedded),_e.setAllWallets(e.allWallets),_e.setIncludeWalletIds(e.includeWalletIds),_e.setExcludeWalletIds(e.excludeWalletIds),_e.setFeaturedWalletIds(e.featuredWalletIds),_e.setTokens(e.tokens),_e.setTermsConditionsUrl(e.termsConditionsUrl),_e.setPrivacyPolicyUrl(e.privacyPolicyUrl),_e.setCustomWallets(e.customWallets),_e.setFeatures(e.features),_e.setAllowUnsupportedChain(e.allowUnsupportedChain),_e.setDefaultAccountTypes(e.defaultAccountTypes),_e.setUniversalProviderConfigOverride(e.universalProviderConfigOverride);const r=this.getDefaultMetaData();if(!e.metadata&&r&&(e.metadata=r),_e.setMetadata(e.metadata),_e.setDisableAppend(e.disableAppend),_e.setEnableEmbedded(e.enableEmbedded),_e.setSIWX(e.siwx),!e.projectId){Bh.open(Uh.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((i=e.adapters)==null?void 0:i.find(s=>s.namespace===Ee.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");_e.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,r,n,i;return typeof window<"u"&&typeof document<"u"?{name:((r=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:r.textContent)||"",description:((n=document.querySelector('meta[property="og:description"]'))==null?void 0:n.content)||"",url:window.location.origin,icons:[((i=document.querySelector('link[rel~="icon"]'))==null?void 0:i.href)||""]}:null}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const n=ra.getUnsupportedNetwork(`${r}:${e}`);ee.setActiveCaipNetwork(n)}}getDefaultNetwork(){return ra.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return ra.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return ra.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(i=>{var s;return i.id===((s=e.defaultNetwork)==null?void 0:s.id)});return r?ra.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var s;const e=ee.state.activeChain,r=this.getAdapter(e),n=(s=this.getCaipNetwork(e))==null?void 0:s.id;if(!r)throw new Error("Adapter not found");const i=await r.connectWalletConnect(n);this.close(),this.setClientId((i==null?void 0:i.clientId)||null),Be.setConnectedNamespaces([...ee.state.chains.keys()]),this.chainNamespaces.forEach(o=>{lt.setConnectorId(Vr.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:r,type:n,provider:i,chain:s,caipNetwork:o})=>{var g,w,E,C,N,D,F;const a=ee.state.activeChain,u=s||a,l=this.getAdapter(u);if(s&&s!==a&&!o){const V=(g=this.caipNetworks)==null?void 0:g.find(q=>q.chainNamespace===s);V&&this.setCaipNetwork(V)}if(!l)throw new Error("Adapter not found");const h=this.getCaipNetwork(u),f=await l.connect({id:e,info:r,type:n,provider:i,chainId:(o==null?void 0:o.id)||(h==null?void 0:h.id),rpcUrl:((C=(E=(w=o==null?void 0:o.rpcUrls)==null?void 0:w.default)==null?void 0:E.http)==null?void 0:C[0])||((F=(D=(N=h==null?void 0:h.rpcUrls)==null?void 0:N.default)==null?void 0:D.http)==null?void 0:F[0])});if(!f)return;Be.addConnectedNamespace(u),this.syncProvider({...f,chainNamespace:u}),await this.syncAccount({...f,chainNamespace:u});const{accounts:m}=await l.getAccounts({namespace:u,id:e});this.setAllAccounts(m,u)},reconnectExternal:async({id:e,info:r,type:n,provider:i})=>{var a;const s=ee.state.activeChain,o=this.getAdapter(s);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:r,type:n,provider:i,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),Be.addConnectedNamespace(s))},disconnect:async e=>{const r=e||ee.state.activeChain,n=this.getAdapter(r),i=fr.getProvider(r),s=fr.getProviderId(r);await(n==null?void 0:n.disconnect({provider:i,providerType:s})),Be.removeConnectedNamespace(r),fr.resetChain(r),this.setUser(void 0,r),this.setStatus("disconnected",r),this.hasSwitchedToPreferredAccountTypeOnConnect=!1},checkInstalled:e=>e?e.some(r=>{var n;return!!((n=window.ethereum)!=null&&n[String(r)])}):!!window.ethereum,signMessage:async e=>{const r=this.getAdapter(ee.state.activeChain),n=await(r==null?void 0:r.signMessage({message:e,address:We.state.address,provider:fr.getProvider(ee.state.activeChain)}));return(n==null?void 0:n.signature)||""},sendTransaction:async e=>{if(e.chainNamespace===Ee.CHAIN.EVM){const r=this.getAdapter(ee.state.activeChain),n=fr.getProvider(ee.state.activeChain),i=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:n}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===Ee.CHAIN.EVM){const r=this.getAdapter(ee.state.activeChain),n=fr.getProvider(ee.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error("CaipNetwork is undefined");const s=await(r==null?void 0:r.estimateGas({...e,provider:n,caipNetwork:i}));return(s==null?void 0:s.gas)||0n}return 0n},getEnsAvatar:async()=>{var n;const e=this.getAdapter(ee.state.activeChain),r=await(e==null?void 0:e.getProfile({address:We.state.address,chainId:Number((n=this.getCaipNetwork())==null?void 0:n.id)}));return(r==null?void 0:r.profileImage)||!1},getEnsAddress:async e=>{const r=this.getAdapter(ee.state.activeChain),n=this.getCaipNetwork();if(!n)return!1;const i=await(r==null?void 0:r.getEnsAddress({name:e,caipNetwork:n}));return(i==null?void 0:i.address)||!1},writeContract:async e=>{const r=this.getAdapter(ee.state.activeChain),n=this.getCaipNetwork(),i=this.getCaipAddress(),s=fr.getProvider(ee.state.activeChain);if(!n||!i)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(r==null?void 0:r.writeContract({...e,caipNetwork:n,provider:s,caipAddress:i}));return o==null?void 0:o.hash},parseUnits:(e,r)=>{const n=this.getAdapter(ee.state.activeChain);return(n==null?void 0:n.parseUnits({value:e,decimals:r}))??0n},formatUnits:(e,r)=>{const n=this.getAdapter(ee.state.activeChain);return(n==null?void 0:n.formatUnits({value:e,decimals:r}))??"0"},getCapabilities:async e=>{const r=this.getAdapter(ee.state.activeChain);return await(r==null?void 0:r.getCapabilities(e))},grantPermissions:async e=>{const r=this.getAdapter(ee.state.activeChain);return await(r==null?void 0:r.grantPermissions(e))},revokePermissions:async e=>{const r=this.getAdapter(ee.state.activeChain);return r!=null&&r.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{const r=this.getAdapter(ee.state.activeChain);return await(r==null?void 0:r.walletGetAssets(e))??{}}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Sr.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var r,n,i,s,o;if(fr.getProviderId(ee.state.activeChain)===Vr.CONNECTOR_TYPE_WALLET_CONNECT){const a=(n=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:n.namespaces;return{supportsAllNetworks:((o=(s=(i=this.universalProvider)==null?void 0:i.session)==null?void 0:s.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=fr.getProvider(r),s=fr.getProviderId(r);if(e.chainNamespace===ee.state.activeChain){const o=this.getAdapter(r);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:i,providerType:s}))}else if(this.setCaipNetwork(e),s===Vr.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(r);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const n=r.chains||[],i=r.accounts.map(s=>{const{chainId:o,chainNamespace:a}=Wc.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...n,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{var s;const i=e==null?void 0:e.find(o=>o.namespace===n);return i?(r[n]=i,r[n].namespace=n,r[n].construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.caipNetworks})):r[n]=new Que({namespace:n,networks:this.caipNetworks}),r},{})}async initChainAdapter(e){var r;this.onConnectors(e),this.listenAdapter(e),(r=this.chainAdapters)==null||r[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const r=this.getAdapter(e);r==null||r.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const n=Be.getConnectionStatus();n==="connected"?this.setStatus("connecting",e):n==="disconnected"?(Be.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),r.on("switchNetwork",({address:i,chainId:s})=>{var l;const o=(l=this.caipNetworks)==null?void 0:l.find(h=>h.id===s||h.caipNetworkId===s),a=ee.state.activeChain===e,u=ee.getAccountProp("address",e);if(o){const h=a&&i?i:u;h&&this.syncAccount({address:h,chainId:s,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),r.on("disconnect",this.disconnect.bind(this,e)),r.on("pendingTransactions",()=>{const i=We.state.address,s=ee.state.activeCaipNetwork;!i||!(s!=null&&s.id)||this.updateNativeBalance(i,s.id,s.chainNamespace)}),r.on("accountChanged",({address:i,chainId:s})=>{var a,u;const o=ee.state.activeChain===e;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:e}):o&&((a=ee.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:i,chainId:(u=ee.state.activeCaipNetwork)==null?void 0:u.id,chainNamespace:e}):this.syncAccountInfo(i,s,e)})}async createUniversalProviderForAdapter(e){var r,n,i;await this.getUniversalProvider(),this.universalProvider&&((i=(n=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:n.setUniversalProvider)==null||i.call(n,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const r=lt.getConnectorId(e);switch(this.setStatus("connecting",e),r){case Ee.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Ee.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var o,a,u;const r=this.getAdapter(e),n=lt.getConnectorId(e),i=this.getCaipNetwork(e),s=lt.getConnectors(e).find(l=>l.id===n);try{if(!r||!s)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(i!=null&&i.id))throw new Error("CaipNetwork not found");const l=await(r==null?void 0:r.syncConnection({namespace:e,id:s.id,chainId:i.id,rpcUrl:(u=(a=(o=i==null?void 0:i.rpcUrls)==null?void 0:o.default)==null?void 0:a.http)==null?void 0:u[0]}));if(l){const h=await(r==null?void 0:r.getAccounts({namespace:e,id:s.id}));h&&h.accounts.length>0?this.setAllAccounts(h.accounts,e):this.setAllAccounts([it.createAccount(e,l.address,"eoa")],e),this.syncProvider({...l,chainNamespace:e}),await this.syncAccount({...l,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async r=>{var a,u,l,h,f;const n=this.getAdapter(r),i=((h=(l=(u=(a=this.universalProvider)==null?void 0:a.session)==null?void 0:u.namespaces)==null?void 0:l[r])==null?void 0:h.accounts)||[],s=(f=ee.state.activeCaipNetwork)==null?void 0:f.id,o=i.find(m=>{const{chainId:g}=Wc.parseCaipAddress(m);return g===(s==null?void 0:s.toString())})||i[0];if(o){const m=Wc.validateCaipAddress(o),{chainId:g,address:w}=Wc.parseCaipAddress(m);if(fr.setProviderId(r,Vr.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&ee.state.activeCaipNetwork&&(n==null?void 0:n.namespace)!==Ee.CHAIN.EVM){const E=n==null?void 0:n.getWalletConnectProvider({caipNetworks:this.caipNetworks,provider:this.universalProvider,activeCaipNetwork:ee.state.activeCaipNetwork});fr.setProvider(r,E)}else fr.setProvider(r,this.universalProvider);lt.setConnectorId(Ee.CONNECTOR_ID.WALLET_CONNECT,r),Be.addConnectedNamespace(r),this.syncWalletConnectAccounts(r),await this.syncAccount({address:w,chainId:g,chainNamespace:r})}else this.setStatus("disconnected",r);await ee.setApprovedCaipNetworksData(r)});await Promise.all(e)}syncWalletConnectAccounts(e){var n,i,s,o,a;const r=(a=(o=(s=(i=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(u=>{const{address:l}=Wc.parseCaipAddress(u);return l}).filter((u,l,h)=>h.indexOf(u)===l);r&&this.setAllAccounts(r.map(u=>it.createAccount(e,u,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:r,id:n,chainNamespace:i}){fr.setProviderId(i,e),fr.setProvider(i,r),lt.setConnectorId(n,i)}async syncAccount(e){var f,m,g,w,E,C;const r=e.chainNamespace===ee.state.activeChain,n=ee.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=Be.getActiveNetworkProps(),u=s||a,l=((f=ee.state.activeCaipNetwork)==null?void 0:f.name)===Ee.UNSUPPORTED_NETWORK_NAME,h=ee.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!h)&&u){let N=(m=this.caipNetworks)==null?void 0:m.find(V=>V.id.toString()===u.toString()),D=(g=this.caipNetworks)==null?void 0:g.find(V=>V.chainNamespace===o);if(!h&&!N&&!D){const V=this.getApprovedCaipNetworkIds()||[],q=V.find(U=>{var $;return(($=Wc.parseCaipNetworkId(U))==null?void 0:$.chainId)===u.toString()}),j=V.find(U=>{var $;return(($=Wc.parseCaipNetworkId(U))==null?void 0:$.chainNamespace)===o});N=(w=this.caipNetworks)==null?void 0:w.find(U=>U.caipNetworkId===q),D=(E=this.caipNetworks)==null?void 0:E.find(U=>U.caipNetworkId===j||"deprecatedCaipNetworkId"in U&&U.deprecatedCaipNetworkId===j)}const F=N||D;(F==null?void 0:F.chainNamespace)===ee.state.activeChain?_e.state.enableNetworkSwitch&&!_e.state.allowUnsupportedChain&&((C=ee.state.activeCaipNetwork)==null?void 0:C.name)===Ee.UNSUPPORTED_NETWORK_NAME?ee.showUnsupportedChainUI():this.setCaipNetwork(F):r||n&&this.setCaipNetworkOfNamespace(n,o),this.syncConnectedWalletInfo(o),tw.isLowerCaseMatch(i,We.state.address)||this.syncAccountInfo(i,F==null?void 0:F.id,o),r?await this.syncBalance({address:i,chainId:F==null?void 0:F.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:n==null?void 0:n.id,chainNamespace:o})}}async syncAccountInfo(e,r,n){const i=this.getCaipAddress(n),s=r||(i==null?void 0:i.split(":")[1]);if(!s)return;const o=`${n}:${s}:${e}`;this.setCaipAddress(o,n),await this.syncIdentity({address:e,chainId:s,chainNamespace:n})}async syncReownName(e,r){try{const n=await this.getReownName(e);if(n[0]){const i=n[0];this.setProfileName(i.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){var i;const r=lt.getConnectorId(e),n=fr.getProviderId(e);if(n===Vr.CONNECTOR_TYPE_ANNOUNCED||n===Vr.CONNECTOR_TYPE_INJECTED){if(r){const s=this.getConnectors().find(o=>o.id===r);if(s){const{info:o,name:a,imageUrl:u}=s,l=u||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(n===Vr.CONNECTOR_TYPE_WALLET_CONNECT){const s=fr.getProvider(e);s!=null&&s.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:(i=s.session.peer.metadata.icons)==null?void 0:i[0]},e)}else if(r)if(r===Ee.CONNECTOR_ID.COINBASE){const s=this.getConnectors().find(o=>o.id===Ee.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(s)},e)}else this.setConnectedWalletInfo({name:r},e)}async syncBalance(e){!Gm.getNetworksByNamespace(this.caipNetworks,e.chainNamespace).find(n=>{var i;return n.id.toString()===((i=e.chainId)==null?void 0:i.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,r,n){const i=this.getAdapter(n);if(i){const s=await i.getBalance({address:e,chainId:r,caipNetwork:this.getCaipNetwork(n),tokens:this.options.tokens});this.setBalance(s.balance,s.symbol,n)}}async initializeUniversalAdapter(){var n,i,s,o,a,u,l,h,f,m;const e=nce.createLogger((g,...w)=>{g&&this.handleAlertError(g),console.error(...w)}),r={projectId:(n=this.options)==null?void 0:n.projectId,metadata:{name:(i=this.options)!=null&&i.metadata?(s=this.options)==null?void 0:s.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(u=this.options)!=null&&u.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(h=this.options)!=null&&h.metadata?(f=this.options)==null?void 0:f.metadata.icons:[""]},logger:e};_e.setManualWCControl(!!((m=this.options)!=null&&m.manualWCControl)),this.universalProvider=this.options.universalProvider??await Fae.init(r),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{Sr.setUri(e)}),this.universalProvider.on("connect",Sr.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),Sr.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{var i;const r=(i=this.caipNetworks)==null?void 0:i.find(s=>s.id==e),n=this.getCaipNetwork();if(!r){this.setUnsupportedNetwork(e);return}(n==null?void 0:n.id)!==(r==null?void 0:r.id)&&this.setCaipNetwork(r)}),this.universalProvider.on("session_event",e=>{if(db.isSessionEventData(e)){const{name:r,data:n}=e.params.event;r==="accountsChanged"&&Array.isArray(n)&&it.isCaipAddress(n[0])&&this.syncAccount(Wc.parseCaipAddress(n[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&it.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Ir.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const r=Object.entries(Uh.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[n,i]=r??[],{message:s,alertErrorKey:o}=i??{};if(n&&s&&!this.reportedAlertErrors[n]){const a=Uh.ALERT_ERRORS[o];a&&(Bh.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){var r;if(e)return(r=this.chainAdapters)==null?void 0:r[e]}createAdapter(e){var i;if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const n=e;n.namespace=r,n.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.caipNetworks}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(e){await this.injectModalUi(),e!=null&&e.uri&&Sr.setUri(e.uri),await pn.open(e)}async close(){await this.injectModalUi(),pn.close()}setLoading(e,r){pn.setLoading(e,r)}async disconnect(e){await Sr.disconnect(e)}getError(){return""}getChainId(){var e;return(e=ee.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){var n;const r=(n=this.caipNetworks)==null?void 0:n.find(i=>i.id===e.id);if(!r){Bh.open(Uh.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await ee.switchActiveNetwork(r)}getWalletProvider(){return ee.state.activeChain?fr.state.providers[ee.state.activeChain]:null}getWalletProviderType(){return fr.getProviderId(ee.state.activeChain)}subscribeProviders(e){return fr.subscribeProviders(e)}getThemeMode(){return pi.state.themeMode}getThemeVariables(){return pi.state.themeVariables}setThemeMode(e){pi.setThemeMode(e),wD(pi.state.themeMode)}setTermsConditionsUrl(e){_e.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){_e.setPrivacyPolicyUrl(e)}setThemeVariables(e){pi.setThemeVariables(e),zue(pi.state.themeVariables)}subscribeTheme(e){return pi.subscribe(e)}getWalletInfo(){return We.state.connectedWalletInfo}getAccount(e){const r=lt.getAuthConnector(e),n=ee.getAccountData(e);if(n)return{allAccounts:n.allAccounts,caipAddress:n.caipAddress,address:it.getPlainAddress(n.caipAddress),isConnected:!!n.caipAddress,status:n.status,embeddedWalletInfo:r?{user:n.user,authProvider:n.socialProvider||"email",accountType:n.preferredAccountType,isSmartAccountDeployed:!!n.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const n=()=>{const i=this.getAccount(r);i&&e(i)};r?ee.subscribeChainProp("accountState",n,r):ee.subscribe(n),lt.subscribe(n)}subscribeNetwork(e){return ee.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r==null?void 0:r.id,caipNetworkId:r==null?void 0:r.caipNetworkId})})}subscribeWalletInfo(e){return We.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){We.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){ee.subscribeKey("activeCaipNetwork",e)}getState(){return ec.state}subscribeState(e){return ec.subscribe(e)}showErrorMessage(e){Jn.showError(e)}showSuccessMessage(e){Jn.showSuccess(e)}getEvent(){return{...Ir.state}}subscribeEvents(e){return Ir.subscribe(e)}replace(e){sr.replace(e)}redirect(e){sr.push(e)}popTransactionStack(e){sr.popTransactionStack(e)}isOpen(){return pn.state.open}isTransactionStackEmpty(){return sr.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=sr.state.transactionStack[sr.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){_e.setFeatures(e)}updateOptions(e){const n={..._e.state||{},...e};_e.setOptions(n)}setConnectMethodsOrder(e){_e.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){_e.setWalletFeaturesOrder(e)}setCollapseWallets(e){_e.setCollapseWallets(e)}setSocialsOrder(e){_e.setSocialsOrder(e)}getConnectMethodsOrder(){return G2.getConnectOrderMethod(_e.state.features,lt.getConnectors())}removeAdapter(e){var s;const r=this.getIsConnectedState(),n=this.getAdapter(e);if(!n||!this.chainAdapters||r)return;const i=(s=this.caipNetworks)==null?void 0:s.filter(o=>o.chainNamespace!==e);ee.removeAdapter(e),lt.removeAdapter(e),this.chainNamespaces=this.chainNamespaces.filter(o=>o!==e),this.caipNetworks=i,n.removeAllEventListeners(),Reflect.deleteProperty(this.chainAdapters,e)}addAdapter(e,r){const n=e.namespace;if(!this.connectionControllerClient||!this.networkControllerClient||!this.chainAdapters||!n)return;const i=this.extendCaipNetworks({...this.options,networks:r});this.caipNetworks=[...this.caipNetworks||[],...i],this.createAdapter(e),this.initChainAdapter(n),ee.addAdapter(e,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient},i)}addNetwork(e,r){var i;if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const n=this.extendCaipNetwork(r,this.options);ee.addNetwork(n),this.caipNetworks&&!((i=this.caipNetworks)!=null&&i.find(s=>s.id===n.id))&&this.caipNetworks.push(n)}removeNetwork(e,r){var s;if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);if(!((s=this.caipNetworks)==null?void 0:s.find(o=>o.id===r)))throw new Error(`Network with ID ${r} not found`);if(!this.caipNetworks)return;const i=this.caipNetworks.filter(o=>o.chainNamespace===e&&o.id!==r);if(!(i!=null&&i.length))throw new Error("Cannot remove last network for a namespace");ee.removeNetwork(e,r),this.caipNetworks=[...i]}}let F6=!1;class Jue extends Yue{setupAuthConnectorListeners(e){e.onRpcRequest(r=>{ys.checkIfRequestExists(r)?ys.checkIfRequestIsSafe(r)||this.handleUnsafeRPCRequest():(this.open(),console.error(fn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:r.method}),setTimeout(()=>{this.showErrorMessage(fn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack(!0))}),e.onRpcSuccess((r,n)=>{const i=ys.checkIfRequestIsSafe(n),s=We.state.address,o=ee.state.activeCaipNetwork;i||(this.isTransactionStackEmpty()?(this.close(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)):(this.popTransactionStack(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)))}),e.onNotConnected(()=>{const r=ee.state.activeChain;lt.getConnectorId(r)===Ee.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,r),this.setLoading(!1,r))}),e.onConnect(async r=>{var u;const n=ee.state.activeChain,i=n===Ee.CHAIN.EVM?`eip155:${r.chainId}:${r.address}`:`${r.chainId}:${r.address}`;this.setSmartAccountDeployed(!!r.smartAccountDeployed,n);const s=_e.state.defaultAccountTypes[n];if(!(!!r.preferredAccountType&&tw.isLowerCaseMatch(r.preferredAccountType,s))&&!this.hasSwitchedToPreferredAccountTypeOnConnect){this.hasSwitchedToPreferredAccountTypeOnConnect=!0;const{success:l}=await Sr.setPreferredAccountType(s).then(()=>({success:!1})).catch(h=>(console.error("setPreferredAccountType error:",h),{success:!1}));if(l)return}else this.hasSwitchedToPreferredAccountTypeOnConnect=!0;tw.isLowerCaseMatch(r.address,We.state.address)||this.syncIdentity({address:r.address,chainId:r.chainId,chainNamespace:n}),this.setCaipAddress(i,n),this.setUser({...We.state.user||{},email:r.email},n),this.setPreferredAccountType(r.preferredAccountType||s,n);const a=(u=r.accounts)==null?void 0:u.map(l=>it.createAccount(n,l.address,l.type||_e.state.defaultAccountTypes[n]));this.setAllAccounts(a||[it.createAccount(n,r.address,r.preferredAccountType||s)],n),await e.getSmartAccountEnabledNetworks(),this.setLoading(!1,n)}),e.onSocialConnected(({userName:r})=>{this.setUser({...We.state.user||{},username:r},ee.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(r=>{this.setSmartAccountEnabledNetworks(r,ee.state.activeChain)}),e.onSetPreferredAccount(({address:r,type:n})=>{r&&this.setPreferredAccountType(n,ee.state.activeChain)})}async syncAuthConnector(e,r){var h,f,m,g;const n=Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!n)return;this.setLoading(!0,r);const i=e.getLoginEmailUsed();this.setLoading(i,r),i&&this.setStatus("connecting",r);const s=e.getEmail(),o=e.getUsername();this.setUser({...((h=We.state)==null?void 0:h.user)||{},username:o,email:s},ee.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:a}=await e.isConnected(),u=pi.getSnapshot(),l=_e.getSnapshot();e.syncDappData({metadata:l.metadata,sdkVersion:l.sdkVersion,projectId:l.projectId,sdkType:l.sdkType}),e.syncTheme({themeMode:u.themeMode,themeVariables:u.themeVariables,w3mThemeVariables:Ya(u.themeVariables,u.themeMode)}),r&&n&&(a&&((f=this.connectionControllerClient)!=null&&f.connectExternal)?(await((g=this.connectionControllerClient)==null?void 0:g.connectExternal({id:Ee.CONNECTOR_ID.AUTH,info:{name:Ee.CONNECTOR_ID.AUTH},type:Vr.CONNECTOR_TYPE_AUTH,provider:e,chainId:(m=ee.state.activeCaipNetwork)==null?void 0:m.id,chain:r})),this.setStatus("connected",r)):lt.getConnectorId(r)===Ee.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",r),Be.removeConnectedNamespace(r))),this.setLoading(!1,r)}async checkExistingTelegramSocialConnection(e){var r;try{if(!it.isTelegram())return;const n=Be.getTelegramSocialProvider();if(!n||typeof window>"u"||typeof document>"u")return;const s=new URL(window.location.href).searchParams.get("result_uri");if(!s)return;We.setSocialProvider(n,e),await((r=this.authProvider)==null?void 0:r.init());const o=lt.getAuthConnector();n&&o&&(this.setLoading(!0,e),await o.provider.connectSocial(s),await Sr.connectExternal(o,o.chain),Be.setConnectedSocialProvider(n),Be.removeTelegramSocialProvider(),Ir.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n}}))}catch(n){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",n)}try{const n=new URL(window.location.href);n.searchParams.delete("result_uri"),window.history.replaceState({},document.title,n.toString())}catch(n){console.error("tma social login failed",n)}}createAuthProvider(e){var o,a,u,l,h,f,m,g,w,E,C;if(!Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const n=((a=(o=this.options)==null?void 0:o.features)==null?void 0:a.email)===void 0?Cn.DEFAULT_FEATURES.email:(l=(u=this.options)==null?void 0:u.features)==null?void 0:l.email,i=(f=(h=this.options)==null?void 0:h.features)!=null&&f.socials?((w=(g=(m=this.options)==null?void 0:m.features)==null?void 0:g.socials)==null?void 0:w.length)>0:Cn.DEFAULT_FEATURES.socials,s=n||i;!this.authProvider&&((E=this.options)!=null&&E.projectId)&&s&&(this.authProvider=qh.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(C=this.getCaipNetwork(e))==null?void 0:C.caipNetworkId,onTimeout:()=>{Bh.open(Uh.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}}),this.subscribeState(N=>{var D;N.open||(D=this.authProvider)==null||D.rejectRpcRequests()}),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var r,n,i;this.createAuthProvider(e),this.authProvider&&((i=(n=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:n.setAuthProvider)==null||i.call(n,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&mt.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var s,o;if(!e)return;const r=ee.state.activeChain,n=e.chainNamespace,i=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===ee.state.activeChain&&i){const a=this.getAdapter(n),u=fr.getProvider(n),l=fr.getProviderId(n);await(a==null?void 0:a.switchNetwork({caipNetwork:e,provider:u,providerType:l})),this.setCaipNetwork(e)}else{const u=fr.getProviderId(r)===Vr.CONNECTOR_TYPE_AUTH,l=fr.getProviderId(n),h=l===Vr.CONNECTOR_TYPE_AUTH,f=Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if((u||h)&&f)try{ee.state.activeChain=e.chainNamespace,await((o=(s=this.connectionControllerClient)==null?void 0:s.connectExternal)==null?void 0:o.call(s,{id:Ee.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:n,chainId:e.id,type:Vr.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const g=this.getAdapter(n);await(g==null?void 0:g.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:l}))}else l===Vr.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:n}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:r,chainNamespace:n}){var o;const i=`${n}:${r}`,s=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===i);if(n!==Ee.CHAIN.EVM||s!=null&&s.testnet){this.setProfileName(null,n),this.setProfileImage(null,n);return}try{const{name:a,avatar:u}=await this.fetchIdentity({address:e,caipNetworkId:i});if(this.setProfileName(a,n),this.setProfileImage(u,n),!a){const l=this.getAdapter(n),h=await(l==null?void 0:l.getProfile({address:e,chainId:Number(r)}));h!=null&&h.profileName?(this.setProfileName(h.profileName,n),h.profileImage&&this.setProfileImage(h.profileImage,n)):(await this.syncReownName(e,n),this.setProfileImage(null,n))}}catch{await this.syncReownName(e,n),r!==1&&this.setProfileImage(null,n)}}syncConnectedWalletInfo(e){const r=fr.getProviderId(e);if(r===Vr.CONNECTOR_TYPE_AUTH){const n=this.authProvider;if(n){const i=Be.getConnectedSocialProvider()??"email",s=n.getEmail()??n.getUsername();this.setConnectedWalletInfo({name:r,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!F6&&it.isClient()){const e={...Cn.DEFAULT_FEATURES,...this.options.features},r=[];if(e&&((e.email||e.socials&&e.socials.length)&&r.push(Ji(()=>import("./embedded-wallet-UMjxmK1P.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11,12]))),e.email&&r.push(Ji(()=>import("./email-DMPYznua.js"),__vite__mapDeps([13,4,12,8,11,7,14,9]))),e.socials&&r.push(Ji(()=>import("./socials-CiE3Yjax.js"),__vite__mapDeps([15,4,16,7,8,17,11,12,18,6,19]))),e.swaps&&r.push(Ji(()=>import("./swaps-Bh0zEFdn.js"),__vite__mapDeps([20,4,7,8,21,22,23,6,11,19,9]))),e.send&&r.push(Ji(()=>import("./send-uw3BM2M4.js"),__vite__mapDeps([24,4,7,8,11,12,23,6,9,25]))),e.receive&&r.push(Ji(()=>import("./receive-B8MOduo1.js"),__vite__mapDeps([26,4,27,6,18]))),e.onramp&&r.push(Ji(()=>import("./onramp-CugxnU8v.js"),__vite__mapDeps([28,4,29,19,11,6,8,30,16,7,12,9]))),e.history&&r.push(Ji(()=>import("./transactions-Css7ciIb.js"),__vite__mapDeps([31,4,32,29,19,11,12,6])))),await Promise.all([...r,Ji(()=>import("./index-Soek7O2e.js"),__vite__mapDeps([33,4,6,8,25,11,34,22,10,30,7,32,29,19,12,21,9,14,16,17,5,27,18])),Ji(()=>import("./w3m-modal-CXv8_2wn.js"),__vite__mapDeps([35,4,10,6,11,8,22,34]))]),!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!_e.state.disableAppend&&!_e.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}F6=!0}}}const Zue="1.7.2";let Wh;function Xue(t){return Wh||(Wh=new Jue({...t,sdkVersion:it.generateSdkVersion(t.adapters??[],"react",Zue)})),Wh}function ede(){const{caipNetwork:t,caipNetworkId:e,chainId:r}=ece();function n(i){Wh==null||Wh.switchNetwork(i)}return{caipNetwork:t,caipNetworkId:e,chainId:r,switchNetwork:n}}var tde="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const $6=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),B6=4;function rde(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let q=1;q<n;q++)s.push(i+=r());let o=r(),a=e;e+=o;let u=0,l=0;function h(){return u==0&&(l=l<<8|t[e++],u=8),l>>--u&1}const f=31,m=2**f,g=m>>>1,w=g>>1,E=m-1;let C=0;for(let q=0;q<f;q++)C=C<<1|h();let N=[],D=0,F=m;for(;;){let q=Math.floor(((C-D+1)*i-1)/F),j=0,U=n;for(;U-j>1;){let W=j+U>>>1;q<s[W]?U=W:j=W}if(j==0)break;N.push(j);let $=D+Math.floor(F*s[j]/i),k=D+Math.floor(F*s[j+1]/i)-1;for(;(($^k)&g)==0;)C=C<<1&E|h(),$=$<<1&E,k=k<<1&E|1;for(;$&~k&w;)C=C&g|C<<1&E>>>1|h(),$=$<<1^g,k=(k^g)<<1|g|1;D=$,F=1+k-$}let V=n-4;return N.map(q=>{switch(q-V){case 3:return V+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return V+256+(t[a++]<<8|t[a++]);case 1:return V+t[a++];default:return q-1}})}function nde(t){let e=0;return()=>t[e++]}function _D(t){return nde(rde(ide(t)))}function ide(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let r=t.length,n=new Uint8Array(6*r>>3);for(let i=0,s=0,o=0,a=0;i<r;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(n[s++]=a>>(o-=8));return n}function sde(t){return t&1?~t>>1:t>>1}function ode(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=sde(e());return r}function gg(t,e=0){let r=[];for(;;){let n=t(),i=t();if(!i)break;e+=n;for(let s=0;s<i;s++)r.push(e+s);e+=i+1}return r}function AD(t){return yg(()=>{let e=gg(t);if(e.length)return e})}function CD(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(ade(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(cde(r,t))}return e.flat()}function yg(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function SD(t,e,r){let n=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)ode(t,r).forEach((s,o)=>n[o].push(s));return n}function ade(t,e){let r=1+e(),n=e(),i=yg(e);return SD(i.length,1+t,e).flatMap((o,a)=>{let[u,...l]=o;return Array(i[a]).fill().map((h,f)=>{let m=f*n;return[u+f*r,l.map(g=>g+m)]})})}function cde(t,e){let r=1+e();return SD(r,1+t,e).map(i=>[i[0],i.slice(1)])}function lde(t){let e=[],r=gg(t);return i(n([]),[]),e;function n(s){let o=t(),a=yg(()=>{let u=gg(t).map(l=>r[l]);if(u.length)return n(u)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,u){if(!(s&4&&u===a[a.length-1])){s&2&&(u=a[a.length-1]),s&1&&e.push(a);for(let l of o)for(let h of l.Q)i(l,[...a,h],u)}}}function ude(t){return t.toString(16).toUpperCase().padStart(2,"0")}function ID(t){return`{${ude(t)}}`}function dde(t){let e=[];for(let r=0,n=t.length;r<n;){let i=t.codePointAt(r);r+=i<65536?1:2,e.push(i)}return e}function Ef(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let i=0;i<r;)n.push(String.fromCodePoint(...t.slice(i,i+=4096)));return n.join("")}function hde(t,e){let r=t.length,n=r-e.length;for(let i=0;n==0&&i<r;i++)n=t[i]-e[i];return n}var fde="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const vg=44032,fw=4352,pw=4449,mw=4519,TD=19,xD=21,_f=28,gw=xD*_f,pde=TD*gw,mde=vg+pde,gde=fw+TD,yde=pw+xD,vde=mw+_f;function lm(t){return t>>24&255}function ND(t){return t&16777215}let J2,j6,Z2,Cv;function wde(){let t=_D(fde);J2=new Map(AD(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),j6=new Set(gg(t)),Z2=new Map,Cv=new Map;for(let[e,r]of CD(t)){if(!j6.has(e)&&r.length==2){let[n,i]=r,s=Cv.get(n);s||(s=new Map,Cv.set(n,s)),s.set(i,e)}Z2.set(e,r.reverse())}}function PD(t){return t>=vg&&t<mde}function bde(t,e){if(t>=fw&&t<gde&&e>=pw&&e<yde)return vg+(t-fw)*gw+(e-pw)*_f;if(PD(t)&&e>mw&&e<vde&&(t-vg)%_f==0)return t+(e-mw);{let r=Cv.get(t);return r&&(r=r.get(e),r)?r:-1}}function RD(t){J2||wde();let e=[],r=[],n=!1;function i(s){let o=J2.get(s);o&&(n=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(PD(s)){let o=s-vg,a=o/gw|0,u=o%gw/_f|0,l=o%_f;i(fw+a),i(pw+u),l>0&&i(mw+l)}else{let o=Z2.get(s);o?r.push(...o):i(s)}if(!r.length)break;s=r.pop()}if(n&&e.length>1){let s=lm(e[0]);for(let o=1;o<e.length;o++){let a=lm(e[o]);if(a==0||s<=a){s=a;continue}let u=o-1;for(;;){let l=e[u+1];if(e[u+1]=e[u],e[u]=l,!u||(s=lm(e[--u]),s<=a))break}s=lm(e[o])}}return e}function Ede(t){let e=[],r=[],n=-1,i=0;for(let s of t){let o=lm(s),a=ND(s);if(n==-1)o==0?n=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(n,...r),r.length=0,n=a):r.push(a),i=o;else{let u=bde(n,a);u>=0?n=u:i==0&&o==0?(e.push(n),n=a):(r.push(a),i=o)}}return n>=0&&e.push(n,...r),e}function OD(t){return RD(t).map(ND)}function _de(t){return Ede(RD(t))}const V6=45,kD=".",DD=65039,MD=1,yw=t=>Array.from(t);function wg(t,e){return t.P.has(e)||t.Q.has(e)}class Ade extends Array{get is_emoji(){return!0}}let X2,LD,ku,eC,UD,Kh,rA,Ph,_u,q6,tC;function HS(){if(X2)return;let t=_D(tde);const e=()=>gg(t),r=()=>new Set(e()),n=(h,f)=>f.forEach(m=>h.add(m));X2=new Map(CD(t)),LD=r(),ku=e(),eC=new Set(e().map(h=>ku[h])),ku=new Set(ku),UD=r(),r();let i=AD(t),s=t();const o=()=>{let h=new Set;return e().forEach(f=>n(h,i[f])),n(h,e()),h};Kh=yg(h=>{let f=yg(t).map(m=>m+96);if(f.length){let m=h>=s;f[0]-=32,f=Ef(f),m&&(f=`Restricted[${f}]`);let g=o(),w=o(),E=!t();return{N:f,P:g,Q:w,M:E,R:m}}}),rA=r(),Ph=new Map;let a=e().concat(yw(rA)).sort((h,f)=>h-f);a.forEach((h,f)=>{let m=t(),g=a[f]=m?a[f-m]:{V:[],M:new Map};g.V.push(h),rA.has(h)||Ph.set(h,g)});for(let{V:h,M:f}of new Set(Ph.values())){let m=[];for(let w of h){let E=Kh.filter(N=>wg(N,w)),C=m.find(({G:N})=>E.some(D=>N.has(D)));C||(C={G:new Set,V:[]},m.push(C)),C.V.push(w),n(C.G,E)}let g=m.flatMap(w=>yw(w.G));for(let{G:w,V:E}of m){let C=new Set(g.filter(N=>!w.has(N)));for(let N of E)f.set(N,C)}}_u=new Set;let u=new Set;const l=h=>_u.has(h)?u.add(h):_u.add(h);for(let h of Kh){for(let f of h.P)l(f);for(let f of h.Q)l(f)}for(let h of _u)!Ph.has(h)&&!u.has(h)&&Ph.set(h,MD);n(_u,OD(_u)),q6=lde(t).map(h=>Ade.from(h)).sort(hde),tC=new Map;for(let h of q6){let f=[tC];for(let m of h){let g=f.map(w=>{let E=w.get(m);return E||(E=new Map,w.set(m,E)),E});m===DD?f.push(...g):f=g}for(let m of f)m.V=h}}function WS(t){return(FD(t)?"":`${KS(hb([t]))} `)+ID(t)}function KS(t){return`"${t}"`}function Cde(t){if(t.length>=4&&t[2]==V6&&t[3]==V6)throw new Error(`invalid label extension: "${Ef(t.slice(0,4))}"`)}function Sde(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function Ide(t){let e=t[0],r=$6.get(e);if(r)throw Cm(`leading ${r}`);let n=t.length,i=-1;for(let s=1;s<n;s++){e=t[s];let o=$6.get(e);if(o){if(i==s)throw Cm(`${r} + ${o}`);i=s+1,r=o}}if(i==n)throw Cm(`trailing ${r}`)}function hb(t,e=1/0,r=ID){let n=[];Tde(t[0])&&n.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];FD(a)&&(n.push(Ef(t.slice(i,o))),n.push(r(a)),i=o+1)}return n.push(Ef(t.slice(i,s))),n.join("")}function Tde(t,e){return HS(),ku.has(t)}function FD(t){return HS(),UD.has(t)}function xde(t){return Ode(Nde(t,_de,Mde))}function Nde(t,e,r){if(!t)return[];HS();let n=0;return t.split(kD).map(i=>{let s=dde(i),o={input:s,offset:n};n+=s.length+1;try{let a=o.tokens=Dde(s,e,r),u=a.length,l;if(!u)throw new Error("empty label");let h=o.output=a.flat();if(Sde(h),!(o.emoji=u>1||a[0].is_emoji)&&h.every(m=>m<128))Cde(h),l="ASCII";else{let m=a.flatMap(g=>g.is_emoji?[]:g);if(!m.length)l="Emoji";else{if(ku.has(h[0]))throw Cm("leading combining mark");for(let E=1;E<u;E++){let C=a[E];if(!C.is_emoji&&ku.has(C[0]))throw Cm(`emoji + combining mark: "${Ef(a[E-1])} + ${hb([C[0]])}"`)}Ide(h);let g=yw(new Set(m)),[w]=Rde(g);kde(w,m),Pde(w,g),l=w.N}}o.type=l}catch(a){o.error=a}return o})}function Pde(t,e){let r,n=[];for(let i of e){let s=Ph.get(i);if(s===MD)return;if(s){let o=s.M.get(i);if(r=r?r.filter(a=>o.has(a)):yw(o),!r.length)return}else n.push(i)}if(r){for(let i of r)if(n.every(s=>wg(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function Rde(t){let e=Kh;for(let r of t){let n=e.filter(i=>wg(i,r));if(!n.length)throw Kh.some(i=>wg(i,r))?BD(e[0],r):$D(r);if(e=n,n.length==1)break}return e}function Ode(t){return t.map(({input:e,error:r,output:n})=>{if(r){let i=r.message;throw new Error(t.length==1?i:`Invalid label ${KS(hb(e,63))}: ${i}`)}return Ef(n)}).join(kD)}function $D(t){return new Error(`disallowed character: ${WS(t)}`)}function BD(t,e){let r=WS(e),n=Kh.find(i=>i.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function Cm(t){return new Error(`illegal placement: ${t}`)}function kde(t,e){for(let r of e)if(!wg(t,r))throw BD(t,r);if(t.M){let r=OD(e);for(let n=1,i=r.length;n<i;n++)if(eC.has(r[n])){let s=n+1;for(let o;s<i&&eC.has(o=r[s]);s++)for(let a=n;a<s;a++)if(r[a]==o)throw new Error(`duplicate non-spacing marks: ${WS(o)}`);if(s-n>B6)throw new Error(`excessive non-spacing marks: ${KS(hb(r.slice(n-1,s)))} (${s-n}/${B6})`);n=s}}}function Dde(t,e,r){let n=[],i=[];for(t=t.slice().reverse();t.length;){let s=Lde(t);if(s)i.length&&(n.push(e(i)),i=[]),n.push(r(s));else{let o=t.pop();if(_u.has(o))i.push(o);else{let a=X2.get(o);if(a)i.push(...a);else if(!LD.has(o))throw $D(o)}}}return i.length&&n.push(e(i)),n}function Mde(t){return t.filter(e=>e!=DD)}function Lde(t,e){let r=tC,n,i=t.length;for(;i&&(r=r.get(t[--i]),!!r);){let{V:s}=r;s&&(n=s,t.length=i)}return n}function Ude(t){return xde(t)}function Fde(t){return Ude(t)}function $de(t){let e=[];function r(n){return Gm.parseEvmChainId(n)||1}return n=>({id:Ee.CONNECTOR_ID.AUTH,name:Ee.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:Ee.CHAIN.EVM,async connect(i={}){var f;const s=await this.getProvider();let o=i.chainId;if(i.isReconnecting){const m=Gm.parseEvmChainId(s.getLastUsedChainId()||""),g=(f=t.chains)==null?void 0:f[0].id;if(o=m||g,!o)throw new Error("ChainId not found in provider")}const{address:a,chainId:u,accounts:l}=await s.connect({chainId:o,preferredAccountType:_e.state.defaultAccountTypes.eip155});e=(l==null?void 0:l.map(m=>m.address))||[a],await s.getSmartAccountEnabledNetworks();const h=r(u);return{accounts:e,account:a,chainId:h,chain:{id:h,unsuported:!1}}},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(n.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=qh.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,onTimeout:()=>{Bh.open(Uh.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}})),Promise.resolve(this.provider)},async getChainId(){const i=await this.getProvider(),{chainId:s}=await i.getChainId();return r(s)},async isAuthorized(){const i=await this.getProvider();return Promise.resolve(i.getLoginEmailUsed())},async switchChain({chainId:i}){var s;try{const o=n.chains.find(l=>l.id===i);if(!o)throw new da(new Error("chain not found on connector."));const u=await(await this.getProvider()).connect({chainId:i,preferredAccountType:_e.state.defaultAccountTypes.eip155});return e=((s=u==null?void 0:u.accounts)==null?void 0:s.map(l=>l.address))||[u.address],n.emitter.emit("change",{chainId:Number(i),accounts:e}),o}catch(o){throw o instanceof Error?new da(o):o}},onAccountsChanged(i){i.length===0?this.onDisconnect():n.emitter.emit("change",{accounts:i.map(Tu)})},onChainChanged(i){const s=Number(i);n.emitter.emit("change",{chainId:s})},async onDisconnect(i){await(await this.getProvider()).disconnect()}})}GS.type="walletConnect";function GS(t,e,r){const n=t.isNewChainsStale??!0;let i,s,o,a,u,l,h;return f=>({id:"walletConnect",name:"WalletConnect",type:GS.type,async setup(){const m=await this.getProvider().catch(()=>null);m&&(a||(a=this.onConnect.bind(this),m.on("connect",a)),l||(l=this.onSessionDelete.bind(this),m.on("session_delete",l)))},async connect({...m}={}){try{const g=await this.getProvider();if(!g)throw new el;u||(u=this.onDisplayUri,g.on("display_uri",u));const w=await this.isChainsStale();g.session&&w&&await g.disconnect();const E=_e.state.universalProviderConfigOverride;if(!g.session||w){const F=db.createNamespaces(r,E);await g.connect({optionalNamespaces:F,..."pairingTopic"in m?{pairingTopic:m.pairingTopic}:{}}),this.setRequestedChainsIds(r.map(V=>Number(V.id)))}const C=await this.getAccounts(),N=await this.getChainId();u&&(g.removeListener("display_uri",u),u=void 0),a&&(g.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),g.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),g.on("chainChanged",o)),h||(h=this.onDisconnect.bind(this),g.on("disconnect",h)),l||(l=this.onSessionDelete.bind(this),g.on("session_delete",l));const D=E==null?void 0:E.defaultChain;return g.setDefaultChain(D??`eip155:${N}`),{accounts:C,chainId:N}}catch(g){throw/(user rejected|connection request reset)/i.test(g==null?void 0:g.message)?new bn(g):g}},async disconnect(){const m=await this.getProvider();try{await(m==null?void 0:m.disconnect())}catch(g){if(!/No matching key/i.test(g.message))throw g}finally{o&&(m==null||m.removeListener("chainChanged",o),o=void 0),h&&(m==null||m.removeListener("disconnect",h),h=void 0),a||(a=this.onConnect.bind(this),m==null||m.on("connect",a)),s&&(m==null||m.removeListener("accountsChanged",s),s=void 0),l&&(m==null||m.removeListener("session_delete",l),l=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var E,C,N;const m=await this.getProvider();if(!((E=m==null?void 0:m.session)!=null&&E.namespaces))return[];const g=(N=(C=m==null?void 0:m.session)==null?void 0:C.namespaces[Ee.CHAIN.EVM])==null?void 0:N.accounts;return(g==null?void 0:g.map(D=>D.split(":")[2]))??[]},async getProvider({chainId:m}={}){var E,C;i||(i=await e.getUniversalProvider(),i==null||i.events.setMaxListeners(Number.POSITIVE_INFINITY));const g=Be.getActiveNamespace(),w=(E=e.getCaipNetwork())==null?void 0:E.id;if(m&&w!==m&&g){const N=Be.getStoredActiveCaipNetworkId(),D=e==null?void 0:e.getCaipNetworks(g),F=D==null?void 0:D.find(V=>V.id===N);F&&F.chainNamespace===Ee.CHAIN.EVM&&await((C=this.switchChain)==null?void 0:C.call(this,{chainId:Number(F.id)}))}return i},async getChainId(){var C,N,D,F;const m=(C=e.getCaipNetwork(Ee.CHAIN.EVM))==null?void 0:C.id;if(m)return m;const w=(F=(D=(N=(await this.getProvider()).session)==null?void 0:N.namespaces[Ee.CHAIN.EVM])==null?void 0:D.chains)==null?void 0:F[0],E=r.find(V=>V.id===w);return E==null?void 0:E.id},async isAuthorized(){try{const[m,g]=await Promise.all([this.getAccounts(),this.getProvider()]);return m.length?await this.isChainsStale()&&g.session?(await g.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:m,chainId:g}){var C,N,D,F;const w=await this.getProvider();if(!w)throw new el;const E=r.find(V=>V.id===g);if(!E)throw new da(new zm);try{await w.request({method:"wallet_switchEthereumChain",params:[{chainId:Et(g)}]}),E!=null&&E.caipNetworkId&&w.setDefaultChain(E==null?void 0:E.caipNetworkId),f.emitter.emit("change",{chainId:Number(g)});const V=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...V,g]),{...E,id:E.id}}catch(V){const q=V;if(/(?:user rejected)/iu.test(q.message))throw new bn(q);try{let j;m!=null&&m.blockExplorerUrls?j=m.blockExplorerUrls:j=(C=E.blockExplorers)!=null&&C.default.url?[(N=E.blockExplorers)==null?void 0:N.default.url]:[];const U=((F=(D=E.rpcUrls)==null?void 0:D.chainDefault)==null?void 0:F.http)||[],$={blockExplorerUrls:j,chainId:Et(g),chainName:E.name,iconUrls:m==null?void 0:m.iconUrls,nativeCurrency:E.nativeCurrency,rpcUrls:U};await w.request({method:"wallet_addEthereumChain",params:[$]});const k=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...k,g]),{...E,id:E.id}}catch(j){throw new bn(j)}}},onAccountsChanged(m){m.length===0?this.onDisconnect():f.emitter.emit("change",{accounts:m.map(g=>Tu(g))})},onChainChanged(m){const g=Number(m);f.emitter.emit("change",{chainId:g})},onConnect(m){this.setRequestedChainsIds(r.map(g=>Number(g.id)))},async onDisconnect(m){this.setRequestedChainsIds([]),f.emitter.emit("disconnect");const g=await this.getProvider();s&&(g.removeListener("accountsChanged",s),s=void 0),o&&(g.removeListener("chainChanged",o),o=void 0),h&&(g.removeListener("disconnect",h),h=void 0),l&&(g.removeListener("session_delete",l),l=void 0),a||(a=this.onConnect.bind(this),g.on("connect",a))},onDisplayUri(m){f.emitter.emit("message",{type:"display_uri",data:m})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var w,E,C;if(!((w=i==null?void 0:i.session)!=null&&w.namespaces))return[];const m=(C=(E=i==null?void 0:i.session)==null?void 0:E.namespaces[Ee.CHAIN.EVM])==null?void 0:C.accounts;return(m==null?void 0:m.map(N=>Number.parseInt(N.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var g;const m=await((g=f.storage)==null?void 0:g.getItem(this.requestedChainsStorageKey))??[];return[...new Set(m)]},async isChainsStale(){if(!n)return!1;const m=f.chains.map(E=>E.id),g=this.getNamespaceChainsIds();if(g.length&&!g.some(E=>m.includes(E)))return!1;const w=await this.getRequestedChainsIds();return!m.every(E=>w.includes(Number(E)))},async setRequestedChainsIds(m){var g;await((g=f.storage)==null?void 0:g.setItem(this.requestedChainsStorageKey,m))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const tm=Kr({pendingTransactions:0}),z6={state:tm,subscribeKey(t,e){return ns(tm,t,e)},increase(t){tm[t]+=1},decrease(t){tm[t]-=1},reset(t){tm[t]=0}};function Bde(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}const jde={enable:!1,pollingInterval:3e4};class Vde extends ED{constructor(e){const r=ra.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super({projectId:e.projectId,networks:r,adapterType:Ee.ADAPTER_TYPES.WAGMI,namespace:Ee.CHAIN.EVM}),this.balancePromises={},this.pendingTransactionsFilter={...jde,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:r}),this.setupWatchers()}async getAccounts(e){var s;const r=this.getWagmiConnector(e.id);if(!r)return{accounts:[]};if(r.id===Ee.CONNECTOR_ID.AUTH){const o=r.provider,{address:a,accounts:u}=await o.connect({preferredAccountType:_e.state.defaultAccountTypes.eip155});return Promise.resolve({accounts:(u||[{address:a,type:"eoa"}]).map(l=>it.createAccount("eip155",l.address,l.type))})}const{addresses:n,address:i}=Hm(this.wagmiConfig);return Promise.resolve({accounts:(s=n||[i])==null?void 0:s.map(o=>it.createAccount("eip155",o||"","eoa"))})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(r=>r.id===e)}createConfig(e){this.caipNetworks=e.networks,this.wagmiChains=this.caipNetworks.filter(i=>i.chainNamespace===Ee.CHAIN.EVM);const r={},n=[...e.connectors??[]];this.wagmiChains.forEach(i=>{var a,u;const s=(a=e.transports)==null?void 0:a[i.id],o=ra.getCaipNetworkId(i);s?r[i.id]=ra.extendWagmiTransports(i,e.projectId,s):r[i.id]=ra.getViemTransport(i,e.projectId,(u=e.customRpcUrls)==null?void 0:u[o])}),this.wagmiConfig=Cq({...e,chains:this.wagmiChains,connectors:n,transports:r})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=rq(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),z6.increase("pendingTransactions")}});const e=z6.subscribeKey("pendingTransactions",r=>{var n;r>=Ee.LIMITS.PENDING_TRANSACTIONS&&((n=this.unwatchPendingTransactions)==null||n.call(this),e())})}setupWatchers(){gO(this.wagmiConfig,{onChange:(e,r)=>{e.status==="disconnected"&&r.address&&this.emit("disconnect"),e.status==="connected"&&((e.address!==(r==null?void 0:r.address)||r.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId})),e.chainId!==(r==null?void 0:r.chainId)&&this.emit("switchNetwork",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){var n,i;const r=[];if(e.enableCoinbase!==!1)try{const{coinbaseWallet:s}=await Ji(async()=>{const{coinbaseWallet:o}=await import("./index-qT7VP27k.js");return{coinbaseWallet:o}},[]);s&&r.push(s({version:"4",appName:((n=e.metadata)==null?void 0:n.name)??"Unknown",appLogoUrl:((i=e.metadata)==null?void 0:i.icons[0])??"Unknown",preference:e.coinbasePreference??"all"}))}catch(s){console.error("Failed to import Coinbase Wallet SDK:",s)}r.forEach(s=>{const o=this.wagmiConfig._internal.connectors.setup(s);this.wagmiConfig._internal.connectors.setState(a=>[...a,o])})}addWagmiConnectors(e,r){var o,a,u,l,h;const n=[];e.enableWalletConnect!==!1&&n.push(GS(e,r,this.caipNetworks)),e.enableInjected!==!1&&n.push(Hw({shimDisconnect:!0}));const i=((o=e.features)==null?void 0:o.email)===void 0?Cn.DEFAULT_FEATURES.email:(a=e.features)==null?void 0:a.email,s=(u=e.features)!=null&&u.socials?((h=(l=e.features)==null?void 0:l.socials)==null?void 0:h.length)>0:Cn.DEFAULT_FEATURES.socials;(i||s)&&n.push($de({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),n.forEach(f=>{const m=this.wagmiConfig._internal.connectors.setup(f);this.wagmiConfig._internal.connectors.setState(g=>[...g,m])})}async signMessage(e){try{return{signature:await JV(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:r}=Hm(this.wagmiConfig),n={account:e.address,to:e.to,value:e.value,gas:e.gas,gasPrice:e.gasPrice,data:e.data,chainId:r,type:"legacy",parameters:["nonce"]};await YV(this.wagmiConfig,n);const i=await mO(this.wagmiConfig,n);return await nq(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(e){var o;const{caipNetwork:r,...n}=e,i=Number(Gm.caipNetworkIdToNumber(r.caipNetworkId));return{hash:await iq(this.wagmiConfig,{chain:(o=this.wagmiChains)==null?void 0:o[i],chainId:i,address:n.tokenAddress,account:n.fromAddress,abi:n.abi,functionName:n.method,args:n.args,__mode:"prepared"})}}async getEnsAddress(e){const{name:r,caipNetwork:n}=e;try{if(!this.wagmiConfig)throw new Error("networkControllerClient:getApprovedCaipNetworksData - wagmiConfig is undefined");let i=!1,s=!1;return tH(r)&&(s=await db.resolveReownName(r)||!1),n.id===1&&(i=await WV(this.wagmiConfig,{name:Fde(r),chainId:n.id})),{address:i||s||!1}}catch{return{address:!1}}}async estimateGas(e){try{return{gas:await hO(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return UA(e.value,e.decimals)}formatUnits(e){return Mf(e.value,e.decimals)}async addWagmiConnector(e,r){var i;if(e.id===Ee.CONNECTOR_ID.AUTH||e.id===Ee.CONNECTOR_ID.WALLET_CONNECT)return;const n=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:vl.ConnectorExplorerIds[e.id],imageUrl:((i=r==null?void 0:r.connectorImages)==null?void 0:i[e.id])??e.icon,name:vl.ConnectorNamesMap[e.id]??e.name,imageId:vl.ConnectorImageIds[e.id],type:vl.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===Ee.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:n,chain:this.namespace,chains:[]})}async syncConnectors(e,r){tq(this.wagmiConfig,{onChange:n=>n.forEach(i=>this.addWagmiConnector(i,e))}),await Promise.all(this.wagmiConfig.connectors.map(n=>this.addWagmiConnector(n,e))),this.addWagmiConnectors(e,r),await this.addThirdPartyConnectors(e)}async syncConnection(e){const{id:r}=e,i=oh(this.wagmiConfig).find(a=>a.connector.id===r),s=this.getWagmiConnector(r),o=await(s==null?void 0:s.getProvider());return{chainId:Number(i==null?void 0:i.chainId),address:i==null?void 0:i.accounts[0],provider:o,type:i==null?void 0:i.connector.type,id:i==null?void 0:i.connector.id}}async connectWalletConnect(e){const r=this.getWalletConnectConnector();await r.authenticate();const n=this.getWagmiConnector("walletConnect");if(!n)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");return await Sx(this.wagmiConfig,{connector:n,chainId:e?Number(e):void 0}),{clientId:await r.provider.client.core.crypto.getClientId()}}async connect(e){var l;const{id:r,provider:n,type:i,info:s,chainId:o}=e,a=this.getWagmiConnector(r);if(!a)throw new Error("connectionControllerClient:connectExternal - connector is undefined");n&&s&&a.id===Ee.CONNECTOR_ID.EIP6963&&((l=a.setEip6963Wallet)==null||l.call(a,{provider:n,info:s}));const u=await Sx(this.wagmiConfig,{connector:a,chainId:o?Number(o):void 0});return{address:u.accounts[0],chainId:u.chainId,provider:n,type:i,id:r}}async reconnect(e){const{id:r}=e,n=this.getWagmiConnector(r);if(!n)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await pO(this.wagmiConfig,{connectors:[n]})}async getBalance(e){var i;const r=e.address,n=(i=this.caipNetworks)==null?void 0:i.find(s=>s.id===e.chainId);if(!r)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(n&&this.wagmiConfig){const s=`${n.caipNetworkId}:${e.address}`,o=this.balancePromises[s];if(o)return o;const a=Be.getNativeBalanceCacheForCaipAddress(s);return a?{balance:a.balance,symbol:a.symbol}:(this.balancePromises[s]=new Promise(async u=>{var f,m;const l=Number(e.chainId),h=await HV(this.wagmiConfig,{address:e.address,chainId:l,token:(m=(f=e.tokens)==null?void 0:f[n.caipNetworkId])==null?void 0:m.address});Be.updateNativeBalanceCache({caipAddress:s,balance:h.formatted,symbol:h.symbol,timestamp:Date.now()}),u({balance:h.formatted,symbol:h.symbol})}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}async getProfile(e){const r=e.chainId,n=await GV(this.wagmiConfig,{address:e.address,chainId:r});if(n){const i=await KV(this.wagmiConfig,{name:n,chainId:r});return{profileName:n,profileImage:i??void 0}}return{profileName:void 0,profileImage:void 0}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=oh(this.wagmiConfig);await Promise.all(e.map(async r=>{const n=this.getWagmiConnector(r.connector.id);n&&await jV(this.wagmiConfig,{connector:n})}))}async switchNetwork(e){await XV(this.wagmiConfig,{chainId:e.caipNetwork.id}),await super.switchNetwork(e)}async getCapabilities(e){var a,u;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const n=oh(this.wagmiConfig)[0],i=n?this.getWagmiConnector(n.connector.id):null;if(!i)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const o=(u=(a=s.session)==null?void 0:a.sessionProperties)==null?void 0:u.capabilities;if(o){const h=Bde(o)[e];if(h)return h}return await s.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const n=oh(this.wagmiConfig)[0],i=n?this.getWagmiConnector(n.connector.id):null;if(!i)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return s.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const n=oh(this.wagmiConfig)[0],i=n?this.getWagmiConnector(n.connector.id):null;if(!i)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return s.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const n=oh(this.wagmiConfig)[0],i=n?this.getWagmiConnector(n.connector.id):null;if(!i)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const s=await i.getProvider();if(!s)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return s.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){this.addConnector(new zS({provider:e,caipNetworks:this.caipNetworks||[],namespace:"eip155"}))}}const jD="a09de63b4763301a1d25ad20ea7889cb",qde={name:"Evervest",description:"AppKit Example",url:"https://reown.com",icons:["https://avatars.githubusercontent.com/u/179229932"]},Sm=[bD,Wue,Hue],QS=new Vde({projectId:jD,networks:Sm});QS.wagmiConfig;const zde=()=>{};var H6={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Hde=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],o=t[r++],a=t[r++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|l>>6,g=l&63;u||(g=64,o||(m=64)),n.push(r[h],r[f],r[m],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Hde(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const l=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new Wde;const m=s<<2|a>>4;if(n.push(m),l!==64){const g=a<<4&240|l>>2;if(n.push(g),f!==64){const w=l<<6&192|f;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Wde extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kde=function(t){const e=VD(t);return qD.encodeByteArray(e,!0)},vw=function(t){return Kde(t).replace(/\./g,"")},Gde=function(t){try{return qD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qde(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yde=()=>Qde().__FIREBASE_DEFAULTS__,Jde=()=>{if(typeof process>"u"||typeof H6>"u")return;const t=H6.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Zde=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gde(t[1]);return e&&JSON.parse(e)},YS=()=>{try{return zde()||Yde()||Jde()||Zde()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Xde=t=>{var e,r;return(r=(e=YS())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},ehe=t=>{const e=Xde(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},zD=()=>{var t;return(t=YS())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class the{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rhe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vw(JSON.stringify(r)),vw(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nhe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ihe(){var t;const e=(t=YS())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function she(){return!ihe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ohe(){try{return typeof indexedDB=="object"}catch{return!1}}function ahe(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const che="FirebaseError";class Gf extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=che,Object.setPrototypeOf(this,Gf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,HD.prototype.create)}}class HD{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?lhe(s,n):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Gf(i,a,n)}}function lhe(t,e){return t.replace(uhe,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const uhe=/\{\$([^}]+)}/g;function ww(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],o=e[i];if(W6(s)&&W6(o)){if(!ww(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function W6(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){return t&&t._delegate?t._delegate:t}class bg{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dhe{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new the;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fhe(e))try{this.getOrInitializeService({instanceIdentifier:Au})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Au){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Au){return this.instances.has(e)}getOptions(e=Au){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);n===a&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:hhe(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Au){return this.component?this.component.multipleInstances?e:Au:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hhe(t){return t===Au?void 0:t}function fhe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class phe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new dhe(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Mt||(Mt={}));const mhe={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},ghe=Mt.INFO,yhe={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},vhe=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=yhe[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class WD{constructor(e){this.name=e,this._logLevel=ghe,this._logHandler=vhe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mhe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const whe=(t,e)=>e.some(r=>t instanceof r);let K6,G6;function bhe(){return K6||(K6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ehe(){return G6||(G6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KD=new WeakMap,rC=new WeakMap,GD=new WeakMap,nA=new WeakMap,JS=new WeakMap;function _he(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(Il(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&KD.set(r,t)}).catch(()=>{}),JS.set(e,t),e}function Ahe(t){if(rC.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rC.set(t,e)}let nC={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return rC.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GD.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Il(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Che(t){nC=t(nC)}function She(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(iA(this),e,...r);return GD.set(n,e.sort?e.sort():[e]),Il(n)}:Ehe().includes(t)?function(...e){return t.apply(iA(this),e),Il(KD.get(this))}:function(...e){return Il(t.apply(iA(this),e))}}function Ihe(t){return typeof t=="function"?She(t):(t instanceof IDBTransaction&&Ahe(t),whe(t,bhe())?new Proxy(t,nC):t)}function Il(t){if(t instanceof IDBRequest)return _he(t);if(nA.has(t))return nA.get(t);const e=Ihe(t);return e!==t&&(nA.set(t,e),JS.set(e,t)),e}const iA=t=>JS.get(t);function The(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Il(o);return n&&o.addEventListener("upgradeneeded",u=>{n(Il(o.result),u.oldVersion,u.newVersion,Il(o.transaction),u)}),r&&o.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const xhe=["get","getKey","getAll","getAllKeys","count"],Nhe=["put","add","delete","clear"],sA=new Map;function Q6(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sA.get(e))return sA.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Nhe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||xhe.includes(r)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return n&&(l=l.index(a.shift())),(await Promise.all([l[r](...a),i&&u.done]))[0]};return sA.set(e,s),s}Che(t=>({...t,get:(e,r,n)=>Q6(e,r)||t.get(e,r,n),has:(e,r)=>!!Q6(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Phe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Rhe(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Rhe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iC="@firebase/app",Y6="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new WD("@firebase/app"),Ohe="@firebase/app-compat",khe="@firebase/analytics-compat",Dhe="@firebase/analytics",Mhe="@firebase/app-check-compat",Lhe="@firebase/app-check",Uhe="@firebase/auth",Fhe="@firebase/auth-compat",$he="@firebase/database",Bhe="@firebase/data-connect",jhe="@firebase/database-compat",Vhe="@firebase/functions",qhe="@firebase/functions-compat",zhe="@firebase/installations",Hhe="@firebase/installations-compat",Whe="@firebase/messaging",Khe="@firebase/messaging-compat",Ghe="@firebase/performance",Qhe="@firebase/performance-compat",Yhe="@firebase/remote-config",Jhe="@firebase/remote-config-compat",Zhe="@firebase/storage",Xhe="@firebase/storage-compat",efe="@firebase/firestore",tfe="@firebase/vertexai",rfe="@firebase/firestore-compat",nfe="firebase",ife="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="[DEFAULT]",sfe={[iC]:"fire-core",[Ohe]:"fire-core-compat",[Dhe]:"fire-analytics",[khe]:"fire-analytics-compat",[Lhe]:"fire-app-check",[Mhe]:"fire-app-check-compat",[Uhe]:"fire-auth",[Fhe]:"fire-auth-compat",[$he]:"fire-rtdb",[Bhe]:"fire-data-connect",[jhe]:"fire-rtdb-compat",[Vhe]:"fire-fn",[qhe]:"fire-fn-compat",[zhe]:"fire-iid",[Hhe]:"fire-iid-compat",[Whe]:"fire-fcm",[Khe]:"fire-fcm-compat",[Ghe]:"fire-perf",[Qhe]:"fire-perf-compat",[Yhe]:"fire-rc",[Jhe]:"fire-rc-compat",[Zhe]:"fire-gcs",[Xhe]:"fire-gcs-compat",[efe]:"fire-fst",[rfe]:"fire-fst-compat",[tfe]:"fire-vertex","fire-js":"fire-js",[nfe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new Map,ofe=new Map,oC=new Map;function J6(t,e){try{t.container.addComponent(e)}catch(r){cc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ew(t){const e=t.name;if(oC.has(e))return cc.debug(`There were multiple attempts to register component ${e}.`),!1;oC.set(e,t);for(const r of bw.values())J6(r,t);for(const r of ofe.values())J6(r,t);return!0}function afe(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function cfe(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lfe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tl=new HD("app","Firebase",lfe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ufe{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new bg("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dfe=ife;function QD(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:sC,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Tl.create("bad-app-name",{appName:String(i)});if(r||(r=zD()),!r)throw Tl.create("no-options");const s=bw.get(i);if(s){if(ww(r,s.options)&&ww(n,s.config))return s;throw Tl.create("duplicate-app",{appName:i})}const o=new phe(i);for(const u of oC.values())o.addComponent(u);const a=new ufe(r,n,o);return bw.set(i,a),a}function hfe(t=sC){const e=bw.get(t);if(!e&&t===sC&&zD())return QD();if(!e)throw Tl.create("no-app",{appName:t});return e}function Gh(t,e,r){var n;let i=(n=sfe[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cc.warn(a.join(" "));return}Ew(new bg(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ffe="firebase-heartbeat-database",pfe=1,Eg="firebase-heartbeat-store";let oA=null;function YD(){return oA||(oA=The(ffe,pfe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Eg)}catch(r){console.warn(r)}}}}).catch(t=>{throw Tl.create("idb-open",{originalErrorMessage:t.message})})),oA}async function mfe(t){try{const r=(await YD()).transaction(Eg),n=await r.objectStore(Eg).get(JD(t));return await r.done,n}catch(e){if(e instanceof Gf)cc.warn(e.message);else{const r=Tl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cc.warn(r.message)}}}async function Z6(t,e){try{const n=(await YD()).transaction(Eg,"readwrite");await n.objectStore(Eg).put(e,JD(t)),await n.done}catch(r){if(r instanceof Gf)cc.warn(r.message);else{const n=Tl.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});cc.warn(n.message)}}}function JD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gfe=1024,yfe=30;class vfe{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new bfe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=X6();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>yfe){const o=Efe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){cc.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=X6(),{heartbeatsToSend:n,unsentEntries:i}=wfe(this._heartbeatsCache.heartbeats),s=vw(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return cc.warn(r),""}}}function X6(){return new Date().toISOString().substring(0,10)}function wfe(t,e=gfe){const r=[];let n=t.slice();for(const i of t){const s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),e4(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),e4(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class bfe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ohe()?ahe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await mfe(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Z6(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Z6(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function e4(t){return vw(JSON.stringify({version:2,heartbeats:t})).length}function Efe(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fe(t){Ew(new bg("platform-logger",e=>new Phe(e),"PRIVATE")),Ew(new bg("heartbeat",e=>new vfe(e),"PRIVATE")),Gh(iC,Y6,t),Gh(iC,Y6,"esm2017"),Gh("fire-js","")}_fe("");var Afe="firebase",Cfe="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gh(Afe,Cfe,"app");var t4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xl,ZD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,$){function k(){}k.prototype=$.prototype,U.D=$.prototype,U.prototype=new k,U.prototype.constructor=U,U.C=function(W,x,v){for(var _=Array(arguments.length-2),T=2;T<arguments.length;T++)_[T-2]=arguments[T];return $.prototype[x].apply(W,_)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(U,$,k){k||(k=0);var W=Array(16);if(typeof $=="string")for(var x=0;16>x;++x)W[x]=$.charCodeAt(k++)|$.charCodeAt(k++)<<8|$.charCodeAt(k++)<<16|$.charCodeAt(k++)<<24;else for(x=0;16>x;++x)W[x]=$[k++]|$[k++]<<8|$[k++]<<16|$[k++]<<24;$=U.g[0],k=U.g[1],x=U.g[2];var v=U.g[3],_=$+(v^k&(x^v))+W[0]+3614090360&4294967295;$=k+(_<<7&4294967295|_>>>25),_=v+(x^$&(k^x))+W[1]+3905402710&4294967295,v=$+(_<<12&4294967295|_>>>20),_=x+(k^v&($^k))+W[2]+606105819&4294967295,x=v+(_<<17&4294967295|_>>>15),_=k+($^x&(v^$))+W[3]+3250441966&4294967295,k=x+(_<<22&4294967295|_>>>10),_=$+(v^k&(x^v))+W[4]+4118548399&4294967295,$=k+(_<<7&4294967295|_>>>25),_=v+(x^$&(k^x))+W[5]+1200080426&4294967295,v=$+(_<<12&4294967295|_>>>20),_=x+(k^v&($^k))+W[6]+2821735955&4294967295,x=v+(_<<17&4294967295|_>>>15),_=k+($^x&(v^$))+W[7]+4249261313&4294967295,k=x+(_<<22&4294967295|_>>>10),_=$+(v^k&(x^v))+W[8]+1770035416&4294967295,$=k+(_<<7&4294967295|_>>>25),_=v+(x^$&(k^x))+W[9]+2336552879&4294967295,v=$+(_<<12&4294967295|_>>>20),_=x+(k^v&($^k))+W[10]+4294925233&4294967295,x=v+(_<<17&4294967295|_>>>15),_=k+($^x&(v^$))+W[11]+2304563134&4294967295,k=x+(_<<22&4294967295|_>>>10),_=$+(v^k&(x^v))+W[12]+1804603682&4294967295,$=k+(_<<7&4294967295|_>>>25),_=v+(x^$&(k^x))+W[13]+4254626195&4294967295,v=$+(_<<12&4294967295|_>>>20),_=x+(k^v&($^k))+W[14]+2792965006&4294967295,x=v+(_<<17&4294967295|_>>>15),_=k+($^x&(v^$))+W[15]+1236535329&4294967295,k=x+(_<<22&4294967295|_>>>10),_=$+(x^v&(k^x))+W[1]+4129170786&4294967295,$=k+(_<<5&4294967295|_>>>27),_=v+(k^x&($^k))+W[6]+3225465664&4294967295,v=$+(_<<9&4294967295|_>>>23),_=x+($^k&(v^$))+W[11]+643717713&4294967295,x=v+(_<<14&4294967295|_>>>18),_=k+(v^$&(x^v))+W[0]+3921069994&4294967295,k=x+(_<<20&4294967295|_>>>12),_=$+(x^v&(k^x))+W[5]+3593408605&4294967295,$=k+(_<<5&4294967295|_>>>27),_=v+(k^x&($^k))+W[10]+38016083&4294967295,v=$+(_<<9&4294967295|_>>>23),_=x+($^k&(v^$))+W[15]+3634488961&4294967295,x=v+(_<<14&4294967295|_>>>18),_=k+(v^$&(x^v))+W[4]+3889429448&4294967295,k=x+(_<<20&4294967295|_>>>12),_=$+(x^v&(k^x))+W[9]+568446438&4294967295,$=k+(_<<5&4294967295|_>>>27),_=v+(k^x&($^k))+W[14]+3275163606&4294967295,v=$+(_<<9&4294967295|_>>>23),_=x+($^k&(v^$))+W[3]+4107603335&4294967295,x=v+(_<<14&4294967295|_>>>18),_=k+(v^$&(x^v))+W[8]+1163531501&4294967295,k=x+(_<<20&4294967295|_>>>12),_=$+(x^v&(k^x))+W[13]+2850285829&4294967295,$=k+(_<<5&4294967295|_>>>27),_=v+(k^x&($^k))+W[2]+4243563512&4294967295,v=$+(_<<9&4294967295|_>>>23),_=x+($^k&(v^$))+W[7]+1735328473&4294967295,x=v+(_<<14&4294967295|_>>>18),_=k+(v^$&(x^v))+W[12]+2368359562&4294967295,k=x+(_<<20&4294967295|_>>>12),_=$+(k^x^v)+W[5]+4294588738&4294967295,$=k+(_<<4&4294967295|_>>>28),_=v+($^k^x)+W[8]+2272392833&4294967295,v=$+(_<<11&4294967295|_>>>21),_=x+(v^$^k)+W[11]+1839030562&4294967295,x=v+(_<<16&4294967295|_>>>16),_=k+(x^v^$)+W[14]+4259657740&4294967295,k=x+(_<<23&4294967295|_>>>9),_=$+(k^x^v)+W[1]+2763975236&4294967295,$=k+(_<<4&4294967295|_>>>28),_=v+($^k^x)+W[4]+1272893353&4294967295,v=$+(_<<11&4294967295|_>>>21),_=x+(v^$^k)+W[7]+4139469664&4294967295,x=v+(_<<16&4294967295|_>>>16),_=k+(x^v^$)+W[10]+3200236656&4294967295,k=x+(_<<23&4294967295|_>>>9),_=$+(k^x^v)+W[13]+681279174&4294967295,$=k+(_<<4&4294967295|_>>>28),_=v+($^k^x)+W[0]+3936430074&4294967295,v=$+(_<<11&4294967295|_>>>21),_=x+(v^$^k)+W[3]+3572445317&4294967295,x=v+(_<<16&4294967295|_>>>16),_=k+(x^v^$)+W[6]+76029189&4294967295,k=x+(_<<23&4294967295|_>>>9),_=$+(k^x^v)+W[9]+3654602809&4294967295,$=k+(_<<4&4294967295|_>>>28),_=v+($^k^x)+W[12]+3873151461&4294967295,v=$+(_<<11&4294967295|_>>>21),_=x+(v^$^k)+W[15]+530742520&4294967295,x=v+(_<<16&4294967295|_>>>16),_=k+(x^v^$)+W[2]+3299628645&4294967295,k=x+(_<<23&4294967295|_>>>9),_=$+(x^(k|~v))+W[0]+4096336452&4294967295,$=k+(_<<6&4294967295|_>>>26),_=v+(k^($|~x))+W[7]+1126891415&4294967295,v=$+(_<<10&4294967295|_>>>22),_=x+($^(v|~k))+W[14]+2878612391&4294967295,x=v+(_<<15&4294967295|_>>>17),_=k+(v^(x|~$))+W[5]+4237533241&4294967295,k=x+(_<<21&4294967295|_>>>11),_=$+(x^(k|~v))+W[12]+1700485571&4294967295,$=k+(_<<6&4294967295|_>>>26),_=v+(k^($|~x))+W[3]+2399980690&4294967295,v=$+(_<<10&4294967295|_>>>22),_=x+($^(v|~k))+W[10]+4293915773&4294967295,x=v+(_<<15&4294967295|_>>>17),_=k+(v^(x|~$))+W[1]+2240044497&4294967295,k=x+(_<<21&4294967295|_>>>11),_=$+(x^(k|~v))+W[8]+1873313359&4294967295,$=k+(_<<6&4294967295|_>>>26),_=v+(k^($|~x))+W[15]+4264355552&4294967295,v=$+(_<<10&4294967295|_>>>22),_=x+($^(v|~k))+W[6]+2734768916&4294967295,x=v+(_<<15&4294967295|_>>>17),_=k+(v^(x|~$))+W[13]+1309151649&4294967295,k=x+(_<<21&4294967295|_>>>11),_=$+(x^(k|~v))+W[4]+4149444226&4294967295,$=k+(_<<6&4294967295|_>>>26),_=v+(k^($|~x))+W[11]+3174756917&4294967295,v=$+(_<<10&4294967295|_>>>22),_=x+($^(v|~k))+W[2]+718787259&4294967295,x=v+(_<<15&4294967295|_>>>17),_=k+(v^(x|~$))+W[9]+3951481745&4294967295,U.g[0]=U.g[0]+$&4294967295,U.g[1]=U.g[1]+(x+(_<<21&4294967295|_>>>11))&4294967295,U.g[2]=U.g[2]+x&4294967295,U.g[3]=U.g[3]+v&4294967295}n.prototype.u=function(U,$){$===void 0&&($=U.length);for(var k=$-this.blockSize,W=this.B,x=this.h,v=0;v<$;){if(x==0)for(;v<=k;)i(this,U,v),v+=this.blockSize;if(typeof U=="string"){for(;v<$;)if(W[x++]=U.charCodeAt(v++),x==this.blockSize){i(this,W),x=0;break}}else for(;v<$;)if(W[x++]=U[v++],x==this.blockSize){i(this,W),x=0;break}}this.h=x,this.o+=$},n.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var $=1;$<U.length-8;++$)U[$]=0;var k=8*this.o;for($=U.length-8;$<U.length;++$)U[$]=k&255,k/=256;for(this.u(U),U=Array(16),$=k=0;4>$;++$)for(var W=0;32>W;W+=8)U[k++]=this.g[$]>>>W&255;return U};function s(U,$){var k=a;return Object.prototype.hasOwnProperty.call(k,U)?k[U]:k[U]=$(U)}function o(U,$){this.h=$;for(var k=[],W=!0,x=U.length-1;0<=x;x--){var v=U[x]|0;W&&v==$||(k[x]=v,W=!1)}this.g=k}var a={};function u(U){return-128<=U&&128>U?s(U,function($){return new o([$|0],0>$?-1:0)}):new o([U|0],0>U?-1:0)}function l(U){if(isNaN(U)||!isFinite(U))return f;if(0>U)return C(l(-U));for(var $=[],k=1,W=0;U>=k;W++)$[W]=U/k|0,k*=4294967296;return new o($,0)}function h(U,$){if(U.length==0)throw Error("number format error: empty string");if($=$||10,2>$||36<$)throw Error("radix out of range: "+$);if(U.charAt(0)=="-")return C(h(U.substring(1),$));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=l(Math.pow($,8)),W=f,x=0;x<U.length;x+=8){var v=Math.min(8,U.length-x),_=parseInt(U.substring(x,x+v),$);8>v?(v=l(Math.pow($,v)),W=W.j(v).add(l(_))):(W=W.j(k),W=W.add(l(_)))}return W}var f=u(0),m=u(1),g=u(16777216);t=o.prototype,t.m=function(){if(E(this))return-C(this).m();for(var U=0,$=1,k=0;k<this.g.length;k++){var W=this.i(k);U+=(0<=W?W:4294967296+W)*$,$*=4294967296}return U},t.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(w(this))return"0";if(E(this))return"-"+C(this).toString(U);for(var $=l(Math.pow(U,6)),k=this,W="";;){var x=V(k,$).g;k=N(k,x.j($));var v=((0<k.g.length?k.g[0]:k.h)>>>0).toString(U);if(k=x,w(k))return v+W;for(;6>v.length;)v="0"+v;W=v+W}},t.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function w(U){if(U.h!=0)return!1;for(var $=0;$<U.g.length;$++)if(U.g[$]!=0)return!1;return!0}function E(U){return U.h==-1}t.l=function(U){return U=N(this,U),E(U)?-1:w(U)?0:1};function C(U){for(var $=U.g.length,k=[],W=0;W<$;W++)k[W]=~U.g[W];return new o(k,~U.h).add(m)}t.abs=function(){return E(this)?C(this):this},t.add=function(U){for(var $=Math.max(this.g.length,U.g.length),k=[],W=0,x=0;x<=$;x++){var v=W+(this.i(x)&65535)+(U.i(x)&65535),_=(v>>>16)+(this.i(x)>>>16)+(U.i(x)>>>16);W=_>>>16,v&=65535,_&=65535,k[x]=_<<16|v}return new o(k,k[k.length-1]&-2147483648?-1:0)};function N(U,$){return U.add(C($))}t.j=function(U){if(w(this)||w(U))return f;if(E(this))return E(U)?C(this).j(C(U)):C(C(this).j(U));if(E(U))return C(this.j(C(U)));if(0>this.l(g)&&0>U.l(g))return l(this.m()*U.m());for(var $=this.g.length+U.g.length,k=[],W=0;W<2*$;W++)k[W]=0;for(W=0;W<this.g.length;W++)for(var x=0;x<U.g.length;x++){var v=this.i(W)>>>16,_=this.i(W)&65535,T=U.i(x)>>>16,I=U.i(x)&65535;k[2*W+2*x]+=_*I,D(k,2*W+2*x),k[2*W+2*x+1]+=v*I,D(k,2*W+2*x+1),k[2*W+2*x+1]+=_*T,D(k,2*W+2*x+1),k[2*W+2*x+2]+=v*T,D(k,2*W+2*x+2)}for(W=0;W<$;W++)k[W]=k[2*W+1]<<16|k[2*W];for(W=$;W<2*$;W++)k[W]=0;return new o(k,0)};function D(U,$){for(;(U[$]&65535)!=U[$];)U[$+1]+=U[$]>>>16,U[$]&=65535,$++}function F(U,$){this.g=U,this.h=$}function V(U,$){if(w($))throw Error("division by zero");if(w(U))return new F(f,f);if(E(U))return $=V(C(U),$),new F(C($.g),C($.h));if(E($))return $=V(U,C($)),new F(C($.g),$.h);if(30<U.g.length){if(E(U)||E($))throw Error("slowDivide_ only works with positive integers.");for(var k=m,W=$;0>=W.l(U);)k=q(k),W=q(W);var x=j(k,1),v=j(W,1);for(W=j(W,2),k=j(k,2);!w(W);){var _=v.add(W);0>=_.l(U)&&(x=x.add(k),v=_),W=j(W,1),k=j(k,1)}return $=N(U,x.j($)),new F(x,$)}for(x=f;0<=U.l($);){for(k=Math.max(1,Math.floor(U.m()/$.m())),W=Math.ceil(Math.log(k)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),v=l(k),_=v.j($);E(_)||0<_.l(U);)k-=W,v=l(k),_=v.j($);w(v)&&(v=m),x=x.add(v),U=N(U,_)}return new F(x,U)}t.A=function(U){return V(this,U).h},t.and=function(U){for(var $=Math.max(this.g.length,U.g.length),k=[],W=0;W<$;W++)k[W]=this.i(W)&U.i(W);return new o(k,this.h&U.h)},t.or=function(U){for(var $=Math.max(this.g.length,U.g.length),k=[],W=0;W<$;W++)k[W]=this.i(W)|U.i(W);return new o(k,this.h|U.h)},t.xor=function(U){for(var $=Math.max(this.g.length,U.g.length),k=[],W=0;W<$;W++)k[W]=this.i(W)^U.i(W);return new o(k,this.h^U.h)};function q(U){for(var $=U.g.length+1,k=[],W=0;W<$;W++)k[W]=U.i(W)<<1|U.i(W-1)>>>31;return new o(k,U.h)}function j(U,$){var k=$>>5;$%=32;for(var W=U.g.length-k,x=[],v=0;v<W;v++)x[v]=0<$?U.i(v+k)>>>$|U.i(v+k+1)<<32-$:U.i(v+k);return new o(x,U.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,ZD=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,xl=o}).apply(typeof t4<"u"?t4:typeof self<"u"?self:typeof window<"u"?window:{});var Yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XD,um,eM,Sv,aC,tM,rM,nM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,R,H){return y==Array.prototype||y==Object.prototype||(y[R]=H.value),y};function r(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yy=="object"&&Yy];for(var R=0;R<y.length;++R){var H=y[R];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var n=r(this);function i(y,R){if(R)e:{var H=n;y=y.split(".");for(var Y=0;Y<y.length-1;Y++){var oe=y[Y];if(!(oe in H))break e;H=H[oe]}y=y[y.length-1],Y=H[y],R=R(Y),R!=Y&&R!=null&&e(H,y,{configurable:!0,writable:!0,value:R})}}function s(y,R){y instanceof String&&(y+="");var H=0,Y=!1,oe={next:function(){if(!Y&&H<y.length){var ue=H++;return{value:R(ue,y[ue]),done:!1}}return Y=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}i("Array.prototype.values",function(y){return y||function(){return s(this,function(R,H){return H})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(y){var R=typeof y;return R=R!="object"?R:y?Array.isArray(y)?"array":R:"null",R=="array"||R=="object"&&typeof y.length=="number"}function l(y){var R=typeof y;return R=="object"&&y!=null||R=="function"}function h(y,R,H){return y.call.apply(y.bind,arguments)}function f(y,R,H){if(!y)throw Error();if(2<arguments.length){var Y=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,Y),y.apply(R,oe)}}return function(){return y.apply(R,arguments)}}function m(y,R,H){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function g(y,R){var H=Array.prototype.slice.call(arguments,1);return function(){var Y=H.slice();return Y.push.apply(Y,arguments),y.apply(this,Y)}}function w(y,R){function H(){}H.prototype=R.prototype,y.aa=R.prototype,y.prototype=new H,y.prototype.constructor=y,y.Qb=function(Y,oe,ue){for(var Te=Array(arguments.length-2),rr=2;rr<arguments.length;rr++)Te[rr-2]=arguments[rr];return R.prototype[oe].apply(Y,Te)}}function E(y){const R=y.length;if(0<R){const H=Array(R);for(let Y=0;Y<R;Y++)H[Y]=y[Y];return H}return[]}function C(y,R){for(let H=1;H<arguments.length;H++){const Y=arguments[H];if(u(Y)){const oe=y.length||0,ue=Y.length||0;y.length=oe+ue;for(let Te=0;Te<ue;Te++)y[oe+Te]=Y[Te]}else y.push(Y)}}class N{constructor(R,H){this.i=R,this.j=H,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function D(y){return/^[\s\xa0]*$/.test(y)}function F(){var y=a.navigator;return y&&(y=y.userAgent)?y:""}function V(y){return V[" "](y),y}V[" "]=function(){};var q=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function j(y,R,H){for(const Y in y)R.call(H,y[Y],Y,y)}function U(y,R){for(const H in y)R.call(void 0,y[H],H,y)}function $(y){const R={};for(const H in y)R[H]=y[H];return R}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(y,R){let H,Y;for(let oe=1;oe<arguments.length;oe++){Y=arguments[oe];for(H in Y)y[H]=Y[H];for(let ue=0;ue<k.length;ue++)H=k[ue],Object.prototype.hasOwnProperty.call(Y,H)&&(y[H]=Y[H])}}function x(y){var R=1;y=y.split(":");const H=[];for(;0<R&&y.length;)H.push(y.shift()),R--;return y.length&&H.push(y.join(":")),H}function v(y){a.setTimeout(()=>{throw y},0)}function _(){var y=B;let R=null;return y.g&&(R=y.g,y.g=y.g.next,y.g||(y.h=null),R.next=null),R}class T{constructor(){this.h=this.g=null}add(R,H){const Y=I.get();Y.set(R,H),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var I=new N(()=>new P,y=>y.reset());class P{constructor(){this.next=this.g=this.h=null}set(R,H){this.h=R,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let M,z=!1,B=new T,A=()=>{const y=a.Promise.resolve(void 0);M=()=>{y.then(L)}};var L=()=>{for(var y;y=_();){try{y.h.call(y.g)}catch(H){v(H)}var R=I;R.j(y),100>R.h&&(R.h++,y.next=R.g,R.g=y)}z=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(y,R){this.type=y,this.g=this.target=R,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var y=!1,R=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const H=()=>{};a.addEventListener("test",H,R),a.removeEventListener("test",H,R)}catch{}return y}();function de(y,R){if(re.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var H=this.type=y.type,Y=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=R,R=y.relatedTarget){if(q){e:{try{V(R.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(R=null)}}else H=="mouseover"?R=y.fromElement:H=="mouseout"&&(R=y.toElement);this.relatedTarget=R,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:pe[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&de.aa.h.call(this)}}w(de,re);var pe={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),De=0;function Ie(y,R,H,Y,oe){this.listener=y,this.proxy=null,this.src=R,this.type=H,this.capture=!!Y,this.ha=oe,this.key=++De,this.da=this.fa=!1}function ze(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ar(y){this.src=y,this.g={},this.h=0}ar.prototype.add=function(y,R,H,Y,oe){var ue=y.toString();y=this.g[ue],y||(y=this.g[ue]=[],this.h++);var Te=dt(y,R,Y,oe);return-1<Te?(R=y[Te],H||(R.fa=!1)):(R=new Ie(R,this.src,ue,!!Y,oe),R.fa=H,y.push(R)),R};function yt(y,R){var H=R.type;if(H in y.g){var Y=y.g[H],oe=Array.prototype.indexOf.call(Y,R,void 0),ue;(ue=0<=oe)&&Array.prototype.splice.call(Y,oe,1),ue&&(ze(R),y.g[H].length==0&&(delete y.g[H],y.h--))}}function dt(y,R,H,Y){for(var oe=0;oe<y.length;++oe){var ue=y[oe];if(!ue.da&&ue.listener==R&&ue.capture==!!H&&ue.ha==Y)return oe}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),_t={};function Pt(y,R,H,Y,oe){if(Array.isArray(R)){for(var ue=0;ue<R.length;ue++)Pt(y,R[ue],H,Y,oe);return null}return H=Rt(H),y&&y[Ae]?y.K(R,H,l(Y)?!!Y.capture:!1,oe):ii(y,R,H,!1,Y,oe)}function ii(y,R,H,Y,oe,ue){if(!R)throw Error("Invalid event type");var Te=l(oe)?!!oe.capture:!!oe,rr=_i(y);if(rr||(y[Gr]=rr=new ar(y)),H=rr.add(R,H,Y,Te,ue),H.proxy)return H;if(Y=Qt(),H.proxy=Y,Y.src=y,Y.listener=H,y.addEventListener)ie||(oe=Te),oe===void 0&&(oe=!1),y.addEventListener(R.toString(),Y,oe);else if(y.attachEvent)y.attachEvent(At(R.toString()),Y);else if(y.addListener&&y.removeListener)y.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return H}function Qt(){function y(H){return R.call(y.src,y.listener,H)}const R=Ft;return y}function Lt(y,R,H,Y,oe){if(Array.isArray(R))for(var ue=0;ue<R.length;ue++)Lt(y,R[ue],H,Y,oe);else Y=l(Y)?!!Y.capture:!!Y,H=Rt(H),y&&y[Ae]?(y=y.i,R=String(R).toString(),R in y.g&&(ue=y.g[R],H=dt(ue,H,Y,oe),-1<H&&(ze(ue[H]),Array.prototype.splice.call(ue,H,1),ue.length==0&&(delete y.g[R],y.h--)))):y&&(y=_i(y))&&(R=y.g[R.toString()],y=-1,R&&(y=dt(R,H,Y,oe)),(H=-1<y?R[y]:null)&&Tn(H))}function Tn(y){if(typeof y!="number"&&y&&!y.da){var R=y.src;if(R&&R[Ae])yt(R.i,y);else{var H=y.type,Y=y.proxy;R.removeEventListener?R.removeEventListener(H,Y,y.capture):R.detachEvent?R.detachEvent(At(H),Y):R.addListener&&R.removeListener&&R.removeListener(Y),(H=_i(R))?(yt(H,y),H.h==0&&(H.src=null,R[Gr]=null)):ze(y)}}}function At(y){return y in _t?_t[y]:_t[y]="on"+y}function Ft(y,R){if(y.da)y=!0;else{R=new de(R,this);var H=y.listener,Y=y.ha||y.src;y.fa&&Tn(y),y=H.call(Y,R)}return y}function _i(y){return y=y[Gr],y instanceof ar?y:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rt(y){return typeof y=="function"?y:(y[St]||(y[St]=function(R){return y.handleEvent(R)}),y[St])}function cr(){J.call(this),this.i=new ar(this),this.M=this,this.F=null}w(cr,J),cr.prototype[Ae]=!0,cr.prototype.removeEventListener=function(y,R,H,Y){Lt(this,y,R,H,Y)};function st(y,R){var H,Y=y.F;if(Y)for(H=[];Y;Y=Y.F)H.push(Y);if(y=y.M,Y=R.type||R,typeof R=="string")R=new re(R,y);else if(R instanceof re)R.target=R.target||y;else{var oe=R;R=new re(Y,y),W(R,oe)}if(oe=!0,H)for(var ue=H.length-1;0<=ue;ue--){var Te=R.g=H[ue];oe=$t(Te,Y,!0,R)&&oe}if(Te=R.g=y,oe=$t(Te,Y,!0,R)&&oe,oe=$t(Te,Y,!1,R)&&oe,H)for(ue=0;ue<H.length;ue++)Te=R.g=H[ue],oe=$t(Te,Y,!1,R)&&oe}cr.prototype.N=function(){if(cr.aa.N.call(this),this.i){var y=this.i,R;for(R in y.g){for(var H=y.g[R],Y=0;Y<H.length;Y++)ze(H[Y]);delete y.g[R],y.h--}}this.F=null},cr.prototype.K=function(y,R,H,Y){return this.i.add(String(y),R,!1,H,Y)},cr.prototype.L=function(y,R,H,Y){return this.i.add(String(y),R,!0,H,Y)};function $t(y,R,H,Y){if(R=y.i.g[String(R)],!R)return!0;R=R.concat();for(var oe=!0,ue=0;ue<R.length;++ue){var Te=R[ue];if(Te&&!Te.da&&Te.capture==H){var rr=Te.listener,mn=Te.ha||Te.src;Te.fa&&yt(y.i,Te),oe=rr.call(mn,Y)!==!1&&oe}}return oe&&!Y.defaultPrevented}function Co(y,R,H){if(typeof y=="function")H&&(y=m(y,H));else if(y&&typeof y.handleEvent=="function")y=m(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:a.setTimeout(y,R||0)}function Kt(y){y.g=Co(()=>{y.g=null,y.i&&(y.i=!1,Kt(y))},y.l);const R=y.h;y.h=null,y.m.apply(null,R)}class lr extends J{constructor(R,H){super(),this.m=R,this.l=H,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Kt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function So(y){J.call(this),this.h=y,this.g={}}w(So,J);var Tr=[];function xr(y){j(y.g,function(R,H){this.g.hasOwnProperty(H)&&Tn(R)},y),y.g={}}So.prototype.N=function(){So.aa.N.call(this),xr(this)},So.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mc=a.JSON.stringify,Nr=a.JSON.parse,Pr=class{stringify(y){return a.JSON.stringify(y,void 0)}parse(y){return a.JSON.parse(y,void 0)}};function Io(){}Io.prototype.h=null;function gr(y){return y.h||(y.h=y.i())}function yr(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gt(){re.call(this,"d")}w(Gt,re);function vr(){re.call(this,"c")}w(vr,re);var ss={},Rr=null;function ur(){return Rr=Rr||new cr}ss.La="serverreachability";function gc(y){re.call(this,ss.La,y)}w(gc,re);function Yt(y){const R=ur();st(R,new gc(R))}ss.STAT_EVENT="statevent";function Or(y,R){re.call(this,ss.STAT_EVENT,y),this.stat=R}w(Or,re);function qr(y){const R=ur();st(R,new Or(R,y))}ss.Ma="timingevent";function wr(y,R){re.call(this,ss.Ma,y),this.size=R}w(wr,re);function Bt(y,R){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){y()},R)}function To(){this.g=!0}To.prototype.xa=function(){this.g=!1};function dr(y,R,H,Y,oe,ue){y.info(function(){if(y.g)if(ue)for(var Te="",rr=ue.split("&"),mn=0;mn<rr.length;mn++){var Ot=rr[mn].split("=");if(1<Ot.length){var xn=Ot[0];Ot=Ot[1];var cn=xn.split("_");Te=2<=cn.length&&cn[1]=="type"?Te+(xn+"="+Ot+"&"):Te+(xn+"=redacted&")}}else Te=null;else Te=ue;return"XMLHTTP REQ ("+Y+") [attempt "+oe+"]: "+R+`
`+H+`
`+Te})}function br(y,R,H,Y,oe,ue,Te){y.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+oe+"]: "+R+`
`+H+`
`+ue+" "+Te})}function Di(y,R,H,Y){y.info(function(){return"XMLHTTP TEXT ("+R+"): "+zr(y,H)+(Y?" "+Y:"")})}function kr(y,R){y.info(function(){return"TIMEOUT: "+R})}To.prototype.info=function(){};function zr(y,R){if(!y.g)return R;if(!R)return null;try{var H=JSON.parse(R);if(H){for(y=0;y<H.length;y++)if(Array.isArray(H[y])){var Y=H[y];if(!(2>Y.length)){var oe=Y[1];if(Array.isArray(oe)&&!(1>oe.length)){var ue=oe[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var Te=1;Te<oe.length;Te++)oe[Te]=""}}}}return mc(H)}catch{return R}}var ba={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jt;function Ws(){}w(Ws,Io),Ws.prototype.g=function(){return new XMLHttpRequest},Ws.prototype.i=function(){return{}},jt=new Ws;function Ci(y,R,H,Y){this.j=y,this.i=R,this.l=H,this.R=Y||1,this.U=new So(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yc}function yc(){this.i=null,this.g="",this.h=!1}var Ea={},xo={};function No(y,R,H){y.L=1,y.v=Sc(os(R)),y.m=H,y.P=!0,_a(y,null)}function _a(y,R){y.F=Date.now(),Jt(y),y.A=os(y.v);var H=y.A,Y=y.R;Array.isArray(Y)||(Y=[String(Y)]),Tc(H.i,"t",Y),y.C=0,H=y.j.J,y.h=new yc,y.g=_0(y.j,H?R:null,!y.m),0<y.O&&(y.M=new lr(m(y.Y,y,y.g),y.O)),R=y.U,H=y.g,Y=y.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(Tr[0]=oe.toString()),oe=Tr);for(var ue=0;ue<oe.length;ue++){var Te=Pt(H,oe[ue],Y||R.handleEvent,!1,R.h||R);if(!Te)break;R.g[Te.key]=Te}R=y.H?$(y.H):{},y.m?(y.u||(y.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,R)):(y.u="GET",y.g.ea(y.A,y.u,null,R)),Yt(),dr(y.i,y.u,y.A,y.l,y.R,y.m)}Ci.prototype.ca=function(y){y=y.target;const R=this.M;R&&Li(y)==3?R.j():this.Y(y)},Ci.prototype.Y=function(y){try{if(y==this.g)e:{const cn=Li(this.g);var R=this.g.Ba();const As=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||np(this.g)))){this.J||cn!=4||R==7||(R==8||0>=As?Yt(3):Yt(2)),Ks(this);var H=this.g.Z();this.X=H;t:if(vc(this)){var Y=np(this.g);y="";var oe=Y.length,ue=Li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){si(this),Es(this);var Te="";break t}this.h.i=new a.TextDecoder}for(R=0;R<oe;R++)this.h.h=!0,y+=this.h.i.decode(Y[R],{stream:!(ue&&R==oe-1)});Y.length=0,this.h.g+=y,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=H==200,br(this.i,this.u,this.A,this.l,this.R,cn,H),this.o){if(this.T&&!this.K){t:{if(this.g){var rr,mn=this.g;if((rr=mn.g?mn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(rr)){var Ot=rr;break t}}Ot=null}if(H=Ot)Di(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Aa(this,H);else{this.o=!1,this.s=3,qr(12),si(this),Es(this);break e}}if(this.P){H=!0;let cs;for(;!this.J&&this.C<Te.length;)if(cs=Gl(this,Te),cs==xo){cn==4&&(this.s=4,qr(14),H=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(cs==Ea){this.s=4,qr(15),Di(this.i,this.l,Te,"[Invalid Chunk]"),H=!1;break}else Di(this.i,this.l,cs,null),Aa(this,cs);if(vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||Te.length!=0||this.h.h||(this.s=1,qr(16),H=!1),this.o=this.o&&H,!H)Di(this.i,this.l,Te,"[Invalid Chunked Response]"),si(this),Es(this);else if(0<Te.length&&!this.W){this.W=!0;var xn=this.j;xn.g==this&&xn.ba&&!xn.M&&(xn.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),sp(xn),xn.M=!0,qr(11))}}else Di(this.i,this.l,Te,null),Aa(this,Te);cn==4&&si(this),this.o&&!this.J&&(cn==4?Ld(this.j,this):(this.o=!1,Jt(this)))}else Rd(this.g),H==400&&0<Te.indexOf("Unknown SID")?(this.s=3,qr(12)):(this.s=0,qr(13)),si(this),Es(this)}}}catch{}finally{}};function vc(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function Gl(y,R){var H=y.C,Y=R.indexOf(`
`,H);return Y==-1?xo:(H=Number(R.substring(H,Y)),isNaN(H)?Ea:(Y+=1,Y+H>R.length?xo:(R=R.slice(Y,Y+H),y.C=Y+H,R)))}Ci.prototype.cancel=function(){this.J=!0,si(this)};function Jt(y){y.S=Date.now()+y.I,wc(y,y.I)}function wc(y,R){if(y.B!=null)throw Error("WatchDog timer not null");y.B=Bt(m(y.ba,y),R)}function Ks(y){y.B&&(a.clearTimeout(y.B),y.B=null)}Ci.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(kr(this.i,this.A),this.L!=2&&(Yt(),qr(17)),si(this),this.s=2,Es(this)):wc(this,this.S-y)};function Es(y){y.j.G==0||y.J||Ld(y.j,y)}function si(y){Ks(y);var R=y.M;R&&typeof R.ma=="function"&&R.ma(),y.M=null,xr(y.U),y.g&&(R=y.g,y.g=null,R.abort(),R.ma())}function Aa(y,R){try{var H=y.j;if(H.G!=0&&(H.g==y||Si(H.h,y))){if(!y.K&&Si(H.h,y)&&H.G==3){try{var Y=H.Da.g.parse(R)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var oe=Y;if(oe[0]==0){e:if(!H.u){if(H.g)if(H.g.F+3e3<y.F)Md(H),Xs(H);else break e;Dd(H),qr(18)}}else H.za=oe[1],0<H.za-H.T&&37500>oe[2]&&H.F&&H.v==0&&!H.C&&(H.C=Bt(m(H.Za,H),6e3));if(1>=Ec(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else xa(H,11)}else if((y.K||H.g==y)&&Md(H),!D(R))for(oe=H.Da.g.parse(R),R=0;R<oe.length;R++){let Ot=oe[R];if(H.T=Ot[0],Ot=Ot[1],H.G==2)if(Ot[0]=="c"){H.K=Ot[1],H.ia=Ot[2];const xn=Ot[3];xn!=null&&(H.la=xn,H.j.info("VER="+H.la));const cn=Ot[4];cn!=null&&(H.Aa=cn,H.j.info("SVER="+H.Aa));const As=Ot[5];As!=null&&typeof As=="number"&&0<As&&(Y=1.5*As,H.L=Y,H.j.info("backChannelRequestTimeoutMs_="+Y)),Y=H;const cs=y.g;if(cs){const eu=cs.g?cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eu){var ue=Y.h;ue.g||eu.indexOf("spdy")==-1&&eu.indexOf("quic")==-1&&eu.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Xf(ue,ue.h),ue.h=null))}if(Y.D){const Fd=cs.g?cs.g.getResponseHeader("X-HTTP-Session-Id"):null;Fd&&(Y.ya=Fd,Er(Y.I,Y.D,Fd))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-y.F,H.j.info("Handshake RTT: "+H.R+"ms")),Y=H;var Te=y;if(Y.qa=E0(Y,Y.J?Y.ia:null,Y.W),Te.K){l0(Y.h,Te);var rr=Te,mn=Y.L;mn&&(rr.I=mn),rr.B&&(Ks(rr),Jt(rr)),Y.g=Te}else Xl(Y);0<H.i.length&&ko(H)}else Ot[0]!="stop"&&Ot[0]!="close"||xa(H,7);else H.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?xa(H,7):Vn(H):Ot[0]!="noop"&&H.l&&H.l.ta(Ot),H.v=0)}}Yt(4)}catch{}}var bc=class{constructor(y,R){this.g=y,this.map=R}};function Gs(y){this.l=y||10,a.PerformanceNavigationTiming?(y=a.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bn(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ec(y){return y.h?1:y.g?y.g.size:0}function Si(y,R){return y.h?y.h==R:y.g?y.g.has(R):!1}function Xf(y,R){y.g?y.g.add(R):y.h=R}function l0(y,R){y.h&&y.h==R?y.h=null:y.g&&y.g.has(R)&&y.g.delete(R)}Gs.prototype.cancel=function(){if(this.i=u0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function u0(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let R=y.i;for(const H of y.g.values())R=R.concat(H.D);return R}return E(y.i)}function Id(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(u(y)){for(var R=[],H=y.length,Y=0;Y<H;Y++)R.push(y[Y]);return R}R=[],H=0;for(Y in y)R[H++]=y[Y];return R}function Td(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(u(y)||typeof y=="string"){var R=[];y=y.length;for(var H=0;H<y;H++)R.push(H);return R}R=[],H=0;for(const Y in y)R[H++]=Y;return R}}}function _c(y,R){if(y.forEach&&typeof y.forEach=="function")y.forEach(R,void 0);else if(u(y)||typeof y=="string")Array.prototype.forEach.call(y,R,void 0);else for(var H=Td(y),Y=Id(y),oe=Y.length,ue=0;ue<oe;ue++)R.call(void 0,Y[ue],H&&H[ue],y)}var Ql=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rb(y,R){if(y){y=y.split("&");for(var H=0;H<y.length;H++){var Y=y[H].indexOf("="),oe=null;if(0<=Y){var ue=y[H].substring(0,Y);oe=y[H].substring(Y+1)}else ue=y[H];R(ue,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function Ca(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof Ca){this.h=y.h,Yl(this,y.j),this.o=y.o,this.g=y.g,Ac(this,y.s),this.l=y.l;var R=y.i,H=new Po;H.i=R.i,R.g&&(H.g=new Map(R.g),H.h=R.h),Cc(this,H),this.m=y.m}else y&&(R=String(y).match(Ql))?(this.h=!1,Yl(this,R[1]||"",!0),this.o=It(R[2]||""),this.g=It(R[3]||"",!0),Ac(this,R[4]),this.l=It(R[5]||"",!0),Cc(this,R[6]||"",!0),this.m=It(R[7]||"")):(this.h=!1,this.i=new Po(null,this.h))}Ca.prototype.toString=function(){var y=[],R=this.j;R&&y.push(Ic(R,xd,!0),":");var H=this.g;return(H||R=="file")&&(y.push("//"),(R=this.o)&&y.push(Ic(R,xd,!0),"@"),y.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.s,H!=null&&y.push(":",String(H))),(H=this.l)&&(this.g&&H.charAt(0)!="/"&&y.push("/"),y.push(Ic(H,H.charAt(0)=="/"?f0:h0,!0))),(H=this.i.toString())&&y.push("?",H),(H=this.m)&&y.push("#",Ic(H,ep)),y.join("")};function os(y){return new Ca(y)}function Yl(y,R,H){y.j=H?It(R,!0):R,y.j&&(y.j=y.j.replace(/:$/,""))}function Ac(y,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);y.s=R}else y.s=null}function Cc(y,R,H){R instanceof Po?(y.i=R,Ro(y.i,y.h)):(H||(R=Ic(R,p0)),y.i=new Po(R,y.h))}function Er(y,R,H){y.i.set(R,H)}function Sc(y){return Er(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function It(y,R){return y?R?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Ic(y,R,H){return typeof y=="string"?(y=encodeURI(y).replace(R,d0),H&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function d0(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var xd=/[#\/\?@]/g,h0=/[#\?:]/g,f0=/[#\?]/g,p0=/[#\?@]/g,ep=/#/g;function Po(y,R){this.h=this.g=null,this.i=y||null,this.j=!!R}function jn(y){y.g||(y.g=new Map,y.h=0,y.i&&Rb(y.i,function(R,H){y.add(decodeURIComponent(R.replace(/\+/g," ")),H)}))}t=Po.prototype,t.add=function(y,R){jn(this),this.i=null,y=_s(this,y);var H=this.g.get(y);return H||this.g.set(y,H=[]),H.push(R),this.h+=1,this};function Qs(y,R){jn(y),R=_s(y,R),y.g.has(R)&&(y.i=null,y.h-=y.g.get(R).length,y.g.delete(R))}function Ys(y,R){return jn(y),R=_s(y,R),y.g.has(R)}t.forEach=function(y,R){jn(this),this.g.forEach(function(H,Y){H.forEach(function(oe){y.call(R,oe,Y,this)},this)},this)},t.na=function(){jn(this);const y=Array.from(this.g.values()),R=Array.from(this.g.keys()),H=[];for(let Y=0;Y<R.length;Y++){const oe=y[Y];for(let ue=0;ue<oe.length;ue++)H.push(R[Y])}return H},t.V=function(y){jn(this);let R=[];if(typeof y=="string")Ys(this,y)&&(R=R.concat(this.g.get(_s(this,y))));else{y=Array.from(this.g.values());for(let H=0;H<y.length;H++)R=R.concat(y[H])}return R},t.set=function(y,R){return jn(this),this.i=null,y=_s(this,y),Ys(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[R]),this.h+=1,this},t.get=function(y,R){return y?(y=this.V(y),0<y.length?String(y[0]):R):R};function Tc(y,R,H){Qs(y,R),0<H.length&&(y.i=null,y.g.set(_s(y,R),E(H)),y.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],R=Array.from(this.g.keys());for(var H=0;H<R.length;H++){var Y=R[H];const ue=encodeURIComponent(String(Y)),Te=this.V(Y);for(Y=0;Y<Te.length;Y++){var oe=ue;Te[Y]!==""&&(oe+="="+encodeURIComponent(String(Te[Y]))),y.push(oe)}}return this.i=y.join("&")};function _s(y,R){return R=String(R),y.j&&(R=R.toLowerCase()),R}function Ro(y,R){R&&!y.j&&(jn(y),y.i=null,y.g.forEach(function(H,Y){var oe=Y.toLowerCase();Y!=oe&&(Qs(this,Y),Tc(this,oe,H))},y)),y.j=R}function Ob(y,R){const H=new To;if(a.Image){const Y=new Image;Y.onload=g(Mi,H,"TestLoadImage: loaded",!0,R,Y),Y.onerror=g(Mi,H,"TestLoadImage: error",!1,R,Y),Y.onabort=g(Mi,H,"TestLoadImage: abort",!1,R,Y),Y.ontimeout=g(Mi,H,"TestLoadImage: timeout",!1,R,Y),a.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=y}else R(!1)}function m0(y,R){const H=new To,Y=new AbortController,oe=setTimeout(()=>{Y.abort(),Mi(H,"TestPingServer: timeout",!1,R)},1e4);fetch(y,{signal:Y.signal}).then(ue=>{clearTimeout(oe),ue.ok?Mi(H,"TestPingServer: ok",!0,R):Mi(H,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(oe),Mi(H,"TestPingServer: error",!1,R)})}function Mi(y,R,H,Y,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),Y(H)}catch{}}function kb(){this.g=new Pr}function g0(y,R,H){const Y=H||"";try{_c(y,function(oe,ue){let Te=oe;l(oe)&&(Te=mc(oe)),R.push(Y+ue+"="+encodeURIComponent(Te))})}catch(oe){throw R.push(Y+"type="+encodeURIComponent("_badmap")),oe}}function Sa(y){this.l=y.Ub||null,this.j=y.eb||!1}w(Sa,Io),Sa.prototype.g=function(){return new Jl(this.l,this.j)},Sa.prototype.i=function(y){return function(){return y}}({});function Jl(y,R){cr.call(this),this.D=y,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Jl,cr),t=Jl.prototype,t.open=function(y,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=R,this.readyState=1,Zs(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(R.body=y),(this.D||a).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Js(this)),this.readyState=0},t.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Zs(this)),this.g&&(this.readyState=3,Zs(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;y0(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function y0(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}t.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var R=y.value?y.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!y.done}))&&(this.response=this.responseText+=R)}y.done?Js(this):Zs(this),this.readyState==3&&y0(this)}},t.Ra=function(y){this.g&&(this.response=this.responseText=y,Js(this))},t.Qa=function(y){this.g&&(this.response=y,Js(this))},t.ga=function(){this.g&&Js(this)};function Js(y){y.readyState=4,y.l=null,y.j=null,y.v=null,Zs(y)}t.setRequestHeader=function(y,R){this.u.append(y,R)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],R=this.h.entries();for(var H=R.next();!H.done;)H=H.value,y.push(H[0]+": "+H[1]),H=R.next();return y.join(`\r
`)};function Zs(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Jl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Ia(y){let R="";return j(y,function(H,Y){R+=Y,R+=":",R+=H,R+=`\r
`}),R}function xc(y,R,H){e:{for(Y in H){var Y=!1;break e}Y=!0}Y||(H=Ia(H),typeof y=="string"?H!=null&&encodeURIComponent(String(H)):Er(y,R,H))}function Hr(y){cr.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Hr,cr);var Db=/^https?$/i,tp=["POST","PUT"];t=Hr.prototype,t.Ha=function(y){this.J=y},t.ea=function(y,R,H,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);R=R?R.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jt.g(),this.v=this.o?gr(this.o):gr(jt),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(R,String(y),!0),this.B=!1}catch(ue){Zl(this,ue);return}if(y=H||"",H=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var oe in Y)H.set(oe,Y[oe]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const ue of Y.keys())H.set(ue,Y.get(ue));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(H.keys()).find(ue=>ue.toLowerCase()=="content-type"),oe=a.FormData&&y instanceof a.FormData,!(0<=Array.prototype.indexOf.call(tp,R,void 0))||Y||oe||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Te]of H)this.g.setRequestHeader(ue,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pd(this),this.u=!0,this.g.send(y),this.u=!1}catch(ue){Zl(this,ue)}};function Zl(y,R){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=R,y.m=5,Nd(y),as(y)}function Nd(y){y.A||(y.A=!0,st(y,"complete"),st(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,st(this,"complete"),st(this,"abort"),as(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),Hr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?rp(this):this.bb())},t.bb=function(){rp(this)};function rp(y){if(y.h&&typeof o<"u"&&(!y.v[1]||Li(y)!=4||y.Z()!=2)){if(y.u&&Li(y)==4)Co(y.Ea,0,y);else if(st(y,"readystatechange"),Li(y)==4){y.h=!1;try{const Te=y.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var H;if(!(H=R)){var Y;if(Y=Te===0){var oe=String(y.D).match(Ql)[1]||null;!oe&&a.self&&a.self.location&&(oe=a.self.location.protocol.slice(0,-1)),Y=!Db.test(oe?oe.toLowerCase():"")}H=Y}if(H)st(y,"complete"),st(y,"success");else{y.m=6;try{var ue=2<Li(y)?y.g.statusText:""}catch{ue=""}y.l=ue+" ["+y.Z()+"]",Nd(y)}}finally{as(y)}}}}function as(y,R){if(y.g){Pd(y);const H=y.g,Y=y.v[0]?()=>{}:null;y.g=null,y.v=null,R||st(y,"ready");try{H.onreadystatechange=Y}catch{}}}function Pd(y){y.I&&(a.clearTimeout(y.I),y.I=null)}t.isActive=function(){return!!this.g};function Li(y){return y.g?y.g.readyState:0}t.Z=function(){try{return 2<Li(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(y){if(this.g){var R=this.g.responseText;return y&&R.indexOf(y)==0&&(R=R.substring(y.length)),Nr(R)}};function np(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Rd(y){const R={};y=(y.g&&2<=Li(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<y.length;Y++){if(D(y[Y]))continue;var H=x(y[Y]);const oe=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const ue=R[oe]||[];R[oe]=ue,ue.push(H)}U(R,function(Y){return Y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oo(y,R,H){return H&&H.internalChannelParams&&H.internalChannelParams[y]||R}function ip(y){this.Aa=0,this.i=[],this.j=new To,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oo("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oo("baseRetryDelayMs",5e3,y),this.cb=Oo("retryDelaySeedMs",1e4,y),this.Wa=Oo("forwardChannelMaxRetries",2,y),this.wa=Oo("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new Gs(y&&y.concurrentRequestLimit),this.Da=new kb,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ip.prototype,t.la=8,t.G=1,t.connect=function(y,R,H,Y){qr(0),this.W=y,this.H=R||{},H&&Y!==void 0&&(this.H.OSID=H,this.H.OAID=Y),this.F=this.X,this.I=E0(this,null,this.W),ko(this)};function Vn(y){if(Od(y),y.G==3){var R=y.U++,H=os(y.I);if(Er(H,"SID",y.K),Er(H,"RID",R),Er(H,"TYPE","terminate"),Ta(y,H),R=new Ci(y,y.j,R),R.L=2,R.v=Sc(os(H)),H=!1,a.navigator&&a.navigator.sendBeacon)try{H=a.navigator.sendBeacon(R.v.toString(),"")}catch{}!H&&a.Image&&(new Image().src=R.v,H=!0),H||(R.g=_0(R.j,null),R.g.ea(R.v)),R.F=Date.now(),Jt(R)}b0(y)}function Xs(y){y.g&&(sp(y),y.g.cancel(),y.g=null)}function Od(y){Xs(y),y.u&&(a.clearTimeout(y.u),y.u=null),Md(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&a.clearTimeout(y.s),y.s=null)}function ko(y){if(!Bn(y.h)&&!y.s){y.s=!0;var R=y.Ga;M||A(),z||(M(),z=!0),B.add(R,y),y.B=0}}function Mb(y,R){return Ec(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=R.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=Bt(m(y.Ga,y,R),w0(y,y.B)),y.B++,!0)}t.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const oe=new Ci(this,this.j,y);let ue=this.o;if(this.S&&(ue?(ue=$(ue),W(ue,this.S)):ue=this.S),this.m!==null||this.O||(oe.H=ue,ue=null),this.P)e:{for(var R=0,H=0;H<this.i.length;H++){t:{var Y=this.i[H];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break t}Y=void 0}if(Y===void 0)break;if(R+=Y,4096<R){R=H;break e}if(R===4096||H===this.i.length-1){R=H+1;break e}}R=1e3}else R=1e3;R=Nc(this,oe,R),H=os(this.I),Er(H,"RID",y),Er(H,"CVER",22),this.D&&Er(H,"X-HTTP-Session-Id",this.D),Ta(this,H),ue&&(this.O?R="headers="+encodeURIComponent(String(Ia(ue)))+"&"+R:this.m&&xc(H,this.m,ue)),Xf(this.h,oe),this.Ua&&Er(H,"TYPE","init"),this.P?(Er(H,"$req",R),Er(H,"SID","null"),oe.T=!0,No(oe,H,null)):No(oe,H,R),this.G=2}}else this.G==3&&(y?kd(this,y):this.i.length==0||Bn(this.h)||kd(this))};function kd(y,R){var H;R?H=R.l:H=y.U++;const Y=os(y.I);Er(Y,"SID",y.K),Er(Y,"RID",H),Er(Y,"AID",y.T),Ta(y,Y),y.m&&y.o&&xc(Y,y.m,y.o),H=new Ci(y,y.j,H,y.B+1),y.m===null&&(H.H=y.o),R&&(y.i=R.D.concat(y.i)),R=Nc(y,H,1e3),H.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),Xf(y.h,H),No(H,Y,R)}function Ta(y,R){y.H&&j(y.H,function(H,Y){Er(R,Y,H)}),y.l&&_c({},function(H,Y){Er(R,Y,H)})}function Nc(y,R,H){H=Math.min(y.i.length,H);var Y=y.l?m(y.l.Na,y.l,y):null;e:{var oe=y.i;let ue=-1;for(;;){const Te=["count="+H];ue==-1?0<H?(ue=oe[0].g,Te.push("ofs="+ue)):ue=0:Te.push("ofs="+ue);let rr=!0;for(let mn=0;mn<H;mn++){let Ot=oe[mn].g;const xn=oe[mn].map;if(Ot-=ue,0>Ot)ue=Math.max(0,oe[mn].g-100),rr=!1;else try{g0(xn,Te,"req"+Ot+"_")}catch{Y&&Y(xn)}}if(rr){Y=Te.join("&");break e}}}return y=y.i.splice(0,H),R.D=y,Y}function Xl(y){if(!y.g&&!y.u){y.Y=1;var R=y.Fa;M||A(),z||(M(),z=!0),B.add(R,y),y.v=0}}function Dd(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=Bt(m(y.Fa,y),w0(y,y.v)),y.v++,!0)}t.Fa=function(){if(this.u=null,v0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Bt(m(this.ab,this),y)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qr(10),Xs(this),v0(this))};function sp(y){y.A!=null&&(a.clearTimeout(y.A),y.A=null)}function v0(y){y.g=new Ci(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var R=os(y.qa);Er(R,"RID","rpc"),Er(R,"SID",y.K),Er(R,"AID",y.T),Er(R,"CI",y.F?"0":"1"),!y.F&&y.ja&&Er(R,"TO",y.ja),Er(R,"TYPE","xmlhttp"),Ta(y,R),y.m&&y.o&&xc(R,y.m,y.o),y.L&&(y.g.I=y.L);var H=y.g;y=y.ia,H.L=1,H.v=Sc(os(R)),H.m=null,H.P=!0,_a(H,y)}t.Za=function(){this.C!=null&&(this.C=null,Xs(this),Dd(this),qr(19))};function Md(y){y.C!=null&&(a.clearTimeout(y.C),y.C=null)}function Ld(y,R){var H=null;if(y.g==R){Md(y),sp(y),y.g=null;var Y=2}else if(Si(y.h,R))H=R.D,l0(y.h,R),Y=1;else return;if(y.G!=0){if(R.o)if(Y==1){H=R.m?R.m.length:0,R=Date.now()-R.F;var oe=y.B;Y=ur(),st(Y,new wr(Y,H)),ko(y)}else Xl(y);else if(oe=R.s,oe==3||oe==0&&0<R.X||!(Y==1&&Mb(y,R)||Y==2&&Dd(y)))switch(H&&0<H.length&&(R=y.h,R.i=R.i.concat(H)),oe){case 1:xa(y,5);break;case 4:xa(y,10);break;case 3:xa(y,6);break;default:xa(y,2)}}}function w0(y,R){let H=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(H*=2),H*R}function xa(y,R){if(y.j.info("Error code "+R),R==2){var H=m(y.fb,y),Y=y.Xa;const oe=!Y;Y=new Ca(Y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Yl(Y,"https"),Sc(Y),oe?Ob(Y.toString(),H):m0(Y.toString(),H)}else qr(2);y.G=0,y.l&&y.l.sa(R),b0(y),Od(y)}t.fb=function(y){y?(this.j.info("Successfully pinged google.com"),qr(2)):(this.j.info("Failed to ping google.com"),qr(1))};function b0(y){if(y.G=0,y.ka=[],y.l){const R=u0(y.h);(R.length!=0||y.i.length!=0)&&(C(y.ka,R),C(y.ka,y.i),y.h.i.length=0,E(y.i),y.i.length=0),y.l.ra()}}function E0(y,R,H){var Y=H instanceof Ca?os(H):new Ca(H);if(Y.g!="")R&&(Y.g=R+"."+Y.g),Ac(Y,Y.s);else{var oe=a.location;Y=oe.protocol,R=R?R+"."+oe.hostname:oe.hostname,oe=+oe.port;var ue=new Ca(null);Y&&Yl(ue,Y),R&&(ue.g=R),oe&&Ac(ue,oe),H&&(ue.l=H),Y=ue}return H=y.D,R=y.ya,H&&R&&Er(Y,H,R),Er(Y,"VER",y.la),Ta(y,Y),Y}function _0(y,R,H){if(R&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=y.Ca&&!y.pa?new Hr(new Sa({eb:H})):new Hr(y.pa),R.Ha(y.J),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function op(){}t=op.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ud(){}Ud.prototype.g=function(y,R){return new Ii(y,R)};function Ii(y,R){cr.call(this),this.g=new ip(R),this.l=y,this.h=R&&R.messageUrlParams||null,y=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(y?y["X-WebChannel-Content-Type"]=R.messageContentType:y={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(y?y["X-WebChannel-Client-Profile"]=R.va:y={"X-WebChannel-Client-Profile":R.va}),this.g.S=y,(y=R&&R.Sb)&&!D(y)&&(this.g.m=y),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!D(R)&&(this.g.D=R,y=this.h,y!==null&&R in y&&(y=this.h,R in y&&delete y[R])),this.j=new Do(this)}w(Ii,cr),Ii.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ii.prototype.close=function(){Vn(this.g)},Ii.prototype.o=function(y){var R=this.g;if(typeof y=="string"){var H={};H.__data__=y,y=H}else this.u&&(H={},H.__data__=mc(y),y=H);R.i.push(new bc(R.Ya++,y)),R.G==3&&ko(R)},Ii.prototype.N=function(){this.g.l=null,delete this.j,Vn(this.g),delete this.g,Ii.aa.N.call(this)};function A0(y){Gt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var R=y.__sm__;if(R){e:{for(const H in R){y=H;break e}y=void 0}(this.i=y)&&(y=this.i,R=R!==null&&y in R?R[y]:void 0),this.data=R}else this.data=y}w(A0,Gt);function C0(){vr.call(this),this.status=1}w(C0,vr);function Do(y){this.g=y}w(Do,op),Do.prototype.ua=function(){st(this.g,"a")},Do.prototype.ta=function(y){st(this.g,new A0(y))},Do.prototype.sa=function(y){st(this.g,new C0)},Do.prototype.ra=function(){st(this.g,"b")},Ud.prototype.createWebChannel=Ud.prototype.g,Ii.prototype.send=Ii.prototype.o,Ii.prototype.open=Ii.prototype.m,Ii.prototype.close=Ii.prototype.close,nM=function(){return new Ud},rM=function(){return ur()},tM=ss,aC={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ba.NO_ERROR=0,ba.TIMEOUT=8,ba.HTTP_ERROR=6,Sv=ba,Fr.COMPLETE="complete",eM=Fr,yr.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",cr.prototype.listen=cr.prototype.K,um=yr,Hr.prototype.listenOnce=Hr.prototype.L,Hr.prototype.getLastError=Hr.prototype.Ka,Hr.prototype.getLastErrorCode=Hr.prototype.Ba,Hr.prototype.getStatus=Hr.prototype.Z,Hr.prototype.getResponseJson=Hr.prototype.Oa,Hr.prototype.getResponseText=Hr.prototype.oa,Hr.prototype.send=Hr.prototype.ea,Hr.prototype.setWithCredentials=Hr.prototype.Ha,XD=Hr}).apply(typeof Yy<"u"?Yy:typeof self<"u"?self:typeof window<"u"?window:{});const r4="@firebase/firestore",n4="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new WD("@firebase/firestore");function Rh(){return hd.logLevel}function Me(t,...e){if(hd.logLevel<=Mt.DEBUG){const r=e.map(ZS);hd.debug(`Firestore (${Qf}): ${t}`,...r)}}function lc(t,...e){if(hd.logLevel<=Mt.ERROR){const r=e.map(ZS);hd.error(`Firestore (${Qf}): ${t}`,...r)}}function Af(t,...e){if(hd.logLevel<=Mt.WARN){const r=e.map(ZS);hd.warn(`Firestore (${Qf}): ${t}`,...r)}}function ZS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t="Unexpected state"){const e=`FIRESTORE (${Qf}) INTERNAL ASSERTION FAILED: `+t;throw lc(e),new Error(e)}function tr(t,e){t||rt()}function ct(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Gf{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sfe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(mi.UNAUTHENTICATED))}shutdown(){}}class Ife{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Tfe{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){tr(this.o===void 0);let n=this.i;const i=u=>this.i!==n?(n=this.i,r(u)):Promise.resolve();let s=new Nl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nl)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(tr(typeof n.accessToken=="string"),new iM(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tr(e===null||typeof e=="string"),new mi(e)}}class xfe{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Nfe{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new xfe(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class i4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pfe{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,cfe(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){tr(this.o===void 0);const n=s=>{s.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new i4(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(tr(typeof r.token=="string"),this.R=r.token,new i4(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rfe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Rfe(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function vt(t,e){return t<e?-1:t>e?1:0}function cC(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return vt(n,i);{const s=sM(),o=Ofe(s.encode(s4(t,r)),s.encode(s4(e,r)));return o!==0?o:vt(n,i)}}r+=n>65535?2:1}return vt(t.length,e.length)}function s4(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Ofe(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return vt(t[r],e[r]);return vt(t.length,e.length)}function Cf(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=-62135596800,a4=1e6;class Sn{static now(){return Sn.fromMillis(Date.now())}static fromDate(e){return Sn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*a4);return new Sn(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ke(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ke(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<o4)throw new Ke(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a4}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-o4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{static fromTimestamp(e){return new ot(e)}static min(){return new ot(new Sn(0,0))}static max(){return new ot(new Sn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="__name__";class Yo{constructor(e,r,n){r===void 0?r=0:r>e.length&&rt(),n===void 0?n=e.length-r:n>e.length-r&&rt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Yo.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Yo?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=Yo.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return vt(e.length,r.length)}static compareSegments(e,r){const n=Yo.isNumericId(e),i=Yo.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Yo.extractNumericId(e).compare(Yo.extractNumericId(r)):cC(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xl.fromString(e.substring(4,e.length-2))}}class nn extends Yo{construct(e,r,n){return new nn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ke(ve.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new nn(r)}static emptyPath(){return new nn([])}}const kfe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends Yo{construct(e,r,n){return new Zn(e,r,n)}static isValidIdentifier(e){return kfe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c4}static keyField(){return new Zn([c4])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Ke(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ke(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Ke(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(n+=a,i++):(s(),i++)}if(s(),o)throw new Ke(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(r)}static emptyPath(){return new Zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(nn.fromString(e))}static fromName(e){return new Ze(nn.fromString(e).popFirst(5))}static empty(){return new Ze(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return nn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new nn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=-1;function Dfe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=ot.fromTimestamp(n===1e9?new Sn(r+1,0):new Sn(r,n));return new Ll(i,Ze.empty(),e)}function Mfe(t){return new Ll(t.readTime,t.key,_g)}class Ll{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ll(ot.min(),Ze.empty(),_g)}static max(){return new Ll(ot.max(),Ze.empty(),_g)}}function Lfe(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ze.comparator(t.documentKey,e.documentKey),r!==0?r:vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ufe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ffe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==Ufe)throw t;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new fe((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof fe?r:fe.resolve(r)}catch(r){return fe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):fe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):fe.reject(r)}static resolve(e){return new fe((r,n)=>{r(e)})}static reject(e){return new fe((r,n)=>{n(e)})}static waitFor(e){return new fe((r,n)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&r()},u=>n(u))}),o=!0,s===i&&r()})}static or(e){let r=fe.resolve(!1);for(const n of e)r=r.next(i=>i?fe.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new fe((n,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;r(e[l]).next(h=>{o[l]=h,++a,a===s&&n(o)},h=>i(h))}})}static doWhile(e,r){return new fe((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function $fe(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Jf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.oe(n),this._e=n=>r.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}fb.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=-1;function pb(t){return t==null}function _w(t){return t===0&&1/t==-1/0}function Bfe(t){return typeof t=="number"&&Number.isInteger(t)&&!_w(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="";function jfe(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=l4(e)),e=Vfe(t.get(r),e);return l4(e)}function Vfe(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case aM:r+="";break;default:r+=s}}return r}function l4(t){return t+aM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Wl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function cM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,r){this.comparator=e,this.root=r||Qn.EMPTY}insert(e,r){return new Xr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new Xr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jy(this.root,e,this.comparator,!0)}}class Jy{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Qn.RED,this.left=i??Qn.EMPTY,this.right=s??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Qn(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Qn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(e,r,n,i,s){return this}insert(e,r,n){return new Qn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.comparator=e,this.data=new Xr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new d4(this.data.getIterator())}getIteratorFrom(e){return new d4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new In(this.comparator);return r.data=e,r}}class d4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new ws([])}unionWith(e){let r=new In(Zn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ws(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Cf(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new lM("Invalid base64 string: "+s):s}}(e);return new ei(r)}static fromUint8Array(e){const r=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ei(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ei.EMPTY_BYTE_STRING=new ei("");const qfe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ul(t){if(tr(!!t),typeof t=="string"){let e=0;const r=qfe.exec(t);if(tr(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:on(t.seconds),nanos:on(t.nanos)}}function on(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fl(t){return typeof t=="string"?ei.fromBase64String(t):ei.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="server_timestamp",dM="__type__",hM="__previous_value__",fM="__local_write_time__";function eI(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[dM])===null||r===void 0?void 0:r.stringValue)===uM}function mb(t){const e=t.mapValue.fields[hM];return eI(e)?mb(e):e}function Ag(t){const e=Ul(t.mapValue.fields[fM].timestampValue);return new Sn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zfe{constructor(e,r,n,i,s,o,a,u,l){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}const Aw="(default)";class Cg{constructor(e,r){this.projectId=e,this.database=r||Aw}static empty(){return new Cg("","")}get isDefaultDatabase(){return this.database===Aw}isEqual(e){return e instanceof Cg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="__type__",Hfe="__max__",Zy={mapValue:{}},mM="__vector__",Cw="value";function $l(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eI(t)?4:Kfe(t)?9007199254740991:Wfe(t)?10:11:rt()}function ma(t,e){if(t===e)return!0;const r=$l(t);if(r!==$l(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ag(t).isEqual(Ag(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ul(i.timestampValue),a=Ul(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Fl(i.bytesValue).isEqual(Fl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return on(i.geoPointValue.latitude)===on(s.geoPointValue.latitude)&&on(i.geoPointValue.longitude)===on(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return on(i.integerValue)===on(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=on(i.doubleValue),a=on(s.doubleValue);return o===a?_w(o)===_w(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Cf(t.arrayValue.values||[],e.arrayValue.values||[],ma);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(u4(o)!==u4(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!ma(o[u],a[u])))return!1;return!0}(t,e);default:return rt()}}function Sg(t,e){return(t.values||[]).find(r=>ma(r,e))!==void 0}function Sf(t,e){if(t===e)return 0;const r=$l(t),n=$l(e);if(r!==n)return vt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=on(s.integerValue||s.doubleValue),u=on(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return h4(t.timestampValue,e.timestampValue);case 4:return h4(Ag(t),Ag(e));case 5:return cC(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Fl(s),u=Fl(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const h=vt(a[l],u[l]);if(h!==0)return h}return vt(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=vt(on(s.latitude),on(o.latitude));return a!==0?a:vt(on(s.longitude),on(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return f4(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;const f=s.fields||{},m=o.fields||{},g=(a=f[Cw])===null||a===void 0?void 0:a.arrayValue,w=(u=m[Cw])===null||u===void 0?void 0:u.arrayValue,E=vt(((l=g==null?void 0:g.values)===null||l===void 0?void 0:l.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:f4(g,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Zy.mapValue&&o===Zy.mapValue)return 0;if(s===Zy.mapValue)return 1;if(o===Zy.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const m=cC(u[f],h[f]);if(m!==0)return m;const g=Sf(a[u[f]],l[h[f]]);if(g!==0)return g}return vt(u.length,h.length)}(t.mapValue,e.mapValue);default:throw rt()}}function h4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const r=Ul(t),n=Ul(e),i=vt(r.seconds,n.seconds);return i!==0?i:vt(r.nanos,n.nanos)}function f4(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Sf(r[i],n[i]);if(s)return s}return vt(r.length,n.length)}function If(t){return lC(t)}function lC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Ul(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Fl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ze.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=lC(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${lC(r.fields[o])}`;return i+"}"}(t.mapValue):rt()}function Iv(t){switch($l(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mb(t);return e?16+Iv(e):16;case 5:return 2*t.stringValue.length;case 6:return Fl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,s)=>i+Iv(s),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Wl(n.fields,(s,o)=>{i+=s.length+Iv(o)}),i}(t.mapValue);default:throw rt()}}function uC(t){return!!t&&"integerValue"in t}function tI(t){return!!t&&"arrayValue"in t}function p4(t){return!!t&&"nullValue"in t}function m4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tv(t){return!!t&&"mapValue"in t}function Wfe(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[pM])===null||r===void 0?void 0:r.stringValue)===mM}function Im(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Im(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Im(t.arrayValue.values[r]);return e}return Object.assign({},t)}function Kfe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Hfe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.value=e}static empty(){return new Xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Tv(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Im(r)}setAll(e){let r=Zn.emptyPath(),n={},i=[];e.forEach((o,a)=>{if(!r.isImmediateParentOf(a)){const u=this.getFieldsMap(r);this.applyChanges(u,n,i),n={},i=[],r=a.popLast()}o?n[a.lastSegment()]=Im(o):i.push(a.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());Tv(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ma(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Tv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Wl(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new Xi(Im(this.value))}}function gM(t){const e=[];return Wl(t.fields,(r,n)=>{const i=new Zn([r]);if(Tv(n)){const s=gM(n.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ws(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,r,n,i,s,o,a){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new gi(e,0,ot.min(),ot.min(),ot.min(),Xi.empty(),0)}static newFoundDocument(e,r,n,i){return new gi(e,1,r,ot.min(),n,i,0)}static newNoDocument(e,r){return new gi(e,2,r,ot.min(),ot.min(),Xi.empty(),0)}static newUnknownDocument(e,r){return new gi(e,3,r,ot.min(),ot.min(),Xi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,r){this.position=e,this.inclusive=r}}function g4(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?n=Ze.comparator(Ze.fromName(o.referenceValue),r.key):n=Sf(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function y4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ma(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,r="asc"){this.field=e,this.dir=r}}function Gfe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{}class An extends yM{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Yfe(e,r,n):r==="array-contains"?new Xfe(e,n):r==="in"?new epe(e,n):r==="not-in"?new tpe(e,n):r==="array-contains-any"?new rpe(e,n):new An(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Jfe(e,n):new Zfe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Sf(r,this.value)):r!==null&&$l(this.value)===$l(r)&&this.matchesComparison(Sf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ga extends yM{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new ga(e,r)}matches(e){return vM(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function vM(t){return t.op==="and"}function wM(t){return Qfe(t)&&vM(t)}function Qfe(t){for(const e of t.filters)if(e instanceof ga)return!1;return!0}function dC(t){if(t instanceof An)return t.field.canonicalString()+t.op.toString()+If(t.value);if(wM(t))return t.filters.map(e=>dC(e)).join(",");{const e=t.filters.map(r=>dC(r)).join(",");return`${t.op}(${e})`}}function bM(t,e){return t instanceof An?function(n,i){return i instanceof An&&n.op===i.op&&n.field.isEqual(i.field)&&ma(n.value,i.value)}(t,e):t instanceof ga?function(n,i){return i instanceof ga&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,o,a)=>s&&bM(o,i.filters[a]),!0):!1}(t,e):void rt()}function EM(t){return t instanceof An?function(r){return`${r.field.canonicalString()} ${r.op} ${If(r.value)}`}(t):t instanceof ga?function(r){return r.op.toString()+" {"+r.getFilters().map(EM).join(" ,")+"}"}(t):"Filter"}class Yfe extends An{constructor(e,r,n){super(e,r,n),this.key=Ze.fromName(n.referenceValue)}matches(e){const r=Ze.comparator(e.key,this.key);return this.matchesComparison(r)}}class Jfe extends An{constructor(e,r){super(e,"in",r),this.keys=_M("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Zfe extends An{constructor(e,r){super(e,"not-in",r),this.keys=_M("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function _M(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ze.fromName(n.referenceValue))}class Xfe extends An{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return tI(r)&&Sg(r.arrayValue,this.value)}}class epe extends An{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Sg(this.value.arrayValue,r)}}class tpe extends An{constructor(e,r){super(e,"not-in",r)}matches(e){if(Sg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Sg(this.value.arrayValue,r)}}class rpe extends An{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!tI(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Sg(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class npe{constructor(e,r=null,n=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function v4(t,e=null,r=[],n=[],i=null,s=null,o=null){return new npe(t,e,r,n,i,s,o)}function rI(t){const e=ct(t);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>dC(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),pb(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>If(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>If(n)).join(",")),e.le=r}return e.le}function nI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Gfe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!bM(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!y4(t.startAt,e.startAt)&&y4(t.endAt,e.endAt)}function hC(t){return Ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,r=null,n=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ipe(t,e,r,n,i,s,o,a){return new gb(t,e,r,n,i,s,o,a)}function yb(t){return new gb(t)}function w4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function spe(t){return t.collectionGroup!==null}function Tm(t){const e=ct(t);if(e.he===null){e.he=[];const r=new Set;for(const s of e.explicitOrderBy)e.he.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new In(Zn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.he.push(new Iw(s,n))}),r.has(Zn.keyField().canonicalString())||e.he.push(new Iw(Zn.keyField(),n))}return e.he}function ia(t){const e=ct(t);return e.Pe||(e.Pe=ope(e,Tm(t))),e.Pe}function ope(t,e){if(t.limitType==="F")return v4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Iw(i.field,s)});const r=t.endAt?new Sw(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Sw(t.startAt.position,t.startAt.inclusive):null;return v4(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function fC(t,e,r){return new gb(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function vb(t,e){return nI(ia(t),ia(e))&&t.limitType===e.limitType}function AM(t){return`${rI(ia(t))}|lt:${t.limitType}`}function Oh(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>EM(i)).join(", ")}]`),pb(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>If(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>If(i)).join(",")),`Target(${n})`}(ia(t))}; limitType=${t.limitType})`}function wb(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ze.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Tm(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,a,u){const l=g4(o,a,u);return o.inclusive?l<=0:l<0}(n.startAt,Tm(n),i)||n.endAt&&!function(o,a,u){const l=g4(o,a,u);return o.inclusive?l>=0:l>0}(n.endAt,Tm(n),i))}(t,e)}function ape(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CM(t){return(e,r)=>{let n=!1;for(const i of Tm(t)){const s=cpe(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function cpe(t,e,r){const n=t.field.isKeyField()?Ze.comparator(e.key,r.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Sf(u,l):rt()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wl(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return cM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lpe=new Xr(Ze.comparator);function uc(){return lpe}const SM=new Xr(Ze.comparator);function dm(...t){let e=SM;for(const r of t)e=e.insert(r.key,r);return e}function IM(t){let e=SM;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Du(){return xm()}function TM(){return xm()}function xm(){return new Cd(t=>t.toString(),(t,e)=>t.isEqual(e))}const upe=new Xr(Ze.comparator),dpe=new In(Ze.comparator);function Ct(...t){let e=dpe;for(const r of t)e=e.add(r);return e}const hpe=new In(vt);function fpe(){return hpe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_w(e)?"-0":e}}function xM(t){return{integerValue:""+t}}function NM(t,e){return Bfe(e)?xM(e):iI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this._=void 0}}function ppe(t,e,r){return t instanceof Tw?function(i,s){const o={fields:{[dM]:{stringValue:uM},[fM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&eI(s)&&(s=mb(s)),s&&(o.fields[hM]=s),{mapValue:o}}(r,e):t instanceof Ig?RM(t,e):t instanceof Tg?OM(t,e):function(i,s){const o=PM(i,s),a=b4(o)+b4(i.Ie);return uC(o)&&uC(i.Ie)?xM(a):iI(i.serializer,a)}(t,e)}function mpe(t,e,r){return t instanceof Ig?RM(t,e):t instanceof Tg?OM(t,e):r}function PM(t,e){return t instanceof xg?function(n){return uC(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Tw extends bb{}class Ig extends bb{constructor(e){super(),this.elements=e}}function RM(t,e){const r=kM(e);for(const n of t.elements)r.some(i=>ma(i,n))||r.push(n);return{arrayValue:{values:r}}}class Tg extends bb{constructor(e){super(),this.elements=e}}function OM(t,e){let r=kM(e);for(const n of t.elements)r=r.filter(i=>!ma(i,n));return{arrayValue:{values:r}}}class xg extends bb{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function b4(t){return on(t.integerValue||t.doubleValue)}function kM(t){return tI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gpe{constructor(e,r){this.field=e,this.transform=r}}function ype(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Ig&&i instanceof Ig||n instanceof Tg&&i instanceof Tg?Cf(n.elements,i.elements,ma):n instanceof xg&&i instanceof xg?ma(n.Ie,i.Ie):n instanceof Tw&&i instanceof Tw}(t.transform,e.transform)}class vpe{constructor(e,r){this.version=e,this.transformResults=r}}class sa{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new sa}static exists(e){return new sa(void 0,e)}static updateTime(e){return new sa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Eb{}function DM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new LM(t.key,sa.none()):new s0(t.key,t.data,sa.none());{const r=t.data,n=Xi.empty();let i=new In(Zn.comparator);for(let s of e.fields)if(!i.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new Kl(t.key,n,new ws(i.toArray()),sa.none())}}function wpe(t,e,r){t instanceof s0?function(i,s,o){const a=i.value.clone(),u=_4(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,r):t instanceof Kl?function(i,s,o){if(!xv(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=_4(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(MM(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,r):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Nm(t,e,r,n){return t instanceof s0?function(s,o,a,u){if(!xv(s.precondition,o))return a;const l=s.value.clone(),h=A4(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,r,n):t instanceof Kl?function(s,o,a,u){if(!xv(s.precondition,o))return a;const l=A4(s.fieldTransforms,u,o),h=o.data;return h.setAll(MM(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(s,o,a){return xv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,r)}function bpe(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=PM(n.transform,i||null);s!=null&&(r===null&&(r=Xi.empty()),r.set(n.field,s))}return r||null}function E4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Cf(n,i,(s,o)=>ype(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class s0 extends Eb{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Kl extends Eb{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function MM(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function _4(t,e,r){const n=new Map;tr(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);n.set(s.field,mpe(o,a,r[i]))}return n}function A4(t,e,r){const n=new Map;for(const i of t){const s=i.transform,o=r.data.field(i.field);n.set(i.field,ppe(s,o,e))}return n}class LM extends Eb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Epe extends Eb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _pe{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&wpe(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Nm(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Nm(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=TM();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=r.has(i.key)?null:a;const u=DM(o,a);u!==null&&n.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ot.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ct())}isEqual(e){return this.batchId===e.batchId&&Cf(this.mutations,e.mutations,(r,n)=>E4(r,n))&&Cf(this.baseMutations,e.baseMutations,(r,n)=>E4(r,n))}}class sI{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){tr(e.mutations.length===n.length);let i=function(){return upe}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,n[o].version);return new sI(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ape{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cpe{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,Dt;function Spe(t){switch(t){case ve.OK:return rt();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return rt()}}function UM(t){if(t===void 0)return lc("GRPC error has no .code"),ve.UNKNOWN;switch(t){case dn.OK:return ve.OK;case dn.CANCELLED:return ve.CANCELLED;case dn.UNKNOWN:return ve.UNKNOWN;case dn.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case dn.INTERNAL:return ve.INTERNAL;case dn.UNAVAILABLE:return ve.UNAVAILABLE;case dn.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case dn.NOT_FOUND:return ve.NOT_FOUND;case dn.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case dn.ABORTED:return ve.ABORTED;case dn.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case dn.DATA_LOSS:return ve.DATA_LOSS;default:return rt()}}(Dt=dn||(dn={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ipe=new xl([4294967295,4294967295],0);function C4(t){const e=sM().encode(t),r=new ZD;return r.update(e),new Uint8Array(r.digest())}function S4(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xl([r,n],0),new xl([i,s],0)]}class oI{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new hm(`Invalid padding: ${r}`);if(n<0)throw new hm(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new hm(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new hm(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=xl.fromNumber(this.Ee)}Ae(e,r,n){let i=e.add(r.multiply(xl.fromNumber(n)));return i.compare(Ipe)===1&&(i=new xl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=C4(e),[n,i]=S4(r);for(let s=0;s<this.hashCount;s++){const o=this.Ae(n,i,s);if(!this.Re(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new oI(s,i,r);return n.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const r=C4(e),[n,i]=S4(r);for(let s=0;s<this.hashCount;s++){const o=this.Ae(n,i,s);this.Ve(o)}}Ve(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class hm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,o0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new _b(ot.min(),i,new Xr(vt),uc(),Ct())}}class o0{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new o0(n,r,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,r,n,i){this.me=e,this.removedTargetIds=r,this.key=n,this.fe=i}}class FM{constructor(e,r){this.targetId=e,this.ge=r}}class $M{constructor(e,r,n=ei.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class I4{constructor(){this.pe=0,this.ye=T4(),this.we=ei.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ct(),r=Ct(),n=Ct();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:rt()}}),new o0(this.we,this.Se,e,r,n)}Me(){this.be=!1,this.ye=T4()}xe(e,r){this.be=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,tr(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Tpe{constructor(e){this.ke=e,this.qe=new Map,this.Qe=uc(),this.$e=Xy(),this.Ue=Xy(),this.Ke=new Xr(vt)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,r=>{const n=this.He(r);switch(e.state){case 0:this.Je(r)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(r);break;case 3:this.Je(r)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),n.Ce(e.resumeToken));break;default:rt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach((n,i)=>{this.Je(i)&&r(i)})}Ze(e){const r=e.targetId,n=e.ge.count,i=this.Xe(r);if(i){const s=i.target;if(hC(s))if(n===0){const o=new Ze(s.path);this.ze(r,o,gi.newNoDocument(o,ot.min()))}else tr(n===1);else{const o=this.et(r);if(o!==n){const a=this.tt(e),u=a?this.nt(a,e,o):1;if(u!==0){this.Ye(r);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,l)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let o,a;try{o=Fl(n).toUint8Array()}catch(u){if(u instanceof lM)return Af("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new oI(o,i,s)}catch(u){return Af(u instanceof hm?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ee===0?null:a}nt(e,r,n){return r.ge.count===n-this.st(e,r.targetId)?0:2}st(e,r){const n=this.ke.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(r,s,null),i++)}),i}ot(e){const r=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&hC(a.target)){const u=new Ze(a.target.path);this._t(u).has(o)||this.ut(o,u)||this.ze(o,u,gi.newNoDocument(u,e))}s.ve&&(r.set(o,s.Fe()),s.Me())}});let n=Ct();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Xe(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new _b(e,r,this.Ke,this.Qe,n);return this.Qe=uc(),this.$e=Xy(),this.Ue=Xy(),this.Ke=new Xr(vt),i}Ge(e,r){if(!this.Je(e))return;const n=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,n),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(e))}ze(e,r,n){if(!this.Je(e))return;const i=this.He(e);this.ut(e,r)?i.xe(r,1):i.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(e)),this.Ue=this.Ue.insert(r,this.ct(r).add(e)),n&&(this.Qe=this.Qe.insert(r,n))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new I4,this.qe.set(e,r)),r}ct(e){let r=this.Ue.get(e);return r||(r=new In(vt),this.Ue=this.Ue.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new In(vt),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||Me("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new I4),this.ke.getRemoteKeysForTarget(e).forEach(r=>{this.ze(e,r,null)})}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function Xy(){return new Xr(Ze.comparator)}function T4(){return new Xr(Ze.comparator)}const xpe={asc:"ASCENDING",desc:"DESCENDING"},Npe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ppe={and:"AND",or:"OR"};class Rpe{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function pC(t,e){return t.useProto3Json||pb(e)?e:{value:e}}function xw(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ope(t,e){return xw(t,e.toTimestamp())}function oa(t){return tr(!!t),ot.fromTimestamp(function(r){const n=Ul(r);return new Sn(n.seconds,n.nanos)}(t))}function aI(t,e){return mC(t,e).canonicalString()}function mC(t,e){const r=function(i){return new nn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function jM(t){const e=nn.fromString(t);return tr(WM(e)),e}function gC(t,e){return aI(t.databaseId,e.path)}function aA(t,e){const r=jM(e);if(r.get(1)!==t.databaseId.projectId)throw new Ke(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ke(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ze(qM(r))}function VM(t,e){return aI(t.databaseId,e)}function kpe(t){const e=jM(t);return e.length===4?nn.emptyPath():qM(e)}function yC(t){return new nn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qM(t){return tr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function x4(t,e,r){return{name:gC(t,e),fields:r.value.mapValue.fields}}function Dpe(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:rt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(tr(h===void 0||typeof h=="string"),ei.fromBase64String(h||"")):(tr(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ei.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const h=l.code===void 0?ve.UNKNOWN:UM(l.code);return new Ke(h,l.message||"")}(o);r=new $M(n,i,s,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=aA(t,n.document.name),s=oa(n.document.updateTime),o=n.document.createTime?oa(n.document.createTime):ot.min(),a=new Xi({mapValue:{fields:n.document.fields}}),u=gi.newFoundDocument(i,s,o,a),l=n.targetIds||[],h=n.removedTargetIds||[];r=new Nv(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=aA(t,n.document),s=n.readTime?oa(n.readTime):ot.min(),o=gi.newNoDocument(i,s),a=n.removedTargetIds||[];r=new Nv([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=aA(t,n.document),s=n.removedTargetIds||[];r=new Nv([],s,i,null)}else{if(!("filter"in e))return rt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new Cpe(i,s),a=n.targetId;r=new FM(a,o)}}return r}function Mpe(t,e){let r;if(e instanceof s0)r={update:x4(t,e.key,e.value)};else if(e instanceof LM)r={delete:gC(t,e.key)};else if(e instanceof Kl)r={update:x4(t,e.key,e.data),updateMask:zpe(e.fieldMask)};else{if(!(e instanceof Epe))return rt();r={verify:gC(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const a=o.transform;if(a instanceof Tw)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ig)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Tg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xg)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw rt()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Ope(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:rt()}(t,e.precondition)),r}function Lpe(t,e){return t&&t.length>0?(tr(e!==void 0),t.map(r=>function(i,s){let o=i.updateTime?oa(i.updateTime):oa(s);return o.isEqual(ot.min())&&(o=oa(s)),new vpe(o,i.transformResults||[])}(r,e))):[]}function Upe(t,e){return{documents:[VM(t,e.path)]}}function Fpe(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=VM(t,i);const s=function(l){if(l.length!==0)return HM(ga.create(l,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:kh(m.field),direction:jpe(m.dir)}}(h))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const a=pC(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ht:r,parent:i}}function $pe(t){let e=kpe(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){tr(n===1);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];r.where&&(s=function(f){const m=zM(f);return m instanceof ga&&wM(m)?m.getFilters():[m]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(m=>function(w){return new Iw(Dh(w.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(r.orderBy));let a=null;r.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,pb(m)?null:m}(r.limit));let u=null;r.startAt&&(u=function(f){const m=!!f.before,g=f.values||[];return new Sw(g,m)}(r.startAt));let l=null;return r.endAt&&(l=function(f){const m=!f.before,g=f.values||[];return new Sw(g,m)}(r.endAt)),ipe(e,i,o,s,a,"F",u,l)}function Bpe(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function zM(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Dh(r.unaryFilter.field);return An.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Dh(r.unaryFilter.field);return An.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Dh(r.unaryFilter.field);return An.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Dh(r.unaryFilter.field);return An.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(t):t.fieldFilter!==void 0?function(r){return An.create(Dh(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ga.create(r.compositeFilter.filters.map(n=>zM(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return rt()}}(r.compositeFilter.op))}(t):rt()}function jpe(t){return xpe[t]}function Vpe(t){return Npe[t]}function qpe(t){return Ppe[t]}function kh(t){return{fieldPath:t.canonicalString()}}function Dh(t){return Zn.fromServerFormat(t.fieldPath)}function HM(t){return t instanceof An?function(r){if(r.op==="=="){if(m4(r.value))return{unaryFilter:{field:kh(r.field),op:"IS_NAN"}};if(p4(r.value))return{unaryFilter:{field:kh(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(m4(r.value))return{unaryFilter:{field:kh(r.field),op:"IS_NOT_NAN"}};if(p4(r.value))return{unaryFilter:{field:kh(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kh(r.field),op:Vpe(r.op),value:r.value}}}(t):t instanceof ga?function(r){const n=r.getFilters().map(i=>HM(i));return n.length===1?n[0]:{compositeFilter:{op:qpe(r.op),filters:n}}}(t):rt()}function zpe(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function WM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,r,n,i,s=ot.min(),o=ot.min(),a=ei.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new wl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hpe{constructor(e){this.Tt=e}}function Wpe(t){const e=$pe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fC(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kpe{constructor(){this.Tn=new Gpe}addToCollectionParentIndex(e,r){return this.Tn.add(r),fe.resolve()}getCollectionParents(e,r){return fe.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return fe.resolve()}deleteFieldIndex(e,r){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,r){return fe.resolve()}getDocumentsMatchingTarget(e,r){return fe.resolve(null)}getIndexType(e,r){return fe.resolve(0)}getFieldIndexes(e,r){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,r){return fe.resolve(Ll.min())}getMinOffsetFromCollectionGroup(e,r){return fe.resolve(Ll.min())}updateCollectionGroup(e,r,n){return fe.resolve()}updateIndexEntries(e,r){return fe.resolve()}}class Gpe{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new In(nn.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new In(nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KM=41943040;class Zi{static withCacheSize(e){return new Zi(e,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi.DEFAULT_COLLECTION_PERCENTILE=10,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zi.DEFAULT=new Zi(KM,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zi.DISABLED=new Zi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Tf(0)}static Kn(){return new Tf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="LruGarbageCollector",Qpe=1048576;function R4([t,e],[r,n]){const i=vt(t,r);return i===0?vt(e,n):i}class Ype{constructor(e){this.Hn=e,this.buffer=new In(R4),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();R4(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Jpe{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Me(P4,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Jf(r)?Me(P4,"Ignoring IndexedDB error during garbage collection: ",r):await Yf(r)}await this.er(3e5)})}}class Zpe{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return fe.resolve(fb.ae);const n=new Ype(r);return this.tr.forEachTarget(e,i=>n.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>n.Zn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.tr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(N4)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N4):this.ir(e,r))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let n,i,s,o,a,u,l;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,a=Date.now(),this.removeTargets(e,n,r))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(l=Date.now(),Rh()<=Mt.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function Xpe(t,e){return new Zpe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eme{constructor(){this.changes=new Cd(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,gi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?fe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tme{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rme{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Nm(n.mutation,i,ws.empty(),Sn.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ct()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ct()){const i=Du();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let o=dm();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Du();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ct()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{r.set(o,a)})})}computeViews(e,r,n,i){let s=uc();const o=xm(),a=function(){return xm()}();return r.forEach((u,l)=>{const h=n.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Kl)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Nm(h.mutation,l,h.mutation.getFieldMask(),Sn.now())):o.set(l.key,ws.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),r.forEach((l,h)=>{var f;return a.set(l,new tme(h,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,r){const n=xm();let i=new Xr((o,a)=>o-a),s=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=r.get(u);if(l===null)return;let h=n.get(u)||ws.empty();h=a.applyToLocalView(l,h),n.set(u,h);const f=(i.get(a.batchId)||Ct()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,h=u.value,f=TM();h.forEach(m=>{if(!s.has(m)){const g=DM(r.get(m),n.get(m));g!==null&&f.set(m,g),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return fe.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return Ze.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):spe(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):fe.resolve(Du());let a=_g,u=s;return o.next(l=>fe.forEach(l,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?fe.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,Ct())).next(h=>({batchId:a,changes:IM(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ze(r)).next(n=>{let i=dm();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let o=dm();return this.indexManager.getCollectionParents(e,s).next(a=>fe.forEach(a,u=>{const l=function(f,m){return new gb(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,n,i).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(o=>{s.forEach((u,l)=>{const h=l.getKey();o.get(h)===null&&(o=o.insert(h,gi.newInvalidDocument(h)))});let a=dm();return o.forEach((u,l)=>{const h=s.get(u);h!==void 0&&Nm(h.mutation,l,ws.empty(),Sn.now()),wb(r,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nme{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return fe.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:oa(i.createTime)}}(r)),fe.resolve()}getNamedQuery(e,r){return fe.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,function(i){return{name:i.name,query:Wpe(i.bundledQuery),readTime:oa(i.readTime)}}(r)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ime{constructor(){this.overlays=new Xr(Ze.comparator),this.Rr=new Map}getOverlay(e,r){return fe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Du();return fe.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.Et(e,r,s)}),fe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Rr.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(n)),fe.resolve()}getOverlaysForCollection(e,r,n){const i=Du(),s=r.length+1,o=new Ze(r.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!r.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>n&&i.set(u.getKey(),u)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Xr((l,h)=>l-h);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===r&&l.largestBatchId>n){let h=s.get(l.largestBatchId);h===null&&(h=Du(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=Du(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return fe.resolve(a)}Et(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(n.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Ape(r,n));let s=this.Rr.get(r);s===void 0&&(s=Ct(),this.Rr.set(r,s)),this.Rr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sme{constructor(){this.sessionToken=ei.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.Vr=new In(Mn.mr),this.gr=new In(Mn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const n=new Mn(e,r);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.wr(new Mn(e,r))}Sr(e,r){e.forEach(n=>this.removeReference(n,r))}br(e){const r=new Ze(new nn([])),n=new Mn(r,e),i=new Mn(r,e+1),s=[];return this.gr.forEachInRange([n,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new Ze(new nn([])),n=new Mn(r,e),i=new Mn(r,e+1);let s=Ct();return this.gr.forEachInRange([n,i],o=>{s=s.add(o.key)}),s}containsKey(e){const r=new Mn(e,0),n=this.Vr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Mn{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return Ze.comparator(e.key,r.key)||vt(e.Cr,r.Cr)}static pr(e,r){return vt(e.Cr,r.Cr)||Ze.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ome{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new In(Mn.mr)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _pe(s,r,n,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new Mn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(e,r){return fe.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Nr(n),s=i<0?0:i;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?XS:this.Fr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Mn(r,0),i=new Mn(r,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([n,i],o=>{const a=this.Or(o.Cr);s.push(a)}),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new In(vt);return r.forEach(i=>{const s=new Mn(i,0),o=new Mn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{n=n.add(a.Cr)})}),fe.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Ze.isDocumentKey(s)||(s=s.child(""));const o=new Mn(new Ze(s),0);let a=new In(vt);return this.Mr.forEachWhile(u=>{const l=u.key.path;return!!n.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Cr)),!0)},o),fe.resolve(this.Br(a))}Br(e){const r=[];return e.forEach(n=>{const i=this.Or(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){tr(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return fe.forEach(r.mutations,i=>{const s=new Mn(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,r){const n=new Mn(r,0),i=this.Mr.firstAfterOrEqual(n);return fe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ame{constructor(e){this.kr=e,this.docs=function(){return new Xr(Ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,o=this.kr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return fe.resolve(n?n.document.mutableCopy():gi.newInvalidDocument(r))}getEntries(e,r){let n=uc();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():gi.newInvalidDocument(i))}),fe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=uc();const o=r.path,a=new Ze(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Lfe(Mfe(h),n)<=0||(i.has(h.key)||wb(r,h))&&(s=s.insert(h.key,h.mutableCopy()))}return fe.resolve(s)}getAllFromCollectionGroup(e,r,n,i){rt()}qr(e,r){return fe.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new cme(this)}getSize(e){return fe.resolve(this.size)}}class cme extends eme{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(n)}),fe.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lme{constructor(e){this.persistence=e,this.Qr=new Cd(r=>rI(r),nI),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.$r=0,this.Ur=new cI,this.targetCount=0,this.Kr=Tf.Un()}forEachTarget(e,r){return this.Qr.forEach((n,i)=>r(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.$r&&(this.$r=r),fe.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Kr=new Tf(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,fe.resolve()}updateTargetData(e,r){return this.zn(r),fe.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),fe.waitFor(s).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,r){const n=this.Qr.get(r)||null;return fe.resolve(n)}addMatchingKeys(e,r,n){return this.Ur.yr(r,n),fe.resolve()}removeMatchingKeys(e,r,n){this.Ur.Sr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),fe.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Ur.br(r),fe.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Ur.vr(r);return fe.resolve(n)}containsKey(e,r){return fe.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new fb(0),this.zr=!1,this.zr=!0,this.jr=new sme,this.referenceDelegate=e(this),this.Hr=new lme(this),this.indexManager=new Kpe,this.remoteDocumentCache=function(i){return new ame(i)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new Hpe(r),this.Yr=new nme(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new ime,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Wr[e.toKey()];return n||(n=new ome(r,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,n){Me("MemoryPersistence","Starting transaction:",e);const i=new ume(this.Gr.next());return this.referenceDelegate.Zr(),n(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,r){return fe.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,r)))}}class ume extends Ffe{constructor(e){super(),this.currentSequenceNumber=e}}class lI{constructor(e){this.persistence=e,this.ti=new cI,this.ni=null}static ri(e){return new lI(e)}get ii(){if(this.ni)return this.ni;throw rt()}addReference(e,r,n){return this.ti.addReference(n,r),this.ii.delete(n.toString()),fe.resolve()}removeReference(e,r,n){return this.ti.removeReference(n,r),this.ii.add(n.toString()),fe.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),fe.resolve()}removeTarget(e,r){this.ti.br(r.targetId).forEach(i=>this.ii.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.ii,n=>{const i=Ze.fromPath(n);return this.si(e,i).next(s=>{s||r.removeEntry(i,ot.min())})}).next(()=>(this.ni=null,r.apply(e)))}updateLimboDocument(e,r){return this.si(e,r).next(n=>{n?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(e){return 0}si(e,r){return fe.or([()=>fe.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class Nw{constructor(e,r){this.persistence=e,this.oi=new Cd(n=>jfe(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Xpe(this,r)}static ri(e,r){return new Nw(e,r)}Zr(){}Xr(e){return fe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}sr(e){let r=0;return this.rr(e,n=>{r++}).next(()=>r)}rr(e,r){return fe.forEach(this.oi,(n,i)=>this.ar(e,n,i).next(s=>s?fe.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,r).next(a=>{a||(n++,s.removeEntry(o,ot.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),fe.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),fe.resolve()}removeReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),fe.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Iv(e.data.value)),r}ar(e,r,n){return fe.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.oi.get(r);return fe.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Hi=n,this.Ji=i}static Yi(e,r){let n=Ct(),i=Ct();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uI(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dme{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hme{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return she()?8:$fe(nhe())>0?6:4}()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.rs(e,r).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,r,i,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new dme;return this._s(e,r,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,r,o,a.size)})}).next(()=>s.result)}us(e,r,n,i){return n.documentReadCount<this.es?(Rh()<=Mt.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",Oh(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),fe.resolve()):(Rh()<=Mt.DEBUG&&Me("QueryEngine","Query:",Oh(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ts*i?(Rh()<=Mt.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",Oh(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ia(r))):fe.resolve())}rs(e,r){if(w4(r))return fe.resolve(null);let n=ia(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=fC(r,null,"F"),n=ia(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=Ct(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,n).next(u=>{const l=this.cs(r,a);return this.ls(r,l,o,u.readTime)?this.rs(e,fC(r,null,"F")):this.hs(e,l,r,u)}))})))}ss(e,r,n,i){return w4(r)||i.isEqual(ot.min())?fe.resolve(null):this.ns.getDocuments(e,n).next(s=>{const o=this.cs(r,s);return this.ls(r,o,n,i)?fe.resolve(null):(Rh()<=Mt.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oh(r)),this.hs(e,o,r,Dfe(i,_g)).next(a=>a))})}cs(e,r){let n=new In(CM(e));return r.forEach((i,s)=>{wb(e,s)&&(n=n.add(s))}),n}ls(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,r,n){return Rh()<=Mt.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",Oh(r)),this.ns.getDocumentsMatchingQuery(e,r,Ll.min(),n)}hs(e,r,n,i){return this.ns.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="LocalStore",fme=3e8;class pme{constructor(e,r,n,i){this.persistence=e,this.Ps=r,this.serializer=i,this.Ts=new Xr(vt),this.Is=new Cd(s=>rI(s),nI),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rme(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ts))}}function mme(t,e,r,n){return new pme(t,e,r,n)}async function QM(t,e){const r=ct(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.As(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],a=[];let u=Ct();for(const l of i){o.push(l.batchId);for(const h of l.mutations)u=u.add(h.key)}for(const l of s){a.push(l.batchId);for(const h of l.mutations)u=u.add(h.key)}return r.localDocuments.getDocuments(n,u).next(l=>({Rs:l,removedBatchIds:o,addedBatchIds:a}))})})}function gme(t,e){const r=ct(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.ds.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){const f=l.batch,m=f.keys();let g=fe.resolve();return m.forEach(w=>{g=g.next(()=>h.getEntry(u,w)).next(E=>{const C=l.docVersions.get(w);tr(C!==null),E.version.compareTo(C)<0&&(f.applyToRemoteDocument(E,l),E.isValidDocument()&&(E.setReadTime(l.commitVersion),h.addEntry(E)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let u=Ct();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function YM(t){const e=ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Hr.getLastRemoteSnapshotVersion(r))}function yme(t,e){const r=ct(t),n=e.snapshotVersion;let i=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=r.ds.newChangeBuffer({trackRemovals:!0});i=r.Ts;const a=[];e.targetChanges.forEach((h,f)=>{const m=i.get(f);if(!m)return;a.push(r.Hr.removeMatchingKeys(s,h.removedDocuments,f).next(()=>r.Hr.addMatchingKeys(s,h.addedDocuments,f)));let g=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(ei.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,n)),i=i.insert(f,g),function(E,C,N){return E.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=fme?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(m,g,h)&&a.push(r.Hr.updateTargetData(s,g))});let u=uc(),l=Ct();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(vme(s,o,e.documentUpdates).next(h=>{u=h.Vs,l=h.fs})),!n.isEqual(ot.min())){const h=r.Hr.getLastRemoteSnapshotVersion(s).next(f=>r.Hr.setTargetsMetadata(s,s.currentSequenceNumber,n));a.push(h)}return fe.waitFor(a).next(()=>o.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(r.Ts=i,s))}function vme(t,e,r){let n=Ct(),i=Ct();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let o=uc();return r.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ot.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):Me(dI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Vs:o,fs:i}})}function wme(t,e){const r=ct(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=XS),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function bme(t,e){const r=ct(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Hr.getTargetData(n,e).next(s=>s?(i=s,fe.resolve(i)):r.Hr.allocateTargetId(n).next(o=>(i=new wl(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Hr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ts.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(n.targetId,n),r.Is.set(e,n.targetId)),n})}async function vC(t,e,r){const n=ct(t),i=n.Ts.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Jf(o))throw o;Me(dI,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ts=n.Ts.remove(e),n.Is.delete(i.target)}function O4(t,e,r){const n=ct(t);let i=ot.min(),s=Ct();return n.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){const f=ct(u),m=f.Is.get(h);return m!==void 0?fe.resolve(f.Ts.get(m)):f.Hr.getTargetData(l,h)}(n,o,ia(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>n.Ps.getDocumentsMatchingQuery(o,e,r?i:ot.min(),r?s:Ct())).next(a=>(Eme(n,ape(e),a),{documents:a,gs:s})))}function Eme(t,e,r){let n=t.Es.get(e)||ot.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.Es.set(e,n)}class k4{constructor(){this.activeTargetIds=fpe()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _me{constructor(){this.ho=new k4,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,n){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new k4,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ame{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="ConnectivityMonitor";class M4{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Me(D4,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Me(D4,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ev=null;function wC(){return ev===null?ev=function(){return 268435456+Math.round(2147483648*Math.random())}():ev++,"0x"+ev.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="RestConnection",Cme={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sme{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${n}/databases/${i}`,this.wo=this.databaseId.database===Aw?`project_id=${n}`:`project_id=${n}&database_id=${i}`}So(e,r,n,i,s){const o=wC(),a=this.bo(e,r.toUriEncodedString());Me(cA,`Sending RPC '${e}' ${o}:`,a,n);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,s),this.vo(e,a,u,n).then(l=>(Me(cA,`Received RPC '${e}' ${o}: `,l),l),l=>{throw Af(cA,`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",n),l})}Co(e,r,n,i,s,o){return this.So(e,r,n,i,s)}Do(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>e[s]=i),n&&n.headers.forEach((i,s)=>e[s]=i)}bo(e,r){const n=Cme[e];return`${this.po}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ime{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="WebChannelConnection";class Tme extends Sme{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,n,i){const s=wC();return new Promise((o,a)=>{const u=new XD;u.setWithCredentials(!0),u.listenOnce(eM.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Sv.NO_ERROR:const h=u.getResponseJson();Me(hi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Sv.TIMEOUT:Me(hi,`RPC '${e}' ${s} timed out`),a(new Ke(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Sv.HTTP_ERROR:const f=u.getStatus();if(Me(hi,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const w=function(C){const N=C.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(N)>=0?N:ve.UNKNOWN}(g.status);a(new Ke(w,g.message))}else a(new Ke(ve.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Ke(ve.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Me(hi,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);Me(hi,`RPC '${e}' ${s} sending request:`,i),u.send(r,"POST",l,n,15)})}Wo(e,r,n){const i=wC(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=nM(),a=rM(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,r,n),u.encodeInitMessageHeaders=!0;const h=s.join("");Me(hi,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=o.createWebChannel(h,u);let m=!1,g=!1;const w=new Ime({Fo:C=>{g?Me(hi,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(m||(Me(hi,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),Me(hi,`RPC '${e}' stream ${i} sending:`,C),f.send(C))},Mo:()=>f.close()}),E=(C,N,D)=>{C.listen(N,F=>{try{D(F)}catch(V){setTimeout(()=>{throw V},0)}})};return E(f,um.EventType.OPEN,()=>{g||(Me(hi,`RPC '${e}' stream ${i} transport opened.`),w.Qo())}),E(f,um.EventType.CLOSE,()=>{g||(g=!0,Me(hi,`RPC '${e}' stream ${i} transport closed`),w.Uo())}),E(f,um.EventType.ERROR,C=>{g||(g=!0,Af(hi,`RPC '${e}' stream ${i} transport errored:`,C),w.Uo(new Ke(ve.UNAVAILABLE,"The operation could not be completed")))}),E(f,um.EventType.MESSAGE,C=>{var N;if(!g){const D=C.data[0];tr(!!D);const F=D,V=(F==null?void 0:F.error)||((N=F[0])===null||N===void 0?void 0:N.error);if(V){Me(hi,`RPC '${e}' stream ${i} received error:`,V);const q=V.status;let j=function(k){const W=dn[k];if(W!==void 0)return UM(W)}(q),U=V.message;j===void 0&&(j=ve.INTERNAL,U="Unknown error status: "+q+" with message "+V.message),g=!0,w.Uo(new Ke(j,U)),f.close()}else Me(hi,`RPC '${e}' stream ${i} received:`,D),w.Ko(D)}}),E(a,tM.STAT_EVENT,C=>{C.stat===aC.PROXY?Me(hi,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===aC.NOPROXY&&Me(hi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}function lA(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t){return new Rpe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=r,this.Go=n,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),i=Math.max(0,r-n);i>0&&Me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="PersistentStream";class ZM{constructor(e,r,n,i,s,o,a,u){this.Ti=e,this.n_=n,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new JM(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===ve.RESOURCE_EXHAUSTED?(lc(r.toString()),lc("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.i_===r&&this.V_(n,i)},n=>{e(()=>{const i=new Ke(ve.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(i)})})}V_(e,r){const n=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{n(()=>this.m_(i))}),this.stream.onMessage(i=>{n(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Me(L4,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget(()=>this.i_===e?r():(Me(L4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xme extends ZM{constructor(e,r,n,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=Dpe(this.serializer,e),n=function(s){if(!("targetChange"in s))return ot.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ot.min():o.readTime?oa(o.readTime):ot.min()}(e);return this.listener.p_(r,n)}y_(e){const r={};r.database=yC(this.serializer),r.addTarget=function(s,o){let a;const u=o.target;if(a=hC(u)?{documents:Upe(s,u)}:{query:Fpe(s,u).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=BM(s,o.resumeToken);const l=pC(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ot.min())>0){a.readTime=xw(s,o.snapshotVersion.toTimestamp());const l=pC(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const n=Bpe(this.serializer,e);n&&(r.labels=n),this.I_(r)}w_(e){const r={};r.database=yC(this.serializer),r.removeTarget=e,this.I_(r)}}class Nme extends ZM{constructor(e,r,n,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return tr(!!e.streamToken),this.lastStreamToken=e.streamToken,tr(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){tr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=Lpe(e.writeResults,e.commitTime),n=oa(e.commitTime);return this.listener.v_(n,r)}C_(){const e={};e.database=yC(this.serializer),this.I_(e)}b_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Mpe(this.serializer,n))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pme{}class Rme extends Pme{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ke(ve.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,n,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,mC(r,n),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(ve.UNKNOWN,s.toString())})}Co(e,r,n,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,mC(r,n),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ke(ve.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Ome{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(lc(r),this.N_=!1):Me("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="RemoteStore";class kme{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{n.enqueueAndForget(async()=>{Sd(this)&&(Me(fd,"Restarting streams for network reachability change."),await async function(u){const l=ct(u);l.W_.add(4),await a0(l),l.j_.set("Unknown"),l.W_.delete(4),await Cb(l)}(this))})}),this.j_=new Ome(n,i)}}async function Cb(t){if(Sd(t))for(const e of t.G_)await e(!0)}async function a0(t){for(const e of t.G_)await e(!1)}function XM(t,e){const r=ct(t);r.K_.has(e.targetId)||(r.K_.set(e.targetId,e),mI(r)?pI(r):Zf(r).c_()&&fI(r,e))}function hI(t,e){const r=ct(t),n=Zf(r);r.K_.delete(e),n.c_()&&e7(r,e),r.K_.size===0&&(n.c_()?n.P_():Sd(r)&&r.j_.set("Unknown"))}function fI(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Zf(t).y_(e)}function e7(t,e){t.H_.Ne(e),Zf(t).w_(e)}function pI(t){t.H_=new Tpe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Zf(t).start(),t.j_.B_()}function mI(t){return Sd(t)&&!Zf(t).u_()&&t.K_.size>0}function Sd(t){return ct(t).W_.size===0}function t7(t){t.H_=void 0}async function Dme(t){t.j_.set("Online")}async function Mme(t){t.K_.forEach((e,r)=>{fI(t,e)})}async function Lme(t,e){t7(t),mI(t)?(t.j_.q_(e),pI(t)):t.j_.set("Unknown")}async function Ume(t,e,r){if(t.j_.set("Online"),e instanceof $M&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.K_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(n){Me(fd,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Pw(t,n)}else if(e instanceof Nv?t.H_.We(e):e instanceof FM?t.H_.Ze(e):t.H_.je(e),!r.isEqual(ot.min()))try{const n=await YM(t.localStore);r.compareTo(n)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.K_.get(l);h&&s.K_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const h=s.K_.get(u);if(!h)return;s.K_.set(u,h.withResumeToken(ei.EMPTY_BYTE_STRING,h.snapshotVersion)),e7(s,u);const f=new wl(h.target,u,l,h.sequenceNumber);fI(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){Me(fd,"Failed to raise snapshot:",n),await Pw(t,n)}}async function Pw(t,e,r){if(!Jf(e))throw e;t.W_.add(1),await a0(t),t.j_.set("Offline"),r||(r=()=>YM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Me(fd,"Retrying IndexedDB access"),await r(),t.W_.delete(1),await Cb(t)})}function r7(t,e){return e().catch(r=>Pw(t,r,e))}async function Sb(t){const e=ct(t),r=Bl(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:XS;for(;Fme(e);)try{const i=await wme(e.localStore,n);if(i===null){e.U_.length===0&&r.P_();break}n=i.batchId,$me(e,i)}catch(i){await Pw(e,i)}n7(e)&&i7(e)}function Fme(t){return Sd(t)&&t.U_.length<10}function $me(t,e){t.U_.push(e);const r=Bl(t);r.c_()&&r.S_&&r.b_(e.mutations)}function n7(t){return Sd(t)&&!Bl(t).u_()&&t.U_.length>0}function i7(t){Bl(t).start()}async function Bme(t){Bl(t).C_()}async function jme(t){const e=Bl(t);for(const r of t.U_)e.b_(r.mutations)}async function Vme(t,e,r){const n=t.U_.shift(),i=sI.from(n,e,r);await r7(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sb(t)}async function qme(t,e){e&&Bl(t).S_&&await async function(n,i){if(function(o){return Spe(o)&&o!==ve.ABORTED}(i.code)){const s=n.U_.shift();Bl(n).h_(),await r7(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Sb(n)}}(t,e),n7(t)&&i7(t)}async function U4(t,e){const r=ct(t);r.asyncQueue.verifyOperationInProgress(),Me(fd,"RemoteStore received new credentials");const n=Sd(r);r.W_.add(3),await a0(r),n&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await Cb(r)}async function zme(t,e){const r=ct(t);e?(r.W_.delete(2),await Cb(r)):e||(r.W_.add(2),await a0(r),r.j_.set("Unknown"))}function Zf(t){return t.J_||(t.J_=function(r,n,i){const s=ct(r);return s.M_(),new xme(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:Dme.bind(null,t),No:Mme.bind(null,t),Lo:Lme.bind(null,t),p_:Ume.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),mI(t)?pI(t):t.j_.set("Unknown")):(await t.J_.stop(),t7(t))})),t.J_}function Bl(t){return t.Y_||(t.Y_=function(r,n,i){const s=ct(r);return s.M_(),new Nme(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:Bme.bind(null,t),Lo:qme.bind(null,t),D_:jme.bind(null,t),v_:Vme.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Sb(t)):(await t.Y_.stop(),t.U_.length>0&&(Me(fd,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Nl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const o=Date.now()+n,a=new gI(e,r,o,i,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yI(t,e){if(lc("AsyncQueue",`${e}: ${t}`),Jf(t))return new Ke(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{static emptySet(e){return new Qh(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ze.comparator(r.key,n.key):(r,n)=>Ze.comparator(r.key,n.key),this.keyedMap=dm(),this.sortedSet=new Xr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Qh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Qh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.Z_=new Xr(Ze.comparator)}track(e){const r=e.doc.key,n=this.Z_.get(r);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(r):e.type===1&&n.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):rt():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal((r,n)=>{e.push(n)}),e}}class xf{constructor(e,r,n,i,s,o,a,u,l){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,r,n,i,s){const o=[];return r.forEach(a=>{o.push({type:0,doc:a})}),new xf(e,r,Qh.emptySet(r),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hme{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Wme{constructor(){this.queries=$4(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,n){const i=ct(r),s=i.queries;i.queries=$4(),s.forEach((o,a)=>{for(const u of a.ta)u.onError(n)})})(this,new Ke(ve.ABORTED,"Firestore shutting down"))}}function $4(){return new Cd(t=>AM(t),vb)}async function s7(t,e){const r=ct(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.na()&&e.ra()&&(n=2):(s=new Hme,n=e.ra()?0:1);try{switch(n){case 0:s.ea=await r.onListen(i,!0);break;case 1:s.ea=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const a=yI(o,`Initialization of query '${Oh(e.query)}' failed`);return void e.onError(a)}r.queries.set(i,s),s.ta.push(e),e.sa(r.onlineState),s.ea&&e.oa(s.ea)&&vI(r)}async function o7(t,e){const r=ct(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Kme(t,e){const r=ct(t);let n=!1;for(const i of e){const s=i.query,o=r.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(n=!0);o.ea=i}}n&&vI(r)}function Gme(t,e,r){const n=ct(t),i=n.queries.get(e);if(i)for(const s of i.ta)s.onError(r);n.queries.delete(e)}function vI(t){t.ia.forEach(e=>{e.next()})}var bC,B4;(B4=bC||(bC={}))._a="default",B4.Cache="cache";class a7{constructor(e,r,n){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new xf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const n=r!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=xf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==bC.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){this.key=e}}class l7{constructor(e){this.key=e}}class Qme{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ct(),this.mutatedKeys=Ct(),this.ya=CM(e),this.wa=new Qh(this.ya)}get Sa(){return this.fa}ba(e,r){const n=r?r.Da:new F4,i=r?r.wa:this.wa;let s=r?r.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const m=i.get(h),g=wb(this.query,f)?f:null,w=!!m&&this.mutatedKeys.has(m.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;m&&g?m.data.isEqual(g.data)?w!==E&&(n.track({type:3,doc:g}),C=!0):this.va(m,g)||(n.track({type:2,doc:g}),C=!0,(u&&this.ya(g,u)>0||l&&this.ya(g,l)<0)&&(a=!0)):!m&&g?(n.track({type:0,doc:g}),C=!0):m&&!g&&(n.track({type:1,doc:m}),C=!0,(u||l)&&(a=!0)),C&&(g?(o=o.add(g),s=E?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),n.track({type:1,doc:h})}return{wa:o,Da:n,ls:a,mutatedKeys:s}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((h,f)=>function(g,w){const E=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return E(g)-E(w)}(h.type,f.type)||this.ya(h.doc,f.doc)),this.Ca(n),i=i!=null&&i;const a=r&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,l=u!==this.ga;return this.ga=u,o.length!==0||l?{snapshot:new xf(this.query,e.wa,s,o,e.mutatedKeys,u===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new F4,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ct(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const r=[];return e.forEach(n=>{this.pa.has(n)||r.push(new l7(n))}),this.pa.forEach(n=>{e.has(n)||r.push(new c7(n))}),r}Oa(e){this.fa=e.gs,this.pa=Ct();const r=this.ba(e.documents);return this.applyChanges(r,!0)}Na(){return xf.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const wI="SyncEngine";class Yme{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Jme{constructor(e){this.key=e,this.Ba=!1}}class Zme{constructor(e,r,n,i,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Cd(a=>AM(a),vb),this.qa=new Map,this.Qa=new Set,this.$a=new Xr(Ze.comparator),this.Ua=new Map,this.Ka=new cI,this.Wa={},this.Ga=new Map,this.za=Tf.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Xme(t,e,r=!0){const n=m7(t);let i;const s=n.ka.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await u7(n,e,r,!0),i}async function ege(t,e){const r=m7(t);await u7(r,e,!0,!1)}async function u7(t,e,r,n){const i=await bme(t.localStore,ia(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,r);let a;return n&&(a=await tge(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&XM(t.remoteStore,i),a}async function tge(t,e,r,n,i){t.Ha=(f,m,g)=>async function(E,C,N,D){let F=C.view.ba(N);F.ls&&(F=await O4(E.localStore,C.query,!1).then(({documents:U})=>C.view.ba(U,F)));const V=D&&D.targetChanges.get(C.targetId),q=D&&D.targetMismatches.get(C.targetId)!=null,j=C.view.applyChanges(F,E.isPrimaryClient,V,q);return V4(E,C.targetId,j.Ma),j.snapshot}(t,f,m,g);const s=await O4(t.localStore,e,!0),o=new Qme(e,s.gs),a=o.ba(s.documents),u=o0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);V4(t,r,l.Ma);const h=new Yme(e,r,o);return t.ka.set(e,h),t.qa.has(r)?t.qa.get(r).push(e):t.qa.set(r,[e]),l.snapshot}async function rge(t,e,r){const n=ct(t),i=n.ka.get(e),s=n.qa.get(i.targetId);if(s.length>1)return n.qa.set(i.targetId,s.filter(o=>!vb(o,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await vC(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&hI(n.remoteStore,i.targetId),EC(n,i.targetId)}).catch(Yf)):(EC(n,i.targetId),await vC(n.localStore,i.targetId,!0))}async function nge(t,e){const r=ct(t),n=r.ka.get(e),i=r.qa.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),hI(r.remoteStore,n.targetId))}async function ige(t,e,r){const n=dge(t);try{const i=await function(o,a){const u=ct(o),l=Sn.now(),h=a.reduce((g,w)=>g.add(w.key),Ct());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=uc(),E=Ct();return u.ds.getEntries(g,h).next(C=>{w=C,w.forEach((N,D)=>{D.isValidDocument()||(E=E.add(N))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,w)).next(C=>{f=C;const N=[];for(const D of a){const F=bpe(D,f.get(D.key).overlayedDocument);F!=null&&N.push(new Kl(D.key,F,gM(F.value.mapValue),sa.exists(!0)))}return u.mutationQueue.addMutationBatch(g,l,N,a)}).next(C=>{m=C;const N=C.applyToLocalDocumentSet(f,E);return u.documentOverlayCache.saveOverlays(g,C.batchId,N)})}).then(()=>({batchId:m.batchId,changes:IM(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Wa[o.currentUser.toKey()];l||(l=new Xr(vt)),l=l.insert(a,u),o.Wa[o.currentUser.toKey()]=l}(n,i.batchId,r),await c0(n,i.changes),await Sb(n.remoteStore)}catch(i){const s=yI(i,"Failed to persist write");r.reject(s)}}async function d7(t,e){const r=ct(t);try{const n=await yme(r.localStore,e);e.targetChanges.forEach((i,s)=>{const o=r.Ua.get(s);o&&(tr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?tr(o.Ba):i.removedDocuments.size>0&&(tr(o.Ba),o.Ba=!1))}),await c0(r,n,e)}catch(n){await Yf(n)}}function j4(t,e,r){const n=ct(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ct(o);u.onlineState=a;let l=!1;u.queries.forEach((h,f)=>{for(const m of f.ta)m.sa(a)&&(l=!0)}),l&&vI(u)}(n.eventManager,e),i.length&&n.La.p_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function sge(t,e,r){const n=ct(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Ua.get(e),s=i&&i.key;if(s){let o=new Xr(Ze.comparator);o=o.insert(s,gi.newNoDocument(s,ot.min()));const a=Ct().add(s),u=new _b(ot.min(),new Map,new Xr(vt),o,a);await d7(n,u),n.$a=n.$a.remove(s),n.Ua.delete(e),bI(n)}else await vC(n.localStore,e,!1).then(()=>EC(n,e,r)).catch(Yf)}async function oge(t,e){const r=ct(t),n=e.batch.batchId;try{const i=await gme(r.localStore,e);f7(r,n,null),h7(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await c0(r,i)}catch(i){await Yf(i)}}async function age(t,e,r){const n=ct(t);try{const i=await function(o,a){const u=ct(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(tr(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(n.localStore,e);f7(n,e,r),h7(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await c0(n,i)}catch(i){await Yf(i)}}function h7(t,e){(t.Ga.get(e)||[]).forEach(r=>{r.resolve()}),t.Ga.delete(e)}function f7(t,e,r){const n=ct(t);let i=n.Wa[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Wa[n.currentUser.toKey()]=i}}function EC(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.qa.get(e))t.ka.delete(n),r&&t.La.Ja(n,r);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(n=>{t.Ka.containsKey(n)||p7(t,n)})}function p7(t,e){t.Qa.delete(e.path.canonicalString());const r=t.$a.get(e);r!==null&&(hI(t.remoteStore,r),t.$a=t.$a.remove(e),t.Ua.delete(r),bI(t))}function V4(t,e,r){for(const n of r)n instanceof c7?(t.Ka.addReference(n.key,e),cge(t,n)):n instanceof l7?(Me(wI,"Document no longer in limbo: "+n.key),t.Ka.removeReference(n.key,e),t.Ka.containsKey(n.key)||p7(t,n.key)):rt()}function cge(t,e){const r=e.key,n=r.path.canonicalString();t.$a.get(r)||t.Qa.has(n)||(Me(wI,"New document in limbo: "+r),t.Qa.add(n),bI(t))}function bI(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const r=new Ze(nn.fromString(e)),n=t.za.next();t.Ua.set(n,new Jme(r)),t.$a=t.$a.insert(r,n),XM(t.remoteStore,new wl(ia(yb(r.path)),n,"TargetPurposeLimboResolution",fb.ae))}}async function c0(t,e,r){const n=ct(t),i=[],s=[],o=[];n.ka.isEmpty()||(n.ka.forEach((a,u)=>{o.push(n.Ha(u,e,r).then(l=>{var h;if((l||r)&&n.isPrimaryClient){const f=l?!l.fromCache:(h=r==null?void 0:r.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);const f=uI.Yi(u.targetId,l);s.push(f)}}))}),await Promise.all(o),n.La.p_(i),await async function(u,l){const h=ct(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>fe.forEach(l,m=>fe.forEach(m.Hi,g=>h.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>fe.forEach(m.Ji,g=>h.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Jf(f))throw f;Me(dI,"Failed to update sequence numbers: "+f)}for(const f of l){const m=f.targetId;if(!f.fromCache){const g=h.Ts.get(m),w=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(w);h.Ts=h.Ts.insert(m,E)}}}(n.localStore,s))}async function lge(t,e){const r=ct(t);if(!r.currentUser.isEqual(e)){Me(wI,"User change. New user:",e.toKey());const n=await QM(r.localStore,e);r.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(u=>{u.reject(new Ke(ve.CANCELLED,o))})}),s.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await c0(r,n.Rs)}}function uge(t,e){const r=ct(t),n=r.Ua.get(e);if(n&&n.Ba)return Ct().add(n.key);{let i=Ct();const s=r.qa.get(e);if(!s)return i;for(const o of s){const a=r.ka.get(o);i=i.unionWith(a.view.Sa)}return i}}function m7(t){const e=ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=d7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uge.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sge.bind(null,e),e.La.p_=Kme.bind(null,e.eventManager),e.La.Ja=Gme.bind(null,e.eventManager),e}function dge(t){const e=ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oge.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=age.bind(null,e),e}class Rw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ab(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return mme(this.persistence,new hme,e.initialUser,this.serializer)}Xa(e){return new GM(lI.ri,this.serializer)}Za(e){return new _me}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rw.provider={build:()=>new Rw};class hge extends Rw{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){tr(this.persistence.referenceDelegate instanceof Nw);const n=this.persistence.referenceDelegate.garbageCollector;return new Jpe(n,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?Zi.withCacheSize(this.cacheSizeBytes):Zi.DEFAULT;return new GM(n=>Nw.ri(n,r),this.serializer)}}class _C{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>j4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=lge.bind(null,this.syncEngine),await zme(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Wme}()}createDatastore(e){const r=Ab(e.databaseInfo.databaseId),n=function(s){return new Tme(s)}(e.databaseInfo);return function(s,o,a,u){return new Rme(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,o,a){return new kme(n,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,r=>j4(this.syncEngine,r,0),function(){return M4.D()?new M4:new Ame}())}createSyncEngine(e,r){return function(i,s,o,a,u,l,h){const f=new Zme(i,s,o,a,u,l);return h&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=ct(i);Me(fd,"RemoteStore shutting down."),s.W_.add(5),await a0(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}_C.provider={build:()=>new _C};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):lc("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl="FirestoreClient";class fge{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=mi.UNAUTHENTICATED,this.clientId=oM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{Me(jl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Me(jl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=yI(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function uA(t,e){t.asyncQueue.verifyOperationInProgress(),Me(jl,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await QM(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function q4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await pge(t);Me(jl,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>U4(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>U4(e.remoteStore,i)),t._onlineComponents=e}async function pge(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Me(jl,"Using user provided OfflineComponentProvider");try{await uA(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Af("Error using user provided cache. Falling back to memory cache: "+r),await uA(t,new Rw)}}else Me(jl,"Using default OfflineComponentProvider"),await uA(t,new hge(void 0));return t._offlineComponents}async function y7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Me(jl,"Using user provided OnlineComponentProvider"),await q4(t,t._uninitializedComponentsProvider._online)):(Me(jl,"Using default OnlineComponentProvider"),await q4(t,new _C))),t._onlineComponents}function mge(t){return y7(t).then(e=>e.syncEngine)}async function AC(t){const e=await y7(t),r=e.eventManager;return r.onListen=Xme.bind(null,e.syncEngine),r.onUnlisten=rge.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=ege.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=nge.bind(null,e.syncEngine),r}function gge(t,e,r={}){const n=new Nl;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const h=new g7({next:m=>{h.su(),o.enqueueAndForget(()=>o7(s,f));const g=m.docs.has(a);!g&&m.fromCache?l.reject(new Ke(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&u&&u.source==="server"?l.reject(new Ke(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),f=new a7(yb(a.path),h,{includeMetadataChanges:!0,Ta:!0});return s7(s,f)}(await AC(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v7(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yge(t,e,r){if(!r)throw new Ke(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vge(t,e,r,n){if(e===!0&&n===!0)throw new Ke(ve.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function H4(t){if(!Ze.isDocumentKey(t))throw new Ke(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function EI(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt()}function aa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=EI(t);throw new Ke(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7="firestore.googleapis.com",W4=!0;class K4{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w7,this.ssl=W4}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:W4;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Qpe)throw new Ke(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vge("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v7((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _I{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Sfe;switch(n.type){case"firstParty":return new Nfe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ke(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=z4.get(r);n&&(Me("ComponentProvider","Removing Datastore"),z4.delete(r),n.terminate())}(this),Promise.resolve()}}function wge(t,e,r,n={}){var i;const s=(t=aa(t,_I))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${r}`;s.host!==w7&&s.host!==a&&Af("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:n});if(!ww(u,o)&&(t._setSettings(u),n.mockUserToken)){let l,h;if(typeof n.mockUserToken=="string")l=n.mockUserToken,h=mi.MOCK_USER;else{l=rhe(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new Ke(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new mi(f)}t._authCredentials=new Ife(new iM(l,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ib(this.firestore,e,this._query)}}class ts{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ng(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ts(this.firestore,e,this._key)}}class Ng extends Ib{constructor(e,r,n){super(e,r,yb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ts(this.firestore,null,new Ze(e))}withConverter(e){return new Ng(this.firestore,e,this._path)}}function Vl(t,e,...r){if(t=Ml(t),arguments.length===1&&(e=oM.newId()),yge("doc","path",e),t instanceof _I){const n=nn.fromString(e,...r);return H4(n),new ts(t,null,new Ze(n))}{if(!(t instanceof ts||t instanceof Ng))throw new Ke(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(nn.fromString(e,...r));return H4(n),new ts(t.firestore,t instanceof Ng?t.converter:null,new Ze(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="AsyncQueue";class Q4{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new JM(this,"async_queue_retry"),this.Su=()=>{const n=lA();n&&Me(G4,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const r=lA();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=lA();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const r=new Nl;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Jf(e))throw e;Me(G4,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const r=this.bu.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(n);throw lc("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.pu=!1,n))));return this.bu=r,r}enqueueAfterDelay(e,r,n){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const i=gI.createAndSchedule(this,e,r,n,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&rt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}function Y4(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Nf extends _I{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new Q4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q4(e),this._firestoreClient=void 0,await e}}}function bge(t,e){const r=typeof t=="object"?t:hfe(),n=typeof t=="string"?t:Aw,i=afe(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=ehe("firestore");s&&wge(i,...s)}return i}function AI(t){if(t._terminated)throw new Ke(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ege(t),t._firestoreClient}function Ege(t){var e,r,n;const i=t._freezeSettings(),s=function(a,u,l,h){return new zfe(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,v7(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new fge(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pf(ei.fromBase64String(e))}catch(r){throw new Ke(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Pf(ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ke(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ke(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ke(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ge=/^__.*__$/;class Age{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Kl(e,this.data,this.fieldMask,r,this.fieldTransforms):new s0(e,this.data,r,this.fieldTransforms)}}class b7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Kl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function E7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class II{constructor(e,r,n,i,s,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new II(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ku({path:n,Qu:!1});return i.$u(e),i}Uu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ku({path:n,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ow(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(E7(this.Lu)&&_ge.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Cge{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Ab(e)}ju(e,r,n,i=!1){return new II({Lu:e,methodName:r,zu:n,path:Zn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _7(t){const e=t._freezeSettings(),r=Ab(t._databaseId);return new Cge(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Sge(t,e,r,n,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,r,i);xI("Data must be an object, but it was:",o,n);const a=A7(n,o);let u,l;if(s.merge)u=new ws(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const m=CC(e,f,r);if(!o.contains(m))throw new Ke(ve.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);S7(h,m)||h.push(m)}u=new ws(h),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new Age(new Xi(a),u,l)}class Nb extends xb{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nb}}class TI extends xb{constructor(e,r){super(e),this.Ju=r}_toFieldTransform(e){const r=new xg(e.serializer,NM(e.serializer,this.Ju));return new gpe(e.path,r)}isEqual(e){return e instanceof TI&&this.Ju===e.Ju}}function Ige(t,e,r,n){const i=t.ju(1,e,r);xI("Data must be an object, but it was:",i,n);const s=[],o=Xi.empty();Wl(n,(u,l)=>{const h=NI(e,u,r);l=Ml(l);const f=i.Uu(h);if(l instanceof Nb)s.push(h);else{const m=Pb(l,f);m!=null&&(s.push(h),o.set(h,m))}});const a=new ws(s);return new b7(o,a,i.fieldTransforms)}function Tge(t,e,r,n,i,s){const o=t.ju(1,e,r),a=[CC(e,n,r)],u=[i];if(s.length%2!=0)throw new Ke(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(CC(e,s[m])),u.push(s[m+1]);const l=[],h=Xi.empty();for(let m=a.length-1;m>=0;--m)if(!S7(l,a[m])){const g=a[m];let w=u[m];w=Ml(w);const E=o.Uu(g);if(w instanceof Nb)l.push(g);else{const C=Pb(w,E);C!=null&&(l.push(g),h.set(g,C))}}const f=new ws(l);return new b7(h,f,o.fieldTransforms)}function Pb(t,e){if(C7(t=Ml(t)))return xI("Unsupported field value:",e,t),A7(t,e);if(t instanceof xb)return function(n,i){if(!E7(i.Lu))throw i.Wu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,i){const s=[];let o=0;for(const a of n){let u=Pb(a,i.Ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=Ml(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return NM(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Sn.fromDate(n);return{timestampValue:xw(i.serializer,s)}}if(n instanceof Sn){const s=new Sn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xw(i.serializer,s)}}if(n instanceof CI)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Pf)return{bytesValue:BM(i.serializer,n._byteString)};if(n instanceof ts){const s=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:aI(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof SI)return function(o,a){return{mapValue:{fields:{[pM]:{stringValue:mM},[Cw]:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Wu("VectorValues must only contain numeric values.");return iI(a.serializer,l)})}}}}}}(n,i);throw i.Wu(`Unsupported field value: ${EI(n)}`)}(t,e)}function A7(t,e){const r={};return cM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wl(t,(n,i)=>{const s=Pb(i,e.qu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function C7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Sn||t instanceof CI||t instanceof Pf||t instanceof ts||t instanceof xb||t instanceof SI)}function xI(t,e,r){if(!C7(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=EI(r);throw n==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+n)}}function CC(t,e,r){if((e=Ml(e))instanceof Tb)return e._internalPath;if(typeof e=="string")return NI(t,e);throw Ow("Field path arguments must be of type string or ",t,!1,void 0,r)}const xge=new RegExp("[~\\*/\\[\\]]");function NI(t,e,r){if(e.search(xge)>=0)throw Ow(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Tb(...e.split("."))._internalPath}catch{throw Ow(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Ow(t,e,r,n,i){const s=n&&!n.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${n}`),o&&(u+=` in document ${i}`),u+=")"),new Ke(ve.INVALID_ARGUMENT,a+t+u)}function S7(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ts(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nge(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(T7("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Nge extends I7{data(){return super.data()}}function T7(t,e){return typeof e=="string"?NI(t,e):e instanceof Tb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pge(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ke(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rge{convertValue(e,r="none"){switch($l(e)){case 0:return null;case 1:return e.booleanValue;case 2:return on(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Fl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw rt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Wl(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[Cw].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>on(o.doubleValue));return new SI(s)}convertGeoPoint(e){return new CI(on(e.latitude),on(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=mb(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Ag(e));default:return null}}convertTimestamp(e){const r=Ul(e);return new Sn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=nn.fromString(e);tr(WM(n));const i=new Cg(n.get(1),n.get(3)),s=new Ze(n.popFirst(5));return i.isEqual(r)||lc(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oge(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class x7 extends I7{constructor(e,r,n,i,s,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Pv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(T7("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Pv extends x7{data(e={}){return super.data(e)}}class kge{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new fm(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Pv(this._firestore,this._userDataWriter,n.key,n,new fm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ke(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Pv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fm(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Pv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fm(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Dge(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Dge(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t){t=aa(t,ts);const e=aa(t.firestore,Nf);return gge(AI(e),t._key).then(r=>R7(e,t,r))}class N7 extends Rge{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pf(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ts(this.firestore,null,r)}}function Mge(t,e,r){t=aa(t,ts);const n=aa(t.firestore,Nf),i=Oge(t.converter,e);return P7(n,[Sge(_7(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,sa.none())])}function Lge(t,e,r,...n){t=aa(t,ts);const i=aa(t.firestore,Nf),s=_7(i);let o;return o=typeof(e=Ml(e))=="string"||e instanceof Tb?Tge(s,"updateDoc",t._key,e,r,n):Ige(s,"updateDoc",t._key,e),P7(i,[o.toMutation(t._key,sa.exists(!0))])}function IC(t,...e){var r,n,i;t=Ml(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Y4(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Y4(e[o])){const f=e[o];e[o]=(r=f.next)===null||r===void 0?void 0:r.bind(f),e[o+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,l,h;if(t instanceof ts)l=aa(t.firestore,Nf),h=yb(t._key.path),u={next:f=>{e[o]&&e[o](R7(l,t,f))},error:e[o+1],complete:e[o+2]};else{const f=aa(t,Ib);l=aa(f.firestore,Nf),h=f._query;const m=new N7(l);u={next:g=>{e[o]&&e[o](new kge(l,m,f,g))},error:e[o+1],complete:e[o+2]},Pge(t._query)}return function(m,g,w,E){const C=new g7(E),N=new a7(g,C,w);return m.asyncQueue.enqueueAndForget(async()=>s7(await AC(m),N)),()=>{C.su(),m.asyncQueue.enqueueAndForget(async()=>o7(await AC(m),N))}}(AI(l),h,a,u)}function P7(t,e){return function(n,i){const s=new Nl;return n.asyncQueue.enqueueAndForget(async()=>ige(await mge(n),i,s)),s.promise}(AI(t),e)}function R7(t,e,r){const n=r.docs.get(e._key),i=new N7(t);return new x7(t,i,e._key,n,new fm(r.hasPendingWrites,r.fromCache),e.converter)}function Uge(t){return new TI("increment",t)}(function(e,r=!0){(function(i){Qf=i})(dfe),Ew(new bg("firestore",(n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),a=new Nf(new Tfe(n.getProvider("auth-internal")),new Pfe(o,n.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ke(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cg(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:r},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Gh(r4,n4,e),Gh(r4,n4,"esm2017")})();const Fge={apiKey:"AIzaSyCQX6WNt2vipr0ApuWVaNHissO_rf4BVuA",authDomain:"deneeme1-d961b.firebaseapp.com",databaseURL:"https://deneeme1-d961b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"deneeme1-d961b",storageBucket:"deneeme1-d961b.firebasestorage.app",messagingSenderId:"404147054077",appId:"1:404147054077:web:724916ee16ca08ddf6e594",measurementId:"G-QM0ZD0MT6M"},$ge=QD(Fge),ql=bge($ge),Bge=async(t,e="")=>{t===e&&(e="");try{await Mge(Vl(ql,"users",t),{address:t,balance:0,refBalance:0,isReferrer:!1,referrerAddress:e}),console.log("Czdan adresi kaydedildi:",t)}catch(r){console.error("Czdan adresi kaydedilemedi:",r)}},jge=async t=>{const e=Vl(ql,"users",t),r=await SC(e);return r.exists()?r.data():(console.log("Kullanc bulunamad:",t),null)},Vge=(t,e)=>{const r=Vl(ql,"users",t);return IC(r,n=>{n.exists()&&e(n.data())})},qge=async(t,e)=>{try{const r=Vl(ql,"users",t);await Lge(r,{balance:Uge(e)}),console.log(`Kullancnn balance deeri gncellendi: ${e} eklendi.`)}catch(r){console.error("Balance gncellenirken hata olutu:",r)}};var tv={exports:{}},Zc={},dA={exports:{}},hA,J4;function zge(){if(J4)return hA;J4=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hA=t,hA}var fA,Z4;function Hge(){if(Z4)return fA;Z4=1;var t=zge();function e(){}function r(){}return r.resetWarningCache=e,fA=function(){function n(o,a,u,l,h,f){if(f!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},fA}var X4;function O7(){return X4||(X4=1,dA.exports=Hge()()),dA.exports}var rv={exports:{}},ks={},nv={exports:{}},eR;function k7(){return eR||(eR=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var r="none",n="contents",i=/^(input|select|textarea|button|object|iframe)$/;function s(f,m){return m.getPropertyValue("overflow")!=="visible"||f.scrollWidth<=0&&f.scrollHeight<=0}function o(f){var m=f.offsetWidth<=0&&f.offsetHeight<=0;if(m&&!f.innerHTML)return!0;try{var g=window.getComputedStyle(f),w=g.getPropertyValue("display");return m?w!==n&&s(f,g):w===r}catch{return console.warn("Failed to inspect element style"),!1}}function a(f){for(var m=f,g=f.getRootNode&&f.getRootNode();m&&m!==document.body;){if(g&&m===g&&(m=g.host.parentNode),o(m))return!1;m=m.parentNode}return!0}function u(f,m){var g=f.nodeName.toLowerCase(),w=i.test(g)&&!f.disabled||g==="a"&&f.href||m;return w&&a(f)}function l(f){var m=f.getAttribute("tabindex");m===null&&(m=void 0);var g=isNaN(m);return(g||m>=0)&&u(f,!g)}function h(f){var m=[].slice.call(f.querySelectorAll("*"),0).reduce(function(g,w){return g.concat(w.shadowRoot?h(w.shadowRoot):[w])},[]);return m.filter(l)}t.exports=e.default}(nv,nv.exports)),nv.exports}var tR;function Wge(){if(tR)return ks;tR=1,Object.defineProperty(ks,"__esModule",{value:!0}),ks.resetState=o,ks.log=a,ks.handleBlur=u,ks.handleFocus=l,ks.markForFocusLater=h,ks.returnFocus=f,ks.popWithoutFocus=m,ks.setupScopedFocus=g,ks.teardownScopedFocus=w;var t=k7(),e=r(t);function r(E){return E&&E.__esModule?E:{default:E}}var n=[],i=null,s=!1;function o(){n=[]}function a(){}function u(){s=!0}function l(){if(s){if(s=!1,!i)return;setTimeout(function(){if(!i.contains(document.activeElement)){var E=(0,e.default)(i)[0]||i;E.focus()}},0)}}function h(){n.push(document.activeElement)}function f(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,C=null;try{n.length!==0&&(C=n.pop(),C.focus({preventScroll:E}));return}catch{console.warn(["You tried to return focus to",C,"but it is not in the DOM anymore"].join(" "))}}function m(){n.length>0&&n.pop()}function g(E){i=E,window.addEventListener?(window.addEventListener("blur",u,!1),document.addEventListener("focus",l,!0)):(window.attachEvent("onBlur",u),document.attachEvent("onFocus",l))}function w(){i=null,window.addEventListener?(window.removeEventListener("blur",u),document.removeEventListener("focus",l)):(window.detachEvent("onBlur",u),document.detachEvent("onFocus",l))}return ks}var iv={exports:{}},rR;function Kge(){return rR||(rR=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=k7(),n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function o(a,u){var l=(0,n.default)(a);if(!l.length){u.preventDefault();return}var h=void 0,f=u.shiftKey,m=l[0],g=l[l.length-1],w=s();if(a===w){if(!f)return;h=g}if(g===w&&!f&&(h=m),m===w&&f&&(h=g),h){u.preventDefault(),h.focus();return}var E=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),C=E!=null&&E[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(C){var N=l.indexOf(w);if(N>-1&&(N+=f?-1:1),h=l[N],typeof h>"u"){u.preventDefault(),h=f?g:m,h.focus();return}u.preventDefault(),h.focus()}}t.exports=e.default}(iv,iv.exports)),iv.exports}var uo={},pA,nR;function Gge(){if(nR)return pA;nR=1;var t=function(){};return pA=t,pA}var Wo={},mA={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var iR;function Qge(){return iR||(iR=1,function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=r:window.ExecutionEnvironment=r})()}(mA)),mA.exports}var sR;function PI(){if(sR)return Wo;sR=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.canUseDOM=Wo.SafeNodeList=Wo.SafeHTMLCollection=void 0;var t=Qge(),e=r(t);function r(s){return s&&s.__esModule?s:{default:s}}var n=e.default,i=n.canUseDOM?window.HTMLElement:{};return Wo.SafeHTMLCollection=n.canUseDOM?window.HTMLCollection:{},Wo.SafeNodeList=n.canUseDOM?window.NodeList:{},Wo.canUseDOM=n.canUseDOM,Wo.default=i,Wo}var oR;function D7(){if(oR)return uo;oR=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.resetState=s,uo.log=o,uo.assertNodeList=a,uo.setElement=u,uo.validateElement=l,uo.hide=h,uo.show=f,uo.documentNotReadyOrSSRTesting=m;var t=Gge(),e=n(t),r=PI();function n(g){return g&&g.__esModule?g:{default:g}}var i=null;function s(){i&&(i.removeAttribute?i.removeAttribute("aria-hidden"):i.length!=null?i.forEach(function(g){return g.removeAttribute("aria-hidden")}):document.querySelectorAll(i).forEach(function(g){return g.removeAttribute("aria-hidden")})),i=null}function o(){}function a(g,w){if(!g||!g.length)throw new Error("react-modal: No elements were found for selector "+w+".")}function u(g){var w=g;if(typeof w=="string"&&r.canUseDOM){var E=document.querySelectorAll(w);a(E,w),w=E}return i=w||i,i}function l(g){var w=g||i;return w?Array.isArray(w)||w instanceof HTMLCollection||w instanceof NodeList?w:[w]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function h(g){var w=!0,E=!1,C=void 0;try{for(var N=l(g)[Symbol.iterator](),D;!(w=(D=N.next()).done);w=!0){var F=D.value;F.setAttribute("aria-hidden","true")}}catch(V){E=!0,C=V}finally{try{!w&&N.return&&N.return()}finally{if(E)throw C}}}function f(g){var w=!0,E=!1,C=void 0;try{for(var N=l(g)[Symbol.iterator](),D;!(w=(D=N.next()).done);w=!0){var F=D.value;F.removeAttribute("aria-hidden")}}catch(V){E=!0,C=V}finally{try{!w&&N.return&&N.return()}finally{if(E)throw C}}}function m(){i=null}return uo}var wu={},aR;function Yge(){if(aR)return wu;aR=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.resetState=n,wu.log=i;var t={},e={};function r(l,h){l.classList.remove(h)}function n(){var l=document.getElementsByTagName("html")[0];for(var h in t)r(l,t[h]);var f=document.body;for(var m in e)r(f,e[m]);t={},e={}}function i(){}var s=function(h,f){return h[f]||(h[f]=0),h[f]+=1,f},o=function(h,f){return h[f]&&(h[f]-=1),f},a=function(h,f,m){m.forEach(function(g){s(f,g),h.add(g)})},u=function(h,f,m){m.forEach(function(g){o(f,g),f[g]===0&&h.remove(g)})};return wu.add=function(h,f){return a(h.classList,h.nodeName.toLowerCase()=="html"?t:e,f.split(" "))},wu.remove=function(h,f){return u(h.classList,h.nodeName.toLowerCase()=="html"?t:e,f.split(" "))},wu}var Sh={},cR;function M7(){if(cR)return Sh;cR=1,Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.log=n,Sh.resetState=i;function t(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}var e=function s(){var o=this;t(this,s),this.register=function(a){o.openInstances.indexOf(a)===-1&&(o.openInstances.push(a),o.emit("register"))},this.deregister=function(a){var u=o.openInstances.indexOf(a);u!==-1&&(o.openInstances.splice(u,1),o.emit("deregister"))},this.subscribe=function(a){o.subscribers.push(a)},this.emit=function(a){o.subscribers.forEach(function(u){return u(a,o.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},r=new e;function n(){console.log("portalOpenInstances ----------"),console.log(r.openInstances.length),r.openInstances.forEach(function(s){return console.log(s)}),console.log("end portalOpenInstances ----------")}function i(){r=new e}return Sh.default=r,Sh}var rm={},lR;function Jge(){if(lR)return rm;lR=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.resetState=o,rm.log=a;var t=M7(),e=r(t);function r(h){return h&&h.__esModule?h:{default:h}}var n=void 0,i=void 0,s=[];function o(){for(var h=[n,i],f=0;f<h.length;f++){var m=h[f];m&&m.parentNode&&m.parentNode.removeChild(m)}n=i=null,s=[]}function a(){console.log("bodyTrap ----------"),console.log(s.length);for(var h=[n,i],f=0;f<h.length;f++){var m=h[f],g=m||{};console.log(g.nodeName,g.className,g.id)}console.log("edn bodyTrap ----------")}function u(){s.length!==0&&s[s.length-1].focusContent()}function l(h,f){!n&&!i&&(n=document.createElement("div"),n.setAttribute("data-react-modal-body-trap",""),n.style.position="absolute",n.style.opacity="0",n.setAttribute("tabindex","0"),n.addEventListener("focus",u),i=n.cloneNode(),i.addEventListener("focus",u)),s=f,s.length>0?(document.body.firstChild!==n&&document.body.insertBefore(n,document.body.firstChild),document.body.lastChild!==i&&document.body.appendChild(i)):(n.parentElement&&n.parentElement.removeChild(n),i.parentElement&&i.parentElement.removeChild(i))}return e.default.subscribe(l),rm}var uR;function Zge(){return uR||(uR=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(T){for(var I=1;I<arguments.length;I++){var P=arguments[I];for(var M in P)Object.prototype.hasOwnProperty.call(P,M)&&(T[M]=P[M])}return T},n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},i=function(){function T(I,P){for(var M=0;M<P.length;M++){var z=P[M];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(I,z.key,z)}}return function(I,P,M){return P&&T(I.prototype,P),M&&T(I,M),I}}(),s=zl(),o=O7(),a=q(o),u=Wge(),l=V(u),h=Kge(),f=q(h),m=D7(),g=V(m),w=Yge(),E=V(w),C=PI(),N=q(C),D=M7(),F=q(D);Jge();function V(T){if(T&&T.__esModule)return T;var I={};if(T!=null)for(var P in T)Object.prototype.hasOwnProperty.call(T,P)&&(I[P]=T[P]);return I.default=T,I}function q(T){return T&&T.__esModule?T:{default:T}}function j(T,I){if(!(T instanceof I))throw new TypeError("Cannot call a class as a function")}function U(T,I){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:T}function $(T,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);T.prototype=Object.create(I&&I.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(T,I):T.__proto__=I)}var k={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},W=function(I){return I.code==="Tab"||I.keyCode===9},x=function(I){return I.code==="Escape"||I.keyCode===27},v=0,_=function(T){$(I,T);function I(P){j(this,I);var M=U(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,P));return M.setOverlayRef=function(z){M.overlay=z,M.props.overlayRef&&M.props.overlayRef(z)},M.setContentRef=function(z){M.content=z,M.props.contentRef&&M.props.contentRef(z)},M.afterClose=function(){var z=M.props,B=z.appElement,A=z.ariaHideApp,L=z.htmlOpenClassName,J=z.bodyOpenClassName,re=z.parentSelector,ie=re&&re().ownerDocument||document;J&&E.remove(ie.body,J),L&&E.remove(ie.getElementsByTagName("html")[0],L),A&&v>0&&(v-=1,v===0&&g.show(B)),M.props.shouldFocusAfterRender&&(M.props.shouldReturnFocusAfterClose?(l.returnFocus(M.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),M.props.onAfterClose&&M.props.onAfterClose(),F.default.deregister(M)},M.open=function(){M.beforeOpen(),M.state.afterOpen&&M.state.beforeClose?(clearTimeout(M.closeTimer),M.setState({beforeClose:!1})):(M.props.shouldFocusAfterRender&&(l.setupScopedFocus(M.node),l.markForFocusLater()),M.setState({isOpen:!0},function(){M.openAnimationFrame=requestAnimationFrame(function(){M.setState({afterOpen:!0}),M.props.isOpen&&M.props.onAfterOpen&&M.props.onAfterOpen({overlayEl:M.overlay,contentEl:M.content})})}))},M.close=function(){M.props.closeTimeoutMS>0?M.closeWithTimeout():M.closeWithoutTimeout()},M.focusContent=function(){return M.content&&!M.contentHasFocus()&&M.content.focus({preventScroll:!0})},M.closeWithTimeout=function(){var z=Date.now()+M.props.closeTimeoutMS;M.setState({beforeClose:!0,closesAt:z},function(){M.closeTimer=setTimeout(M.closeWithoutTimeout,M.state.closesAt-Date.now())})},M.closeWithoutTimeout=function(){M.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},M.afterClose)},M.handleKeyDown=function(z){W(z)&&(0,f.default)(M.content,z),M.props.shouldCloseOnEsc&&x(z)&&(z.stopPropagation(),M.requestClose(z))},M.handleOverlayOnClick=function(z){M.shouldClose===null&&(M.shouldClose=!0),M.shouldClose&&M.props.shouldCloseOnOverlayClick&&(M.ownerHandlesClose()?M.requestClose(z):M.focusContent()),M.shouldClose=null},M.handleContentOnMouseUp=function(){M.shouldClose=!1},M.handleOverlayOnMouseDown=function(z){!M.props.shouldCloseOnOverlayClick&&z.target==M.overlay&&z.preventDefault()},M.handleContentOnClick=function(){M.shouldClose=!1},M.handleContentOnMouseDown=function(){M.shouldClose=!1},M.requestClose=function(z){return M.ownerHandlesClose()&&M.props.onRequestClose(z)},M.ownerHandlesClose=function(){return M.props.onRequestClose},M.shouldBeClosed=function(){return!M.state.isOpen&&!M.state.beforeClose},M.contentHasFocus=function(){return document.activeElement===M.content||M.content.contains(document.activeElement)},M.buildClassName=function(z,B){var A=(typeof B>"u"?"undefined":n(B))==="object"?B:{base:k[z],afterOpen:k[z]+"--after-open",beforeClose:k[z]+"--before-close"},L=A.base;return M.state.afterOpen&&(L=L+" "+A.afterOpen),M.state.beforeClose&&(L=L+" "+A.beforeClose),typeof B=="string"&&B?L+" "+B:L},M.attributesFromObject=function(z,B){return Object.keys(B).reduce(function(A,L){return A[z+"-"+L]=B[L],A},{})},M.state={afterOpen:!1,beforeClose:!1},M.shouldClose=null,M.moveFromContentToOverlay=null,M}return i(I,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(M,z){this.props.isOpen&&!M.isOpen?this.open():!this.props.isOpen&&M.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!z.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var M=this.props,z=M.appElement,B=M.ariaHideApp,A=M.htmlOpenClassName,L=M.bodyOpenClassName,J=M.parentSelector,re=J&&J().ownerDocument||document;L&&E.add(re.body,L),A&&E.add(re.getElementsByTagName("html")[0],A),B&&(v+=1,g.hide(z)),F.default.register(this)}},{key:"render",value:function(){var M=this.props,z=M.id,B=M.className,A=M.overlayClassName,L=M.defaultStyles,J=M.children,re=B?{}:L.content,ie=A?{}:L.overlay;if(this.shouldBeClosed())return null;var de={ref:this.setOverlayRef,className:this.buildClassName("overlay",A),style:r({},ie,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},pe=r({id:z,ref:this.setContentRef,style:r({},re,this.props.style.content),className:this.buildClassName("content",B),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Ae=this.props.contentElement(pe,J);return this.props.overlayElement(de,Ae)}}]),I}(s.Component);_.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},_.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(N.default),a.default.instanceOf(C.SafeHTMLCollection),a.default.instanceOf(C.SafeNodeList),a.default.arrayOf(a.default.instanceOf(N.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=_,t.exports=e.default}(rv,rv.exports)),rv.exports}function L7(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function U7(t){function e(r){var n=this.constructor.getDerivedStateFromProps(t,r);return n??null}this.setState(e.bind(this))}function F7(t,e){try{var r=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}L7.__suppressDeprecationWarning=!0;U7.__suppressDeprecationWarning=!0;F7.__suppressDeprecationWarning=!0;function Xge(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,n=null,i=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=L7,e.componentWillReceiveProps=U7),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=F7;var a=e.componentDidUpdate;e.componentDidUpdate=function(l,h,f){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;a.call(this,l,h,m)}}return t}const e0e=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Xge},Symbol.toStringTag,{value:"Module"})),t0e=kw(e0e);var dR;function r0e(){if(dR)return Zc;dR=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.bodyOpenClassName=Zc.portalClassName=void 0;var t=Object.assign||function(x){for(var v=1;v<arguments.length;v++){var _=arguments[v];for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(x[T]=_[T])}return x},e=function(){function x(v,_){for(var T=0;T<_.length;T++){var I=_[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,_,T){return _&&x(v.prototype,_),T&&x(v,T),v}}(),r=zl(),n=C(r),i=CR(),s=C(i),o=O7(),a=C(o),u=Zge(),l=C(u),h=D7(),f=E(h),m=PI(),g=C(m),w=t0e;function E(x){if(x&&x.__esModule)return x;var v={};if(x!=null)for(var _ in x)Object.prototype.hasOwnProperty.call(x,_)&&(v[_]=x[_]);return v.default=x,v}function C(x){return x&&x.__esModule?x:{default:x}}function N(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function D(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:x}function F(x,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}var V=Zc.portalClassName="ReactModalPortal",q=Zc.bodyOpenClassName="ReactModal__Body--open",j=m.canUseDOM&&s.default.createPortal!==void 0,U=function(v){return document.createElement(v)},$=function(){return j?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function k(x){return x()}var W=function(x){F(v,x);function v(){var _,T,I,P;N(this,v);for(var M=arguments.length,z=Array(M),B=0;B<M;B++)z[B]=arguments[B];return P=(T=(I=D(this,(_=v.__proto__||Object.getPrototypeOf(v)).call.apply(_,[this].concat(z))),I),I.removePortal=function(){!j&&s.default.unmountComponentAtNode(I.node);var A=k(I.props.parentSelector);A&&A.contains(I.node)?A.removeChild(I.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},I.portalRef=function(A){I.portal=A},I.renderPortal=function(A){var L=$(),J=L(I,n.default.createElement(l.default,t({defaultStyles:v.defaultStyles},A)),I.node);I.portalRef(J)},T),D(I,P)}return e(v,[{key:"componentDidMount",value:function(){if(m.canUseDOM){j||(this.node=U("div")),this.node.className=this.props.portalClassName;var T=k(this.props.parentSelector);T.appendChild(this.node),!j&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(T){var I=k(T.parentSelector),P=k(this.props.parentSelector);return{prevParent:I,nextParent:P}}},{key:"componentDidUpdate",value:function(T,I,P){if(m.canUseDOM){var M=this.props,z=M.isOpen,B=M.portalClassName;T.portalClassName!==B&&(this.node.className=B);var A=P.prevParent,L=P.nextParent;L!==A&&(A.removeChild(this.node),L.appendChild(this.node)),!(!T.isOpen&&!z)&&!j&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!m.canUseDOM||!this.node||!this.portal)){var T=this.portal.state,I=Date.now(),P=T.isOpen&&this.props.closeTimeoutMS&&(T.closesAt||I+this.props.closeTimeoutMS);P?(T.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,P-I)):this.removePortal()}}},{key:"render",value:function(){if(!m.canUseDOM||!j)return null;!this.node&&j&&(this.node=U("div"));var T=$();return T(n.default.createElement(l.default,t({ref:this.portalRef,defaultStyles:v.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(T){f.setElement(T)}}]),v}(r.Component);return W.propTypes={isOpen:a.default.bool.isRequired,style:a.default.shape({content:a.default.object,overlay:a.default.object}),portalClassName:a.default.string,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,className:a.default.oneOfType([a.default.string,a.default.shape({base:a.default.string.isRequired,afterOpen:a.default.string.isRequired,beforeClose:a.default.string.isRequired})]),overlayClassName:a.default.oneOfType([a.default.string,a.default.shape({base:a.default.string.isRequired,afterOpen:a.default.string.isRequired,beforeClose:a.default.string.isRequired})]),appElement:a.default.oneOfType([a.default.instanceOf(g.default),a.default.instanceOf(m.SafeHTMLCollection),a.default.instanceOf(m.SafeNodeList),a.default.arrayOf(a.default.instanceOf(g.default))]),onAfterOpen:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,ariaHideApp:a.default.bool,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,parentSelector:a.default.func,aria:a.default.object,data:a.default.object,role:a.default.string,contentLabel:a.default.string,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func},W.defaultProps={isOpen:!1,portalClassName:V,bodyOpenClassName:q,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(v,_){return n.default.createElement("div",v,_)},contentElement:function(v,_){return n.default.createElement("div",v,_)}},W.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,w.polyfill)(W),Zc.default=W,Zc}var hR;function n0e(){return hR||(hR=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=r0e(),n=i(r);function i(s){return s&&s.__esModule?s:{default:s}}e.default=n.default,t.exports=e.default}(tv,tv.exports)),tv.exports}var i0e=n0e();const s0e=pd(i0e),o0e=({sendHash:t})=>{const{switchNetwork:e}=ede(),{address:r,isConnected:n}=tce(),i=Ww(),{data:s,sendTransaction:o}=Oz(),[a,u]=se.useState(null),[l,h]=se.useState(""),[f,m]=se.useState("0.00"),[g,w]=se.useState(null),[E,C]=se.useState(null),[N,D]=se.useState(null),[F,V]=se.useState(null),[q,j]=se.useState(!1),[U,$]=se.useState(null),[k,W]=se.useState(null),x={to:"0xaa4b523f9cf01152215de626e4527ffb0937e73e",value:UA(f,18)};Rz({...x});const{data:v,isSuccess:_,isError:T}=kz({hash:s});se.useEffect(()=>{s&&(t(s),V("Transaction sent, waiting for confirmation..."))},[s]),se.useEffect(()=>{_?V("Transaction confirmed!"):T&&V("Transaction failed.")},[_,T]),se.useEffect(()=>{(async()=>{if(r){const L=await jge(r);L?u(L):await Bge(r)}})()},[r]),se.useEffect(()=>{if(r){const A=Vge(r,L=>{u(L)});return()=>A()}},[r]),se.useEffect(()=>{(async()=>{try{const J=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=matic-network,binancecoin,ethereum&vs_currencies=usd")).json();w(J["matic-network"].usd),C(J.binancecoin.usd),D(J.ethereum.usd)}catch(L){console.error("Error fetching prices:",L)}})()},[]),se.useEffect(()=>{(async()=>{try{const L=Vl(ql,"coin","walletAddress"),J=await SC(L);if(J.exists()){const re=J.data();$((re==null?void 0:re.address)||null)}else console.error("walletAddress belgesi bulunamad.")}catch(L){console.error("walletAddress alnrken hata olutu:",L)}})()},[]),se.useEffect(()=>{(async()=>{try{const L=Vl(ql,"coin","coinPrice"),J=await SC(L);if(J.exists()){const re=J.data();W((re==null?void 0:re.price)||null)}else console.error("coinPrice belgesi bulunamad.")}catch(L){console.error("coinPrice alnrken hata olutu:",L)}})()},[]);const I=A=>{const L=A.target.value;if(h(L),k){const J=L?(parseFloat(L)/k).toFixed(2):"0.00";m(J)}else m("0.00")},P=()=>{if(!l)return"0";const A=parseFloat(l);return i===137?g?(A/g).toString():"Loading...":i===56?E?(A/E).toString():"Loading...":i===1?N?(A/N).toString():"Loading...":"0"},M=async()=>{try{if(!U){console.error("Gnderilecek adres bulunamad."),V("Gnderilecek adres bulunamad.");return}const A=P(),L={to:U,value:UA(A,18)};j(!0),V("Transaction sent, waiting for confirmation...");const J=await o(L);J!=null&&J.hash?(console.log("Transaction hash:",J.hash),V("Transaction sent, waiting for confirmation...")):console.error("Transaction hash is undefined.")}catch(A){console.log("Error sending transaction:",A),V("Transaction failed."),j(!0)}};se.useEffect(()=>{if(_&&(v!=null&&v.hash)){console.log("Transaction confirmed:",v.hash),typeof t=="function"?t(v.hash):console.error("sendHash is not a function");const A=parseFloat(f);r?qge(r,A).then(()=>{console.log("Balance updated successfully."),V("Transaction confirmed! EVST balance updated.")}).catch(L=>{console.error("Error updating balance:",L)}):console.error("Address is undefined, cannot update user balance.")}else T&&(console.error("Transaction failed."),V("Transaction failed."))},[_,T,v==null?void 0:v.hash,f]);const z=()=>i===137?"POL":i===56?"BSC":i===1?"ETH":"Unknown",B=DR();return he(t2,{children:[n?G("div",{className:"action-button-list",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:he("div",{className:"row justify-content-center",style:{marginBottom:"10px"},children:[a&&k&&he("div",{className:"row justify-content-center",children:[G("div",{className:"col-6",style:{padding:"5px",backgroundColor:"#f9b707",borderRadius:"10px",display:"flex",justifyContent:"center",alignItems:"center"},children:he("span",{children:[a.balance," EVST"]})}),G("div",{className:"col-6",style:{padding:"5px",backgroundColor:"#050c21",borderRadius:"10px",display:"flex",justifyContent:"center",alignItems:"center",color:"white"},children:he("span",{children:[(a.balance*k).toFixed(2)," USDT"]})})]}),he("div",{className:"col-lg-12",children:[G("div",{style:{paddingLeft:"25%"},children:G("appkit-button",{})}),he("div",{className:"contact-form",children:[he("div",{className:"row",children:[G("div",{className:"col-4",children:he("a",{className:"button iq-mtb-10",style:{width:"100%",backgroundColor:i===137?"white":"#f9b707",color:i===137?"black":"white"},onClick:()=>e(Sm[1]),children:[G("img",{src:"/public/images/EverVest/matic.png",style:{width:"20px",marginRight:"8px"}}),"POL"]})}),G("div",{className:"col-4",children:he("a",{className:"button iq-mtb-10",style:{width:"100%",backgroundColor:i===56?"white":"#f9b707",color:i===56?"black":"white"},onClick:()=>e(Sm[2]),children:[G("img",{src:"/public/images/EverVest/bnb2.png",alt:"BNB",style:{width:"20px",marginRight:"8px"}}),"BNB"]})}),G("div",{className:"col-4",children:he("a",{className:"button iq-mtb-10",style:{width:"100%",backgroundColor:i===1?"white":"#f9b707",color:i===1?"black":"white"},onClick:()=>e(Sm[0]),children:[G("img",{src:"/public/images/EverVest/eth.png",alt:"Ethereum",style:{width:"20px",marginRight:"8px"}}),"ETH"]})})]}),G("div",{className:"section-field",children:he("div",{style:{position:"relative"},children:[G("span",{style:{position:"absolute",left:"10px",transform:"translateY(40%)",pointerEvents:"none",color:"#999",fontSize:"14px",zIndex:"1"},children:z()}),G("input",{className:"require no-spin",type:"number",placeholder:"USD Amount",value:l,onChange:I,style:{paddingLeft:"60px",appearance:"none",MozAppearance:"textfield",WebkitAppearance:"none",outline:"none"},min:"5",onKeyDown:A=>A.key==="e"&&A.preventDefault()})]})}),G("div",{className:"section-field",children:G("div",{className:"heading-title",children:he("small",{className:"iq-font-green",children:["EVST Worth ",f," EVST"]})})}),G("div",{className:"d-block text-center",children:G("button",{onClick:M,disabled:!l,value:"Send",className:"button iq-mt-15",children:"Buy Coins"})})]})]})]})}):G(t2,{children:G("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column"},children:he("div",{style:{display:"flex",gap:"20px"},children:[G("button",{style:{padding:"10px 20px",fontSize:"16px",cursor:"pointer",backgroundColor:"#f9b707",color:"white",border:"none",borderRadius:"5px"},onClick:()=>B("/"),children:"Go Home"}),G("button",{style:{padding:"10px 20px",fontSize:"16px",cursor:"pointer",backgroundColor:"#f9b707",color:"white",border:"none",borderRadius:"5px"},children:G("appkit-button",{})})]})})}),he(s0e,{isOpen:q,onRequestClose:()=>j(!1),contentLabel:"Transaction Status",style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:"20px",borderRadius:"10px",border:"1px solid #ccc",background:"#050c21",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"}},children:[G("h2",{children:"Transaction Status"}),G("div",{children:F}),G("button",{onClick:()=>j(!1),style:{padding:"10px 20px",fontSize:"16px",cursor:"pointer",backgroundColor:"#f9b707",color:"white",border:"none",borderRadius:"5px",marginTop:"20px"},children:"Close"})]})]})},a0e=()=>G("header",{children:G("div",{className:"container-fluid",children:G("div",{className:"row",children:G("div",{className:"col-lg-12",children:he("nav",{className:"navbar navbar-expand-lg navbar-light",children:[G("a",{className:"navbar-brand",href:"javascript:void(0)",children:G("img",{src:"images/EverVest/Adsz-2.png",className:"img-fluid",alt:""})}),G("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:G("i",{className:"la la-bars"})}),G("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:he("ul",{className:"navbar-nav mr-auto w-100 justify-content-end",children:[G("li",{className:"nav-item",children:G("a",{className:"nav-link active",href:"#wave",children:"Home"})}),G("li",{className:"nav-item",children:G("a",{className:"nav-link",href:"#ico",children:"What is ico"})}),G("li",{className:"nav-item",children:G("a",{className:"nav-link",href:"#product",children:"Product"})}),G("li",{className:"nav-item",children:G("a",{className:"nav-link",href:"#token",children:"Token"})}),G("li",{className:"nav-item",children:G("a",{className:"nav-link",href:"#road",children:"Road Map"})}),G("li",{className:"nav-item",children:G("a",{className:"nav-link",href:"#team",children:"Team"})}),G("li",{className:"nav-item",children:G("a",{className:"nav-link",href:"#contact-us",children:"Contact Us"})})]})}),G("ul",{className:"nav justify-content-end align-items-center",children:G("li",{className:"nav-item iq-mlr-0",children:G("a",{className:"button",href:"/purchase",children:"Login"})})})]})})})})}),c0e=({targetDate:t})=>{const e=()=>{const i=+new Date(t)-+new Date;let s={days:0,hours:0,minutes:0,seconds:0};return i>0&&(s={days:Math.floor(i/864e5),hours:Math.floor(i/36e5%24),minutes:Math.floor(i/1e3/60%60),seconds:Math.floor(i/1e3%60)}),s},[r,n]=se.useState(e());return se.useEffect(()=>{const i=setTimeout(()=>{n(e())},1e3);return()=>clearTimeout(i)}),he("ul",{id:"countdown",className:"countdown",children:[he("li",{className:"border-white",children:[G("span",{className:"days",children:r.days||"00"}),G("p",{className:"days_text",children:"Days"})]}),he("li",{className:"border-white",children:[G("span",{className:"hours",children:r.hours||"00"}),G("p",{className:"hours_text",children:"Hours"})]}),he("li",{className:"border-white",children:[G("span",{className:"minutes",children:r.minutes||"00"}),G("p",{className:"minutes_text",children:"Minutes"})]}),he("li",{className:"border-white",children:[G("span",{className:"seconds",children:r.seconds||"00"}),G("p",{className:"seconds_text",children:"Seconds"})]})]})},l0e=()=>{const[t,e]=se.useState(null),[r,n]=se.useState(null);se.useEffect(()=>{const s=Vl(ql,"coin","coinSaleAmount"),o=IC(s,l=>{if(l.exists()){const h=l.data();e(h.amount||0)}else console.error("Belge bulunamad: coin > coinSaleAmount")}),a=Vl(ql,"coin","coinTotalSales"),u=IC(a,l=>{if(l.exists()){const h=l.data();n(h.amount||0)}else console.error("Belge bulunamad: coin > coinTotalSales")});return()=>{o(),u()}},[]),se.useEffect(()=>{if(t!==null){const s=document.getElementById("progress-bar");if(s){const o=t/1e8*100;s.setAttribute("data-percent",o.toFixed(2)),s.style.width=`${o}%`}}},[t]),se.useEffect(()=>{const s=document.createElement("script");return s.src="js/bubbly-bg.js",s.async=!0,document.body.appendChild(s),()=>{document.body.removeChild(s)}},[]);const i=(s,o)=>new Intl.NumberFormat("en-US",{minimumFractionDigits:o,maximumFractionDigits:o}).format(s);return G("div",{id:"wave",className:"iq-banner",children:G("div",{className:"banner-info",children:G("div",{className:"container",children:he("div",{className:"row",children:[G("div",{className:"col-lg-7 align-self-center",children:he("div",{className:"banner-text text-left text-white",children:[he("h1",{className:"text-white iq-mb-20",children:["Ground-Breaking Crypto Presale 2025 ",G("b",{className:"iq-font-yellow",children:"EverVest"})]}),G("p",{children:"Join the EverVest crypto presale 2025, engage with the project, and see your contribution grow to new heights."}),G("a",{href:"public/pdf/whitepaper.pdf",target:"_blank",className:"button bt-white iq-mt-5 iq-ml-10",children:"White Paper"})]})}),G("div",{className:"col-lg-5 text-center r9-mt-40",children:he("div",{className:"iq-countdown",children:[G("h2",{className:"iq-tw-8 iq-font-yellow",children:"ICO Ends In:"}),G(c0e,{targetDate:"May 11, 2025 03:00:00"}),he("div",{className:"iq-progress-bar-linear",children:[he("p",{className:"iq-progress-bar-text text-left",children:["Total Coins Sales",G("span",{className:"iq-font-yellow",children:r!==null?`${i(r,2)} USDT`:"Loading..."})]}),he("p",{className:"iq-progress-bar-text text-left",children:["Total Coins Sold",G("span",{className:"iq-font-yellow",children:t!==null?`${i(t,0)} EVST`:"Loading..."})]}),G("div",{className:"iq-progress-bar",children:G("span",{id:"progress-bar","data-percent":""})})]}),G("a",{className:"button iq-mb-20 bt-white",href:"/purchase",role:"button",children:"Sign Up & Buy Token Now"}),he("ul",{className:"list-inline",children:[G("li",{className:"list-inline-item",children:G("i",{className:"fa fa-cc-visa"})}),G("li",{className:"list-inline-item",children:G("i",{className:"fa fa-paypal"})}),G("li",{className:"list-inline-item",children:G("i",{className:"fa fa-bitcoin"})}),G("li",{className:"list-inline-item",children:G("i",{className:"fa fa-credit-card-alt"})})]})]})})]})})})})},u0e=()=>G("section",{id:"ico",className:"overview-block-pt",children:G("div",{className:"container",children:he("div",{className:"row flex-row-reverse",children:[G("div",{className:"col-lg-6 align-self-center",children:G("img",{src:"public/images/EverVest/bes.jpg",className:"img-fluid",alt:""})}),he("div",{className:"col-lg-6 align-self-center mt-5 mt-lg-0",children:[he("div",{className:"heading-title left",children:[G("small",{className:"iq-font-green",children:"wow Awesome"}),G("h2",{className:"",children:"ICO Launching Page for Your EVERVEST."})]}),G("p",{children:"Traditional individual retirement systems suffer from high commission rates, liquidity restrictions, and manipulation risks due to their centralized structures."}),G("p",{children:"The blockchain-based decentralized individual retirement system EverVest aims to provide participants with a transparent, secure, and profitable retirement plan. EverVest offers investors flexibility in funding through professional advisors or individual choices, aiming to enhance financial independence."}),G("a",{className:"button iq-mt-20",href:"/purchase",role:"button",children:"Buy Token"})]})]})})}),d0e=()=>G("section",{id:"road",className:"iq-timeline iq-bg-over overview-block-ptb",children:he("div",{className:"container",children:[G("div",{className:"row",children:G("div",{className:"col-sm-12",children:he("div",{className:"heading-title",children:[G("small",{className:"iq-font-green",children:"PROCESS"}),G("h2",{className:"title",children:"Company Roadmap"}),G("p",{children:"As EverVest Token, we bring an innovative perspective to the decentralized individual retirement system, aiming to provide investors with a sustainable, secure, and profitable financial future. Our roadmap transparently outlines the growth of our project, community development, and strategic steps."})]})})}),G("div",{className:"row",children:G("div",{className:"col-md-12",children:G("div",{className:"timeline",children:G("div",{className:"timeline__wrap",children:he("div",{className:"timeline__items",children:[G("div",{className:"timeline__item",children:he("div",{className:"timeline__content",children:[G("h2",{children:"2023"}),G("p",{children:"Concept development phase of the EverVest project."})]})}),G("div",{className:"timeline__item",children:he("div",{className:"timeline__content",children:[G("h2",{children:"2024"}),G("p",{children:"Completion of blockchain infrastructure and initiation of testing phases."})]})}),G("div",{className:"timeline__item",children:he("div",{className:"timeline__content",children:[G("h2",{children:"2025 Q2"}),G("p",{children:"Token supply planning, expansion of the investor base, and announcement of new features."})]})}),G("div",{className:"timeline__item",children:he("div",{className:"timeline__content",children:[G("h2",{children:"2025 Q4"}),G("p",{children:"Listing EverVest token on major exchanges and executing large-scale marketing campaigns."})]})}),G("div",{className:"timeline__item",children:he("div",{className:"timeline__content",children:[G("h2",{children:"2025 Q6"}),G("p",{children:"Inclusion of initial users in the platform, initiation of first investment and funding processes."})]})}),G("div",{className:"timeline__item",children:he("div",{className:"timeline__content",children:[G("h2",{children:"2026"}),G("p",{children:"Integration of DAO governance system, expansion into global markets, and continuous ecosystem development."})]})})]})})})})})]})}),h0e=()=>G("section",{id:"contact-us",className:"overview-block-ptb iq-contact-us",children:G("div",{className:"container",children:G("div",{className:"row",children:he("div",{className:"col-lg-12",children:[he("div",{className:"heading-title center",children:[G("h2",{className:"title iq-tw-8",children:"Contact Us"}),G("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})]}),G("div",{className:"contact-form",children:he("form",{children:[G("div",{className:"form-group",children:G("input",{type:"text",className:"form-control",placeholder:"Your Name"})}),G("div",{className:"form-group",children:G("input",{type:"email",className:"form-control",placeholder:"Your Email"})}),G("div",{className:"form-group",children:G("textarea",{className:"form-control",rows:5,placeholder:"Your Message"})}),G("button",{type:"submit",className:"button",children:"Send Message"})]})}),he("ul",{className:"info-share",children:[G("li",{children:G("a",{href:"javascript:void(0)",children:G("i",{className:"fa fa-facebook"})})}),G("li",{children:G("a",{href:"javascript:void(0)",children:G("i",{className:"fa fa-twitter"})})}),G("li",{children:G("a",{href:"javascript:void(0)",children:G("i",{className:"fa fa-pinterest"})})}),G("li",{children:G("a",{href:"javascript:void(0)",children:G("i",{className:"fa fa-linkedin"})})}),G("li",{children:G("a",{href:"javascript:void(0)",children:G("i",{className:"fa fa-youtube"})})}),G("li",{children:G("a",{href:"javascript:void(0)",children:G("i",{className:"fa fa-google"})})}),G("li",{children:G("a",{href:"javascript:void(0)",children:G("i",{className:"fa fa-github"})})})]})]})})})}),f0e=()=>G("div",{className:"iq-our-clients iq-ptb-60 light-bg",children:G("div",{className:"container",children:G("div",{className:"row",children:G("div",{className:"col-lg-12 col-md-12",children:he("div",{className:"owl-carousel","data-autoplay":"true","data-loop":"true","data-nav":"false","data-dots":"false","data-items":"7","data-items-laptop":"6","data-items-tab":"5","data-items-mobile":"2","data-items-mobile-sm":"1","data-margin":"30",children:[G("div",{className:"item",children:G("a",{href:"clients.html",children:G("img",{className:"img-fluid center-block",src:"images/EverVest/binance.png",alt:"#"})})}),G("div",{className:"item",children:G("a",{href:"clients.html",children:G("img",{className:"img-fluid center-block",src:"images/EverVest/okex.png",alt:"#"})})}),G("div",{className:"item",children:G("a",{href:"clients.html",children:G("img",{className:"img-fluid center-block",src:"images/EverVest/metat.png",alt:"#"})})}),G("div",{className:"item",children:G("a",{href:"clients.html",children:G("img",{className:"img-fluid center-block",src:"images/EverVest/mexc1.png",alt:"#"})})}),G("div",{className:"item",children:G("a",{href:"clients.html",children:G("img",{className:"img-fluid center-block",src:"images/EverVest/uniswap.png",alt:"#"})})}),G("div",{className:"item",children:G("a",{href:"clients.html",children:G("img",{className:"img-fluid center-block",src:"images/EverVest/start.png",alt:"#"})})}),G("div",{className:"item",children:G("a",{href:"clients.html",children:G("img",{className:"img-fluid center-block",src:"images/EverVest/trastwallet.png",alt:"#"})})}),G("div",{className:"item",children:G("a",{href:"clients.html",children:G("img",{className:"img-fluid center-block",src:"images/EverVest/pancakeswap.png",alt:"#"})})}),G("div",{className:"item",children:G("a",{href:"clients.html",children:G("img",{className:"img-fluid center-block",src:"images/EverVest/htx.png",alt:"#"})})}),G("div",{className:"item",children:G("a",{href:"clients.html",children:G("img",{className:"img-fluid center-block",src:"images/EverVest/gateio.png",alt:"#"})})}),G("div",{className:"item",children:G("a",{href:"clients.html",children:G("img",{className:"img-fluid center-block",src:"images/EverVest/coinmarketcap.png",alt:"#"})})}),G("div",{className:"item",children:G("a",{href:"clients.html",children:G("img",{className:"img-fluid center-block",src:"images/EverVest/aws.png",alt:"#"})})})]})})})})}),p0e=()=>G("section",{className:"overview-block-ptb",children:G("div",{className:"container",children:he("div",{className:"row",children:[G("div",{className:"col-lg-6 align-self-center",children:G("img",{src:"public/images/EverVest/our.jpg",className:"img-fluid",alt:"Our Mission"})}),he("div",{className:"col-lg-6 align-self-center mt-5 mt-lg-0",children:[he("div",{className:"heading-title left",children:[G("small",{className:"iq-font-green",children:"Mission"}),G("h2",{className:"",children:"Our EverVest Mission"})]}),G("p",{children:"EverVest leverages the power of blockchain technology to offer a decentralized, transparent, and secure individual retirement system. We eliminate the high commissions, limited access, and manipulation risks of traditional systems, providing you with flexible investment options, secure funding, and sustainable returns."}),G("p",{children:"With smart contracts and a DAO governance model, we ensure full transparency and auditability, enabling you to manage your investments in a secure, independent, and profitable way. Through staking opportunities, professional advisory services, and a user-friendly platform, EverVest invites you to build long-term financial freedom. Join the future of retirement systems and start securing your financial independence today."})]})]})})}),m0e=()=>G("section",{className:"iq-tranding-Platform overview-block-pt pt-0",children:he("div",{className:"container",children:[G("div",{className:"row",children:G("div",{className:"col-sm-12",children:he("div",{className:"heading-title",children:[G("small",{className:"iq-font-green",children:"Features"}),G("h2",{className:"title",children:"Blockchain Integration and Decentralization"}),G("p",{children:"Smart Contracts: All fund transactions will be conducted transparently and verifiably through smart contracts."}),G("p",{children:"DAO (Decentralized Autonomous Organization): A community-driven management system may be implemented."}),G("p",{children:"Security: Funds will be secured in decentralized wallets and smart contracts."}),G("p",{children:"Transparency and Auditing: Users can view transaction histories on the blockchain to monitor the systems operations."})]})})}),G("div",{className:"row",children:G("div",{className:"col-sm-12",children:he("div",{className:"light-bg",children:[G("nav",{children:he("div",{className:"nav nav-tabs",id:"nav-tab",role:"tablist",children:[he("a",{className:"nav-item nav-link",id:"nav-home-tab","data-bs-toggle":"tab",href:"#nav-home",role:"tab","aria-controls":"nav-home","aria-selected":"true",children:[G("i",{className:"la la-btc"}),G("span",{children:"EverVests Background and Current Status"})]}),he("a",{className:"nav-item nav-link active",id:"nav-profile-tab","data-bs-toggle":"tab",href:"#nav-profile",role:"tab","aria-controls":"nav-profile","aria-selected":"false",children:[G("i",{className:"la la-gg-circle"}),G("span",{children:"EverVest System Mechanism"})]}),he("a",{className:"nav-item nav-link",id:"nav-app-tab","data-bs-toggle":"tab",href:"#nav-app",role:"tab","aria-controls":"nav-app","aria-selected":"false",children:[G("i",{className:"la la-mobile"}),G("span",{children:"EVERVEST TOKEN ECONOMY (TOKENOMICS)"})]}),he("a",{className:"nav-item nav-link",id:"nav-token-tab","data-bs-toggle":"tab",href:"#nav-token",role:"tab","aria-controls":"nav-token","aria-selected":"false",children:[G("i",{className:"la la-usd"}),G("span",{children:"EVERVEST REVENUE MODEL AND COMMISSIONS"})]}),he("a",{className:"nav-item nav-link",id:"nav-contact-tab","data-bs-toggle":"tab",href:"#nav-contact",role:"tab","aria-controls":"nav-contact","aria-selected":"false",children:[G("i",{className:"la la-eur"}),G("span",{children:"EVERVEST: Security"})]})]})}),he("div",{className:"tab-content iq-mt-50",id:"nav-tabContent",children:[G("div",{className:"tab-pane fade",id:"nav-home",role:"tabpanel","aria-labelledby":"nav-home-tab",children:he("div",{className:"row",children:[G("div",{className:"col-lg-6",children:G("img",{className:"img-fluid",src:"public/images/EverVest/ee.png",alt:"#"})}),he("div",{className:"col-lg-6 align-self-center",children:[G("h3",{className:"iq-mb-15",children:"EverVests Background and Current Status"}),G("p",{}),he("ul",{children:[he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"The development of the EverVest project began in 2021."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"In 2022, the system became fully operational and was made available to our users."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"Our decentralized retirement system project is under development and will be launched soon."]})]})]})]})}),G("div",{className:"tab-pane fade show active",id:"nav-profile",role:"tabpanel","aria-labelledby":"nav-profile-tab",children:he("div",{className:"row",children:[G("div",{className:"col-lg-6",children:G("img",{className:"img-fluid",src:"public/images/EverVest/def.jpg",alt:"#"})}),he("div",{className:"col-lg-6 align-self-center",children:[G("h3",{className:"iq-mb-15",children:"EverVest System Mechanism"}),G("p",{}),he("ul",{children:[he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"Maturity Options: Minimum 1 year, maximum 4 years."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"Investment Amounts: Minimum $1,000 - Maximum $100,000."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"Monthly Returns: 7% of the investment amount will be reflected as cash in the system and can be used for funding."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"Funding: Can be conducted through individual or professional investment advisors."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"Return Distribution: Investors can manage their portfolios individually or professionally and receive returns transparently via smart contracts."]})]})]})]})}),G("div",{className:"tab-pane fade",id:"nav-app",role:"tabpanel","aria-labelledby":"nav-app-tab",children:he("div",{className:"row",children:[G("div",{className:"col-lg-6",children:G("img",{className:"img-fluid",src:"public/images/EverVest/token.png",alt:"#"})}),he("div",{className:"col-lg-6 align-self-center",children:[G("h3",{className:"iq-mb-15",children:"EVERVEST TOKEN ECONOMY (TOKENOMICS)"}),G("p",{}),he("ul",{children:[he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"1st Presale: 10% of tokens will be offered at $0.002 per unit."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"2nd Presale: 15% of tokens will be offered at $0.005 per unit."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"3rd Presale: 25% of tokens will be offered at $0.02 per unit."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"Airdrop Process: Will be conducted in 28-day cycles."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"Exchange Listings: Planned for July 2025 on Binance, Gate.io, PancakeSwap, and similar exchanges."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"Staking Benefits: EverVest token holders can earn passive income through staking."]})]})]})]})}),G("div",{className:"tab-pane fade",id:"nav-token",role:"tabpanel","aria-labelledby":"nav-token-tab",children:he("div",{className:"row",children:[G("div",{className:"col-lg-6",children:G("img",{className:"img-fluid",src:"public/images/EverVest/yap.jpg",alt:"#"})}),he("div",{className:"col-lg-6 align-self-center",children:[G("h3",{className:"iq-mb-15",children:"EVERVEST REVENUE MODEL AND COMMISSIONS"}),G("p",{}),he("ul",{children:[he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"Commission Deductions: 90% of collected commission fees will be returned to users. To sustain the system, 10% will be held on the blockchain."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"Professional Investment Advisors: Users can entrust their assets to professionals based on designated fund strategies."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"Sustainability: The platform will offer a dynamic revenue-sharing model to ensure users earn long-term income."]})]})]})]})}),G("div",{className:"tab-pane fade",id:"nav-contact",role:"tabpanel","aria-labelledby":"nav-contact-tab",children:he("div",{className:"row",children:[G("div",{className:"col-lg-6",children:G("img",{className:"img-fluid",src:"public/images/EverVest/sc.png",alt:"#"})}),he("div",{className:"col-lg-6 align-self-center",children:[G("h3",{className:"iq-mb-15",children:"EVERVEST: Security"}),G("p",{children:"Security is a cornerstone of EverVest. The system employs the following advanced cryptographic techniques to secure transactions, validate blocks, and protect against malicious activities:"}),he("ul",{children:[he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"Public/Private Key Encryption: EverVest uses asymmetric encryption for transaction signing and validation. Each participant has a private key for signing transactions and a public key for others to verify those signatures."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"Hashing: Blocks and transactions are hashed using a secure cryptographic algorithm (e.g., SHA-256) to ensure data integrity and prevent tampering."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"Proof of Work (PoW): EverVest employs a PoW-based consensus mechanism. Miners solve cryptographic puzzles to validate new blocks and add them to the EVST, ensuring the network is resistant to attacks such as double-spending or 51% attacks."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"DDoS Protection: Mechanisms such as rate-limiting and anti-spam filtering are built into the network layer to prevent Distributed Denial-of-Service (DDoS) attacks."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"Sybil Attack Resistance: By requiring proof of computational work, EverVest resists Sybil attacks, where an attacker tries to flood the network with fake traffic."]})]}),G("br",{}),G("p",{children:"EverVest's security is built on the GHOSTEVST protocol, which is used to generate and order blocks. This protocol allows miners to produce blocks in parallel and ensures that the network can distinguish between blocks mined by honest miners and those possibly mined by dishonest ones."}),he("ul",{children:[he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"A block that is strongly connected to previously verified honest blocks is highly likely to be honest."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"A block that is only weakly connected to honest blocks is likely to be dishonest."]}),he("li",{children:[G("i",{className:"la la-arrow-right iq-mr-10"}),"The PHANTOM protocol converts the partial order of blocks into a total order that all honest observers will agree on, ensuring the chain's stability."]})]})]})]})})]})]})})})]})}),g0e=()=>G("section",{className:"overview-block-ptb device-blog",children:G("div",{className:"container",children:he("div",{className:"row",children:[he("div",{className:"col-sm-12",children:[he("h2",{className:"",children:["BlokChain: ",G("span",{className:"iq-font-yellow",children:"EverVests EVST Structure"})]}),G("p",{className:"iq-mt-25",children:"EverVest supports an EVST-based ledger using a version of the Phantom GhostEVST protocol. Simply put, a block is added to the ledger once it becomes sufficiently connected to previous blocks, and its permanence is highly likely to be guaranteed. As the EVST grows, the GhostEVST algorithm ensures that a universally accepted linear ordering of blocks eventually emerges."})]}),G("div",{className:"col-lg-6 col-md-12",children:G("img",{className:"img-fluid mx-auto d-block iq-mt-10",src:"public/images/EverVest/block.jpg",alt:"icon1"})}),he("div",{className:"col-lg-6 col-md-12 about-box align-self-center",children:[G("blockquote",{className:"iq-mt-20 dark-bg iq-pall-30 font-italic",children:"EverVest is fully compatible with the Ethereum Virtual Machine (EVM), enabling seamless integration and deployment of Ethereum-based smart contracts. This compatibility allows developers familiar with Solidity and other Ethereum-compatible programming languages to easily build and deploy decentralized applications (dApps) on the EverVest network. Developers can port existing Ethereum dApps and tokens to EverVest with minimal changes."}),G("p",{className:"iq-mt-10 font-weight-bold",children:"EverVest also supports popular Ethereum development tools like Truffle, Remix, MetaMask, and Hardhat, making the development and deployment process easier. EverVest supports Ethereum token standards such as ERC-20 (fungible tokens) and ERC-721 (non-fungible tokens), facilitating token issuance and smart contract functionality."})]})]})})}),y0e=()=>G("section",{id:"token",className:"iq-Tranding-platform light-bg overview-block-ptb",children:he("div",{className:"container",children:[G("div",{className:"row",children:G("div",{className:"col-sm-12",children:he("div",{className:"heading-title",children:[G("small",{className:"iq-font-green",children:"Token"}),G("h2",{className:"title",children:"Token Sale"}),G("p",{children:"As EverVest Token, we bring an innovative perspective to the decentralized individual retirement system, aiming to provide investors with a sustainable, secure, and profitable financial future. Our roadmap transparently outlines the growth of our project, community development, and strategic steps."})]})})}),he("div",{className:"row",children:[G("div",{className:"col-lg-6",children:G("div",{className:"table-responsive",children:G("table",{className:"table table-bordered",children:he("tbody",{children:[he("tr",{children:[G("td",{children:"Token Name:"}),G("td",{children:"EverVest (EVST)"})]}),he("tr",{children:[G("td",{children:"Token Platform:"}),G("td",{children:"Polygon PoS Chain (POL)"})]}),he("tr",{children:[G("td",{children:"Token Standard:"}),G("td",{children:"POL"})]}),he("tr",{children:[G("td",{children:"Max. Supply (Hard Cap):"}),G("td",{children:"100,000,000,000"})]}),he("tr",{children:[G("td",{children:"Available for Purchase:"}),G("td",{children:"50,000,000,000"})]})]})})})}),G("div",{className:"col-lg-6",children:G("div",{className:"table-responsive",children:G("table",{className:"table table-bordered",children:he("tbody",{children:[he("tr",{children:[G("td",{children:"Pre-Sale Stage 1"}),G("td",{children:"1-04-2025 : 1 EverVest ~ $0.002"})]}),he("tr",{children:[G("td",{children:"Pre-Sale Stage 2"}),G("td",{children:"15-05-2025 : 1 EverVest ~ $0.005"})]}),he("tr",{children:[G("td",{children:"Pre-Sale Stage 3"}),G("td",{children:"15-06-2025 : 1 EverVest ~ $0.02"})]}),he("tr",{children:[G("td",{children:"Main ICO"}),G("td",{children:"15-11-2025 : 1 EverVest ~ $0.05"})]}),he("tr",{children:[G("td",{children:"Emission Rate:"}),G("td",{children:"No period"})]})]})})})}),G("div",{className:"col-sm-12 iq-mt-60",children:he("div",{className:"heading-title",children:[G("h2",{className:"title",children:"Token Sale Proceeds"}),G("p",{children:"Lorem Ipsum is simply dummy text ever sincehar the 1500s, when an unknownshil printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries."})]})}),G("div",{className:"col-sm-12",children:G("div",{id:"chartdiv"})})]})]})}),v0e=()=>he(t2,{children:[G(a0e,{}),G(l0e,{}),G(f0e,{}),G(u0e,{}),G(p0e,{}),G(m0e,{}),G(g0e,{}),G(y0e,{}),G(d0e,{}),G(h0e,{})]}),w0e=new ez,b0e={projectId:jD,networks:Sm,metadata:qde,themeMode:"dark",themeVariables:{"--w3m-accent":"#f9b707","--w3m-color-mixed":"#f9b707","--w3m-color-primary":"#f9b707"}};Xue({adapters:[QS],defaultNetwork:bD,...b0e,features:{analytics:!0,connectMethodsOrder:["wallet"]}});function E0e(){return G(Tq,{config:QS.wagmiConfig,children:G(gz,{client:w0e,children:G(aF,{basename:"/",children:G("div",{className:"pages",children:he(FU,{children:[G(yA,{path:"/",element:G(v0e,{})}),G(yA,{path:"/purchase",element:G(o0e,{sendHash:t=>console.log("Transaction hash:",t),sendSignMsg:t=>console.log("Signed message:",t),sendBalance:t=>console.log("Balance:",t)})})]})})})})})}GL.createRoot(document.getElementById("root")).render(G(se.StrictMode,{children:G(E0e,{})}));export{da as $,We as A,tt as B,lt as C,qae as D,tD as E,go as F,Mye as G,Pye as H,G2 as I,Ev as J,bm as K,pd as L,pn as M,xy as N,_e as O,Un as P,Oye as Q,sr as R,Jn as S,pi as T,hD as U,Q2 as V,fn as W,wf as X,R0e as Y,Tu as Z,Ji as _,Av as a,zm as a0,Et as a1,bn as a2,Hw as a3,be as a4,BC as a5,Bs as a6,Aj as a7,lV as a8,rO as a9,Ku as aa,u8 as ab,pm as ac,ic as ad,P0e as ae,N0e as af,aB as ag,t8 as ah,T0e as ai,OC as aj,Dv as ak,Fg as al,x0e as am,mq as an,D9 as ao,tb as ap,kw as aq,hH as ar,ea as as,fq as at,Cn as b,Ee as c,it as d,Ir as e,Dye as f,Ya as g,ys as h,zh as i,ee as j,Sr as k,Vr as l,Iue as m,Be as n,m6 as o,UO as p,Kr as q,kye as r,Bh as s,p6 as t,ns as u,wi as v,L0e as w,Nye as x,mt as y,U0e as z};
